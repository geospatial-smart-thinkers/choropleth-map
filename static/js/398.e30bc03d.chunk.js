/*! For license information please see 398.e30bc03d.chunk.js.LICENSE.txt */
(self.webpackChunkgeoapp=self.webpackChunkgeoapp||[]).push([[398],{3361:function(t,e,n){"use strict";n.d(e,{Z:function(){return it}});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function s(t){return t.trim()}function l(t,e,n){return t.replace(e,n)}function u(t,e){return t.indexOf(e)}function c(t,e){return 0|t.charCodeAt(e)}function h(t,e,n){return t.slice(e,n)}function f(t){return t.length}function A(t){return t.length}function d(t,e){return e.push(t),t}var p=1,m=1,v=0,g=0,y=0,b="";function _(t,e,n,r,i,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:p,column:m,length:o,return:""}}function x(t,e){return o(_("",null,null,"",null,null,0),t,{length:-t.length},e)}function w(){return y=g>0?c(b,--g):0,m--,10===y&&(m=1,p--),y}function S(){return y=g<v?c(b,g++):0,m++,10===y&&(m=1,p++),y}function M(){return c(b,g)}function E(){return g}function T(t,e){return h(b,t,e)}function P(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k(t){return p=m=1,v=f(b=t),g=0,[]}function L(t){return b="",t}function C(t){return s(T(g-1,O(91===t?t+2:40===t?t+1:t)))}function R(t){for(;(y=M())&&y<33;)S();return P(t)>2||P(y)>3?"":" "}function N(t,e){for(;--e&&S()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return T(t,E()+(e<6&&32==M()&&32==S()))}function O(t){for(;S();)switch(y){case t:return g;case 34:case 39:34!==t&&39!==t&&O(y);break;case 40:41===t&&O(t);break;case 92:S()}return g}function I(t,e){for(;S()&&t+y!==57&&(t+y!==84||47!==M()););return"/*"+T(e,g-1)+"*"+a(47===t?t:S())}function D(t){for(;!P(M());)S();return T(t,g)}var B="-ms-",q="-moz-",F="-webkit-",U="comm",z="rule",Z="decl",j="@keyframes";function H(t,e){for(var n="",r=A(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function G(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case Z:return t.return=t.return||t.value;case U:return"";case j:return t.return=t.value+"{"+H(t.children,r)+"}";case z:t.value=t.props.join(",")}return f(n=H(t.children,r))?t.return=t.value+"{"+n+"}":""}function V(t){return L(W("",null,null,null,[""],t=k(t),0,[0],t))}function W(t,e,n,r,i,o,s,h,A){for(var p=0,m=0,v=s,g=0,y=0,b=0,_=1,x=1,T=1,P=0,k="",L=i,O=o,B=r,q=k;x;)switch(b=P,P=S()){case 40:if(108!=b&&58==c(q,v-1)){-1!=u(q+=l(C(P),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:q+=C(P);break;case 9:case 10:case 13:case 32:q+=R(b);break;case 92:q+=N(E()-1,7);continue;case 47:switch(M()){case 42:case 47:d(Y(I(S(),E()),e,n),A);break;default:q+="/"}break;case 123*_:h[p++]=f(q)*T;case 125*_:case 59:case 0:switch(P){case 0:case 125:x=0;case 59+m:-1==T&&(q=l(q,/\f/g,"")),y>0&&f(q)-v&&d(y>32?Q(q+";",r,n,v-1):Q(l(q," ","")+";",r,n,v-2),A);break;case 59:q+=";";default:if(d(B=X(q,e,n,p,m,i,h,k,L=[],O=[],v),o),123===P)if(0===m)W(q,e,B,B,L,o,v,h,O);else switch(99===g&&110===c(q,3)?100:g){case 100:case 108:case 109:case 115:W(t,B,B,r&&d(X(t,B,B,0,0,i,h,k,i,L=[],v),O),i,O,v,h,r?L:O);break;default:W(q,B,B,B,[""],O,0,h,O)}}p=m=y=0,_=T=1,k=q="",v=s;break;case 58:v=1+f(q),y=b;default:if(_<1)if(123==P)--_;else if(125==P&&0==_++&&125==w())continue;switch(q+=a(P),P*_){case 38:T=m>0?1:(q+="\f",-1);break;case 44:h[p++]=(f(q)-1)*T,T=1;break;case 64:45===M()&&(q+=C(S())),g=M(),m=v=f(k=q+=D(E())),P++;break;case 45:45===b&&2==f(q)&&(_=0)}}return o}function X(t,e,n,r,a,o,u,c,f,d,p){for(var m=a-1,v=0===a?o:[""],g=A(v),y=0,b=0,x=0;y<r;++y)for(var w=0,S=h(t,m+1,m=i(b=u[y])),M=t;w<g;++w)(M=s(b>0?v[w]+" "+S:l(S,/&\f/g,v[w])))&&(f[x++]=M);return _(t,e,n,0===a?z:c,f,d,p)}function Y(t,e,n){return _(t,e,n,U,a(y),h(t,2,-2),0)}function Q(t,e,n,r){return _(t,e,n,Z,h(t,0,r),h(t,r+1,-1),r)}var K=function(t,e,n){for(var r=0,i=0;r=i,i=M(),38===r&&12===i&&(e[n]=1),!P(i);)S();return T(t,g)},J=function(t,e){return L(function(t,e){var n=-1,r=44;do{switch(P(r)){case 0:38===r&&12===M()&&(e[n]=1),t[n]+=K(g-1,e,n);break;case 2:t[n]+=C(r);break;case 4:if(44===r){t[++n]=58===M()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=a(r)}}while(r=S());return t}(k(t),e))},$=new WeakMap,tt=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||$.get(n))&&!r){$.set(t,!0);for(var i=[],a=J(e,i),o=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)t.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function nt(t,e){switch(function(t,e){return 45^c(t,0)?(((e<<2^c(t,0))<<2^c(t,1))<<2^c(t,2))<<2^c(t,3):0}(t,e)){case 5103:return F+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return F+t+q+t+B+t+t;case 6828:case 4268:return F+t+B+t+t;case 6165:return F+t+B+"flex-"+t+t;case 5187:return F+t+l(t,/(\w+).+(:[^]+)/,F+"box-$1$2"+B+"flex-$1$2")+t;case 5443:return F+t+B+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return F+t+B+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return F+t+B+l(t,"shrink","negative")+t;case 5292:return F+t+B+l(t,"basis","preferred-size")+t;case 6060:return F+"box-"+l(t,"-grow","")+F+t+B+l(t,"grow","positive")+t;case 4554:return F+l(t,/([^-])(transform)/g,"$1"+F+"$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+B+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,F+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(t)-1-e>6)switch(c(t,e+1)){case 109:if(45!==c(t,e+4))break;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+q+(108==c(t,e+3)?"$3":"$2-$3"))+t;case 115:return~u(t,"stretch")?nt(l(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==c(t,e+1))break;case 6444:switch(c(t,f(t)-3-(~u(t,"!important")&&10))){case 107:return l(t,":",":"+F)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===c(t,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+B+"$2box$3")+t}break;case 5936:switch(c(t,e+11)){case 114:return F+t+B+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return F+t+B+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return F+t+B+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return F+t+B+t+t}return t}var rt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Z:t.return=nt(t.value,t.length);break;case j:return H([x(t,{value:l(t.value,"@","@"+F)})],r);case z:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([x(t,{props:[l(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([x(t,{props:[l(e,/:(plac\w+)/,":"+F+"input-$1")]}),x(t,{props:[l(e,/:(plac\w+)/,":-moz-$1")]}),x(t,{props:[l(e,/:(plac\w+)/,B+"input-$1")]})],r)}return""}))}}],it=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||rt;var a,o,s={},l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;l.push(t)}));var u,c,h=[G,(c=function(t){u.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],f=function(t){var e=A(t);return function(n,r,i,a){for(var o="",s=0;s<e;s++)o+=t[s](n,r,i,a)||"";return o}}([tt,et].concat(i,h));o=function(t,e,n,r){u=n,H(V(t?t+"{"+e.styles+"}":e.styles),f),r&&(d.inserted[e.name]=!0)};var d={key:e,sheet:new r({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(l),d}},9797:function(t,e,n){"use strict";function r(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}n.d(e,{Z:function(){return r}})},2564:function(t,e,n){"use strict";n.d(e,{T:function(){return l},i:function(){return a},w:function(){return s}});var r=n(2791),i=n(3361),a=(n(9140),n(2561),!0),o=r.createContext("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);o.Provider;var s=function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(o);return t(e,i,n)}))};a||(s=function(t){return function(e){var n=(0,r.useContext)(o);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(o.Provider,{value:n},t(e,n))):t(e,n)}});var l=r.createContext({})},2554:function(t,e,n){"use strict";n.d(e,{F4:function(){return c},xB:function(){return l}});var r=n(2564),i=n(2791),a=n(5438),o=n(2561),s=n(9140),l=(n(3361),n(2110),(0,r.w)((function(t,e){var n=t.styles,l=(0,s.O)([n],void 0,i.useContext(r.T));if(!r.i){for(var u,c=l.name,h=l.styles,f=l.next;void 0!==f;)c+=" "+f.name,h+=f.styles,f=f.next;var A=!0===e.compat,d=e.insert("",{name:c,styles:h},e.sheet,A);return A?null:i.createElement("style",((u={})["data-emotion"]=e.key+"-global "+c,u.dangerouslySetInnerHTML={__html:d},u.nonce=e.sheet.nonce,u))}var p=i.useRef();return(0,o.j)((function(){var t=e.key+"-global",n=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+t+" "+l.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",t),n.hydrate([i])),p.current=[n,r],function(){n.flush()}}),[e]),(0,o.j)((function(){var t=p.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==l.next&&(0,a.My)(e,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}e.insert("",l,n,!1)}}),[e,l.name]),null})));function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.O)(e)}var c=function(){var t=u.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},9140:function(t,e,n){"use strict";n.d(e,{O:function(){return d}});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(9797),a=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(t){return 45===t.charCodeAt(1)},l=function(t){return null!=t&&"boolean"!==typeof t},u=(0,i.Z)((function(t){return s(t)?t:t.replace(a,"-$&").toLowerCase()})),c=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(o,(function(t,e,n){return f={name:e,styles:n,next:f},e}))}return 1===r[t]||s(t)||"number"!==typeof e||0===e?e:e+"px"};function h(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(t,e,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=e&&void 0!==e[o]?r+=a+"{"+e[o]+"}":l(o)&&(r+=u(a)+":"+c(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=e&&void 0!==e[o[0]]){var s=h(t,e,o);switch(a){case"animation":case"animationName":r+=u(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var f=0;f<o.length;f++)l(o[f])&&(r+=u(a)+":"+c(a,o[f])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=f,a=n(t);return f=i,h(t,e,a)}}if(null==e)return n;var o=e[n];return void 0!==o?o:n}var f,A=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var d=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";f=void 0;var a=t[0];null==a||void 0===a.raw?(r=!1,i+=h(n,e,a)):i+=a[0];for(var o=1;o<t.length;o++)i+=h(n,e,t[o]),r&&(i+=a[o]);A.lastIndex=0;for(var s,l="";null!==(s=A.exec(i));)l+="-"+s[1];var u=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:f}}},2561:function(t,e,n){"use strict";var r;n.d(e,{L:function(){return o},j:function(){return s}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(t){return t()},s=a||i.useLayoutEffect},5438:function(t,e,n){"use strict";n.d(e,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var i=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},a=function(t,e,n){i(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var a=e;do{t.insert(e===a?"."+r:"",a,t.sheet,!0),a=a.next}while(void 0!==a)}}},6174:function(t,e,n){"use strict";var r=n(9439),i=n(2791),a=n(4164),o=n(6117),s=n(2876),l=n(2971),u=n(184);var c=i.forwardRef((function(t,e){var n=t.children,c=t.container,h=t.disablePortal,f=void 0!==h&&h,A=i.useState(null),d=(0,r.Z)(A,2),p=d[0],m=d[1],v=(0,o.Z)(i.isValidElement(n)?n.ref:null,e);if((0,s.Z)((function(){f||m(function(t){return"function"===typeof t?t():t}(c)||document.body)}),[c,f]),(0,s.Z)((function(){if(p&&!f)return(0,l.Z)(e,p),function(){(0,l.Z)(e,null)}}),[e,p,f]),f){if(i.isValidElement(n)){var g={ref:v};return i.cloneElement(n,g)}return(0,u.jsx)(i.Fragment,{children:n})}return(0,u.jsx)(i.Fragment,{children:p?a.createPortal(n,p):p})}));e.Z=c},6826:function(t,e,n){"use strict";n.d(e,{T:function(){return o}});var r=n(2791),i=(n(184),{disableDefaultClasses:!1}),a=r.createContext(i);function o(t){var e=r.useContext(a).disableDefaultClasses;return function(n){return e?"":t(n)}}},627:function(t,e,n){"use strict";function r(t){return"string"===typeof t}n.d(e,{Z:function(){return r}})},1503:function(t,e,n){"use strict";function r(t,e){return"function"===typeof t?t(e):t}n.d(e,{Z:function(){return r}})},8069:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(7462),i=n(3366),a=n(6117),o=n(627);var s=n(8182);function l(t){if(void 0===t)return{};var e={};return Object.keys(t).filter((function(e){return!(e.match(/^on[A-Z]/)&&"function"===typeof t[e])})).forEach((function(n){e[n]=t[n]})),e}function u(t){var e=t.getSlotProps,n=t.additionalProps,i=t.externalSlotProps,a=t.externalForwardedProps,o=t.className;if(!e){var u=(0,s.Z)(null==a?void 0:a.className,null==i?void 0:i.className,o,null==n?void 0:n.className),c=(0,r.Z)({},null==n?void 0:n.style,null==a?void 0:a.style,null==i?void 0:i.style),h=(0,r.Z)({},n,a,i);return u.length>0&&(h.className=u),Object.keys(c).length>0&&(h.style=c),{props:h,internalRef:void 0}}var f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};var n={};return Object.keys(t).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof t[n]&&!e.includes(n)})).forEach((function(e){n[e]=t[e]})),n}((0,r.Z)({},a,i)),A=l(i),d=l(a),p=e(f),m=(0,s.Z)(null==p?void 0:p.className,null==n?void 0:n.className,o,null==a?void 0:a.className,null==i?void 0:i.className),v=(0,r.Z)({},null==p?void 0:p.style,null==n?void 0:n.style,null==a?void 0:a.style,null==i?void 0:i.style),g=(0,r.Z)({},p,n,d,A);return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:p.ref}}var c=n(1503),h=["elementType","externalSlotProps","ownerState"];function f(t){var e,n=t.elementType,s=t.externalSlotProps,l=t.ownerState,f=(0,i.Z)(t,h),A=(0,c.Z)(s,l),d=u((0,r.Z)({},f,{externalSlotProps:A})),p=d.props,m=d.internalRef,v=(0,a.Z)(m,null==A?void 0:A.ref,null==(e=t.additionalProps)?void 0:e.ref),g=function(t,e,n){return void 0===t||(0,o.Z)(t)?e:(0,r.Z)({},e,{ownerState:(0,r.Z)({},e.ownerState,n)})}(n,(0,r.Z)({},p,{ref:v}),l);return g}},5956:function(t,e,n){"use strict";n.d(e,{Z:function(){return Hn}});var r=n(4942),i=n(3366),a=n(7462),o=n(2791),s=n(8182),l=n(4419),u=n(9439),c=n(8252),h=n(8637),f=function(t){var e=o.useRef({});return o.useEffect((function(){e.current=t})),e.current},A=n(7054),d=n(2971);function p(t){return"undefined"!==typeof t.normalize?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function m(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ignoreAccents,n=void 0===e||e,r=t.ignoreCase,i=void 0===r||r,a=t.limit,o=t.matchFrom,s=void 0===o?"any":o,l=t.stringify,u=t.trim,c=void 0!==u&&u;return function(t,e){var r=e.inputValue,o=e.getOptionLabel,u=c?r.trim():r;i&&(u=u.toLowerCase()),n&&(u=p(u));var h=u?t.filter((function(t){var e=(l||o)(t);return i&&(e=e.toLowerCase()),n&&(e=p(e)),"start"===s?0===e.indexOf(u):e.indexOf(u)>-1})):t;return"number"===typeof a?h.slice(0,a):h}}(),g=function(t){var e;return null!==t.current&&(null==(e=t.current.parentElement)?void 0:e.contains(document.activeElement))};function y(t){var e,n=t.unstable_isActiveElementInListbox,r=void 0===n?g:n,i=t.unstable_classNamePrefix,s=void 0===i?"Mui":i,l=t.autoComplete,p=void 0!==l&&l,y=t.autoHighlight,b=void 0!==y&&y,_=t.autoSelect,x=void 0!==_&&_,w=t.blurOnSelect,S=void 0!==w&&w,M=t.clearOnBlur,E=void 0===M?!t.freeSolo:M,T=t.clearOnEscape,P=void 0!==T&&T,k=t.componentName,L=void 0===k?"useAutocomplete":k,C=t.defaultValue,R=void 0===C?t.multiple?[]:null:C,N=t.disableClearable,O=void 0!==N&&N,I=t.disableCloseOnSelect,D=void 0!==I&&I,B=t.disabled,q=t.disabledItemsFocusable,F=void 0!==q&&q,U=t.disableListWrap,z=void 0!==U&&U,Z=t.filterOptions,j=void 0===Z?v:Z,H=t.filterSelectedOptions,G=void 0!==H&&H,V=t.freeSolo,W=void 0!==V&&V,X=t.getOptionDisabled,Y=t.getOptionLabel,Q=void 0===Y?function(t){var e;return null!=(e=t.label)?e:t}:Y,K=t.groupBy,J=t.handleHomeEndKeys,$=void 0===J?!t.freeSolo:J,tt=t.id,et=t.includeInputInList,nt=void 0!==et&&et,rt=t.inputValue,it=t.isOptionEqualToValue,at=void 0===it?function(t,e){return t===e}:it,ot=t.multiple,st=void 0!==ot&&ot,lt=t.onChange,ut=t.onClose,ct=t.onHighlightChange,ht=t.onInputChange,ft=t.onOpen,At=t.open,dt=t.openOnFocus,pt=void 0!==dt&&dt,mt=t.options,vt=t.readOnly,gt=void 0!==vt&&vt,yt=t.selectOnFocus,bt=void 0===yt?!t.freeSolo:yt,_t=t.value,xt=(0,c.Z)(tt);e=function(t){var e=Q(t);return"string"!==typeof e?String(e):e};var wt=o.useRef(!1),St=o.useRef(!0),Mt=o.useRef(null),Et=o.useRef(null),Tt=o.useState(null),Pt=(0,u.Z)(Tt,2),kt=Pt[0],Lt=Pt[1],Ct=o.useState(-1),Rt=(0,u.Z)(Ct,2),Nt=Rt[0],Ot=Rt[1],It=b?0:-1,Dt=o.useRef(It),Bt=(0,h.Z)({controlled:_t,default:R,name:L}),qt=(0,u.Z)(Bt,2),Ft=qt[0],Ut=qt[1],zt=(0,h.Z)({controlled:rt,default:"",name:L,state:"inputValue"}),Zt=(0,u.Z)(zt,2),jt=Zt[0],Ht=Zt[1],Gt=o.useState(!1),Vt=(0,u.Z)(Gt,2),Wt=Vt[0],Xt=Vt[1],Yt=o.useCallback((function(t,n){if((st?Ft.length<n.length:null!==n)||E){var r;if(st)r="";else if(null==n)r="";else{var i=e(n);r="string"===typeof i?i:""}jt!==r&&(Ht(r),ht&&ht(t,r,"reset"))}}),[e,jt,st,ht,Ht,E,Ft]),Qt=(0,h.Z)({controlled:At,default:!1,name:L,state:"open"}),Kt=(0,u.Z)(Qt,2),Jt=Kt[0],$t=Kt[1],te=o.useState(!0),ee=(0,u.Z)(te,2),ne=ee[0],re=ee[1],ie=!st&&null!=Ft&&jt===e(Ft),ae=Jt&&!gt,oe=ae?j(mt.filter((function(t){return!G||!(st?Ft:[Ft]).some((function(e){return null!==e&&at(t,e)}))})),{inputValue:ie&&ne?"":jt,getOptionLabel:e}):[],se=f({filteredOptions:oe,value:Ft,inputValue:jt});o.useEffect((function(){var t=Ft!==se.value;Wt&&!t||W&&!t||Yt(null,Ft)}),[Ft,Yt,Wt,se.value,W]);var le=Jt&&oe.length>0&&!gt,ue=(0,A.Z)((function(t){-1===t?Mt.current.focus():kt.querySelector('[data-tag-index="'.concat(t,'"]')).focus()}));o.useEffect((function(){st&&Nt>Ft.length-1&&(Ot(-1),ue(-1))}),[Ft,st,Nt,ue]);var ce=(0,A.Z)((function(t){var e=t.event,n=t.index,r=t.reason,i=void 0===r?"auto":r;if(Dt.current=n,-1===n?Mt.current.removeAttribute("aria-activedescendant"):Mt.current.setAttribute("aria-activedescendant","".concat(xt,"-option-").concat(n)),ct&&ct(e,-1===n?null:oe[n],i),Et.current){var a=Et.current.querySelector('[role="option"].'.concat(s,"-focused"));a&&(a.classList.remove("".concat(s,"-focused")),a.classList.remove("".concat(s,"-focusVisible")));var o=Et.current;if("listbox"!==Et.current.getAttribute("role")&&(o=Et.current.parentElement.querySelector('[role="listbox"]')),o)if(-1!==n){var l=Et.current.querySelector('[data-option-index="'.concat(n,'"]'));if(l&&(l.classList.add("".concat(s,"-focused")),"keyboard"===i&&l.classList.add("".concat(s,"-focusVisible")),o.scrollHeight>o.clientHeight&&"mouse"!==i)){var u=l,c=o.clientHeight+o.scrollTop,h=u.offsetTop+u.offsetHeight;h>c?o.scrollTop=h-o.clientHeight:u.offsetTop-u.offsetHeight*(K?1.3:0)<o.scrollTop&&(o.scrollTop=u.offsetTop-u.offsetHeight*(K?1.3:0))}}else o.scrollTop=0}})),he=(0,A.Z)((function(t){var n=t.event,r=t.diff,i=t.direction,a=void 0===i?"next":i,o=t.reason,s=void 0===o?"auto":o;if(ae){var l=function(t,e){if(!Et.current||-1===t)return-1;for(var n=t;;){if("next"===e&&n===oe.length||"previous"===e&&-1===n)return-1;var r=Et.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!F&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===e?1:-1}}(function(){var t=oe.length-1;if("reset"===r)return It;if("start"===r)return 0;if("end"===r)return t;var e=Dt.current+r;return e<0?-1===e&&nt?-1:z&&-1!==Dt.current||Math.abs(r)>1?0:t:e>t?e===t+1&&nt?-1:z||Math.abs(r)>1?t:0:e}(),a);if(ce({index:l,reason:s,event:n}),p&&"reset"!==r)if(-1===l)Mt.current.value=jt;else{var u=e(oe[l]);Mt.current.value=u,0===u.toLowerCase().indexOf(jt.toLowerCase())&&jt.length>0&&Mt.current.setSelectionRange(jt.length,u.length)}}})),fe=o.useCallback((function(){if(ae&&!function(){var t,n;if(-1!==Dt.current&&se.filteredOptions&&se.filteredOptions.length!==oe.length&&se.inputValue===jt&&(st?Ft.length===se.value.length&&se.value.every((function(t,n){return e(Ft[n])===e(t)})):(t=se.value,n=Ft,(t?e(t):"")===(n?e(n):"")))){var r=se.filteredOptions[Dt.current];if(r&&oe.some((function(t){return e(t)===e(r)})))return!0}return!1}()){var t=st?Ft[0]:Ft;if(0!==oe.length&&null!=t){if(Et.current)if(null==t)Dt.current>=oe.length-1?ce({index:oe.length-1}):ce({index:Dt.current});else{var n=oe[Dt.current];if(st&&n&&-1!==m(Ft,(function(t){return at(n,t)})))return;var r=m(oe,(function(e){return at(e,t)}));-1===r?he({diff:"reset"}):ce({index:r})}}else he({diff:"reset"})}}),[oe.length,!st&&Ft,G,he,ce,ae,jt,st]),Ae=(0,A.Z)((function(t){(0,d.Z)(Et,t),t&&fe()}));o.useEffect((function(){fe()}),[fe]);var de=function(t){Jt||($t(!0),re(!0),ft&&ft(t))},pe=function(t,e){Jt&&($t(!1),ut&&ut(t,e))},me=function(t,e,n,r){if(st){if(Ft.length===e.length&&Ft.every((function(t,n){return t===e[n]})))return}else if(Ft===e)return;lt&&lt(t,e,n,r),Ut(e)},ve=o.useRef(!1),ge=function(t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",i=e;if(st){var a=m(i=Array.isArray(Ft)?Ft.slice():[],(function(t){return at(e,t)}));-1===a?i.push(e):"freeSolo"!==n&&(i.splice(a,1),r="removeOption")}Yt(t,i),me(t,i,r,{option:e}),D||t&&(t.ctrlKey||t.metaKey)||pe(t,r),(!0===S||"touch"===S&&ve.current||"mouse"===S&&!ve.current)&&Mt.current.blur()};var ye=function(t,e){if(st){""===jt&&pe(t,"toggleInput");var n=Nt;-1===Nt?""===jt&&"previous"===e&&(n=Ft.length-1):((n+="next"===e?1:-1)<0&&(n=0),n===Ft.length&&(n=-1)),n=function(t,e){if(-1===t)return-1;for(var n=t;;){if("next"===e&&n===Ft.length||"previous"===e&&-1===n)return-1;var r=kt.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===e?1:-1}}(n,e),Ot(n),ue(n)}},be=function(t){wt.current=!0,Ht(""),ht&&ht(t,"","clear"),me(t,st?[]:null,"clear")},_e=function(t){return function(e){if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(-1!==Nt&&-1===["ArrowLeft","ArrowRight"].indexOf(e.key)&&(Ot(-1),ue(-1)),229!==e.which))switch(e.key){case"Home":ae&&$&&(e.preventDefault(),he({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":ae&&$&&(e.preventDefault(),he({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),he({diff:-5,direction:"previous",reason:"keyboard",event:e}),de(e);break;case"PageDown":e.preventDefault(),he({diff:5,direction:"next",reason:"keyboard",event:e}),de(e);break;case"ArrowDown":e.preventDefault(),he({diff:1,direction:"next",reason:"keyboard",event:e}),de(e);break;case"ArrowUp":e.preventDefault(),he({diff:-1,direction:"previous",reason:"keyboard",event:e}),de(e);break;case"ArrowLeft":ye(e,"previous");break;case"ArrowRight":ye(e,"next");break;case"Enter":if(-1!==Dt.current&&ae){var n=oe[Dt.current],r=!!X&&X(n);if(e.preventDefault(),r)return;ge(e,n,"selectOption"),p&&Mt.current.setSelectionRange(Mt.current.value.length,Mt.current.value.length)}else W&&""!==jt&&!1===ie&&(st&&e.preventDefault(),ge(e,jt,"createOption","freeSolo"));break;case"Escape":ae?(e.preventDefault(),e.stopPropagation(),pe(e,"escape")):P&&(""!==jt||st&&Ft.length>0)&&(e.preventDefault(),e.stopPropagation(),be(e));break;case"Backspace":if(st&&!gt&&""===jt&&Ft.length>0){var i=-1===Nt?Ft.length-1:Nt,a=Ft.slice();a.splice(i,1),me(e,a,"removeOption",{option:Ft[i]})}break;case"Delete":if(st&&!gt&&""===jt&&Ft.length>0&&-1!==Nt){var o=Nt,s=Ft.slice();s.splice(o,1),me(e,s,"removeOption",{option:Ft[o]})}}}},xe=function(t){Xt(!0),pt&&!wt.current&&de(t)},we=function(t){r(Et)?Mt.current.focus():(Xt(!1),St.current=!0,wt.current=!1,x&&-1!==Dt.current&&ae?ge(t,oe[Dt.current],"blur"):x&&W&&""!==jt?ge(t,jt,"blur","freeSolo"):E&&Yt(t,Ft),pe(t,"blur"))},Se=function(t){var e=t.target.value;jt!==e&&(Ht(e),re(!1),ht&&ht(t,e,"input")),""===e?O||st||me(t,null,"clear"):de(t)},Me=function(t){var e=Number(t.currentTarget.getAttribute("data-option-index"));Dt.current!==e&&ce({event:t,index:e,reason:"mouse"})},Ee=function(t){ce({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ve.current=!0},Te=function(t){var e=Number(t.currentTarget.getAttribute("data-option-index"));ge(t,oe[e],"selectOption"),ve.current=!1},Pe=function(t){return function(e){var n=Ft.slice();n.splice(t,1),me(e,n,"removeOption",{option:Ft[t]})}},ke=function(t){Jt?pe(t,"toggleInput"):de(t)},Le=function(t){t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==xt&&t.preventDefault()},Ce=function(t){t.currentTarget.contains(t.target)&&(Mt.current.focus(),bt&&St.current&&Mt.current.selectionEnd-Mt.current.selectionStart===0&&Mt.current.select(),St.current=!1)},Re=function(t){""!==jt&&Jt||ke(t)},Ne=W&&jt.length>0;Ne=Ne||(st?Ft.length>0:null!==Ft);var Oe=oe;if(K){new Map;Oe=oe.reduce((function(t,e,n){var r=K(e);return t.length>0&&t[t.length-1].group===r?t[t.length-1].options.push(e):t.push({key:n,index:n,group:r,options:[e]}),t}),[])}return B&&Wt&&we(),{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)({"aria-owns":le?"".concat(xt,"-listbox"):null},t,{onKeyDown:_e(t),onMouseDown:Le,onClick:Ce})},getInputLabelProps:function(){return{id:"".concat(xt,"-label"),htmlFor:xt}},getInputProps:function(){return{id:xt,value:jt,onBlur:we,onFocus:xe,onChange:Se,onMouseDown:Re,"aria-activedescendant":ae?"":null,"aria-autocomplete":p?"both":"list","aria-controls":le?"".concat(xt,"-listbox"):void 0,"aria-expanded":le,autoComplete:"off",ref:Mt,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:B}},getClearProps:function(){return{tabIndex:-1,onClick:be}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:ke}},getTagProps:function(t){var e=t.index;return(0,a.Z)({key:e,"data-tag-index":e,tabIndex:-1},!gt&&{onDelete:Pe(e)})},getListboxProps:function(){return{role:"listbox",id:"".concat(xt,"-listbox"),"aria-labelledby":"".concat(xt,"-label"),ref:Ae,onMouseDown:function(t){t.preventDefault()}}},getOptionProps:function(t){var n=t.index,r=t.option,i=(st?Ft:[Ft]).some((function(t){return null!=t&&at(r,t)})),a=!!X&&X(r);return{key:e(r),tabIndex:-1,role:"option",id:"".concat(xt,"-option-").concat(n),onMouseMove:Me,onClick:Te,onTouchStart:Ee,"data-option-index":n,"aria-disabled":a,"aria-selected":i}},id:xt,inputValue:jt,value:Ft,dirty:Ne,expanded:ae&&kt,popupOpen:ae,focused:Wt||-1!==Nt,anchorEl:kt,setAnchorEl:Lt,focusedTag:Nt,groupedOptions:Oe}}var b=n(2065),_=n(6117),x=n(2876),w=n(4913);function S(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function M(t){return t instanceof S(t).Element||t instanceof Element}function E(t){return t instanceof S(t).HTMLElement||t instanceof HTMLElement}function T(t){return"undefined"!==typeof ShadowRoot&&(t instanceof S(t).ShadowRoot||t instanceof ShadowRoot)}var P=Math.max,k=Math.min,L=Math.round;function C(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function R(){return!/^((?!chrome|android).)*safari/i.test(C())}function N(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&E(t)&&(i=t.offsetWidth>0&&L(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&L(r.height)/t.offsetHeight||1);var o=(M(t)?S(t):window).visualViewport,s=!R()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/i,u=(r.top+(s&&o?o.offsetTop:0))/a,c=r.width/i,h=r.height/a;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l,x:l,y:u}}function O(t){var e=S(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function I(t){return t?(t.nodeName||"").toLowerCase():null}function D(t){return((M(t)?t.ownerDocument:t.document)||window.document).documentElement}function B(t){return N(D(t)).left+O(t).scrollLeft}function q(t){return S(t).getComputedStyle(t)}function F(t){var e=q(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function U(t,e,n){void 0===n&&(n=!1);var r=E(e),i=E(e)&&function(t){var e=t.getBoundingClientRect(),n=L(e.width)/t.offsetWidth||1,r=L(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),a=D(e),o=N(t,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==I(e)||F(a))&&(s=function(t){return t!==S(t)&&E(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:O(t);var e}(e)),E(e)?((l=N(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=B(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function z(t){var e=N(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Z(t){return"html"===I(t)?t:t.assignedSlot||t.parentNode||(T(t)?t.host:null)||D(t)}function j(t){return["html","body","#document"].indexOf(I(t))>=0?t.ownerDocument.body:E(t)&&F(t)?t:j(Z(t))}function H(t,e){var n;void 0===e&&(e=[]);var r=j(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=S(r),o=i?[a].concat(a.visualViewport||[],F(r)?r:[]):r,s=e.concat(o);return i?s:s.concat(H(Z(o)))}function G(t){return["table","td","th"].indexOf(I(t))>=0}function V(t){return E(t)&&"fixed"!==q(t).position?t.offsetParent:null}function W(t){for(var e=S(t),n=V(t);n&&G(n)&&"static"===q(n).position;)n=V(n);return n&&("html"===I(n)||"body"===I(n)&&"static"===q(n).position)?e:n||function(t){var e=/firefox/i.test(C());if(/Trident/i.test(C())&&E(t)&&"fixed"===q(t).position)return null;var n=Z(t);for(T(n)&&(n=n.host);E(n)&&["html","body"].indexOf(I(n))<0;){var r=q(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var X="top",Y="bottom",Q="right",K="left",J="auto",$=[X,Y,Q,K],tt="start",et="end",nt="clippingParents",rt="viewport",it="popper",at="reference",ot=$.reduce((function(t,e){return t.concat([e+"-"+tt,e+"-"+et])}),[]),st=[].concat($,[J]).reduce((function(t,e){return t.concat([e,e+"-"+tt,e+"-"+et])}),[]),lt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ut(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function ct(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var ht={placement:"bottom",modifiers:[],strategy:"absolute"};function ft(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function At(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,a=void 0===i?ht:i;return function(t,e,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ht,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:M(t)?H(t):t.contextElement?H(t.contextElement):[],popper:H(e)};var c=function(t){var e=ut(t);return lt.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,a=t.effect;if("function"===typeof a){var s=a({state:i,name:e,instance:l,options:r}),u=function(){};o.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var t=i.elements,e=t.reference,n=t.popper;if(ft(e,n)){i.rects={reference:U(e,W(n),"fixed"===i.options.strategy),popper:z(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,u=a.options,c=void 0===u?{}:u,h=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:ct((function(){return new Promise((function(t){l.forceUpdate(),t(i)}))})),destroy:function(){u(),s=!0}};if(!ft(t,e))return l;function u(){o.forEach((function(t){return t()})),o=[]}return l.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var dt={passive:!0};function pt(t){return t.split("-")[0]}function mt(t){return t.split("-")[1]}function vt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gt(t){var e,n=t.reference,r=t.element,i=t.placement,a=i?pt(i):null,o=i?mt(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case X:e={x:s,y:n.y-r.height};break;case Y:e={x:s,y:n.y+n.height};break;case Q:e={x:n.x+n.width,y:l};break;case K:e={x:n.x-r.width,y:l};break;default:e={x:n.x,y:n.y}}var u=a?vt(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case tt:e[u]=e[u]-(n[c]/2-r[c]/2);break;case et:e[u]=e[u]+(n[c]/2-r[c]/2)}}return e}var yt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=o.x,A=void 0===f?0:f,d=o.y,p=void 0===d?0:d,m="function"===typeof c?c({x:A,y:p}):{x:A,y:p};A=m.x,p=m.y;var v=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),y=K,b=X,_=window;if(u){var x=W(n),w="clientHeight",M="clientWidth";if(x===S(n)&&"static"!==q(x=D(n)).position&&"absolute"===s&&(w="scrollHeight",M="scrollWidth"),i===X||(i===K||i===Q)&&a===et)b=Y,p-=(h&&x===_&&_.visualViewport?_.visualViewport.height:x[w])-r.height,p*=l?1:-1;if(i===K||(i===X||i===Y)&&a===et)y=Q,A-=(h&&x===_&&_.visualViewport?_.visualViewport.width:x[M])-r.width,A*=l?1:-1}var E,T=Object.assign({position:s},u&&yt),P=!0===c?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:L(n*i)/i||0,y:L(r*i)/i||0}}({x:A,y:p},S(n)):{x:A,y:p};return A=P.x,p=P.y,l?Object.assign({},T,((E={})[b]=g?"0":"",E[y]=v?"0":"",E.transform=(_.devicePixelRatio||1)<=1?"translate("+A+"px, "+p+"px)":"translate3d("+A+"px, "+p+"px, 0)",E)):Object.assign({},T,((e={})[b]=g?p+"px":"",e[y]=v?A+"px":"",e.transform="",e))}var _t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=void 0===i?[0,0]:i,o=st.reduce((function(t,n){return t[n]=function(t,e,n){var r=pt(t),i=[K,X].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},e,{placement:t})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[K,Q].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,e.rects,a),t}),{}),s=o[e.placement],l=s.x,u=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}},xt={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(t){return t.replace(/left|right|bottom|top/g,(function(t){return xt[t]}))}var St={start:"end",end:"start"};function Mt(t){return t.replace(/start|end/g,(function(t){return St[t]}))}function Et(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Tt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Pt(t,e,n){return e===rt?Tt(function(t,e){var n=S(t),r=D(t),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=R();(u||!u&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+B(t),y:l}}(t,n)):M(e)?function(t,e){var n=N(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):Tt(function(t){var e,n=D(t),r=O(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=P(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=P(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+B(t),l=-r.scrollTop;return"rtl"===q(i||n).direction&&(s+=P(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(D(t)))}function kt(t,e,n,r){var i="clippingParents"===e?function(t){var e=H(Z(t)),n=["absolute","fixed"].indexOf(q(t).position)>=0&&E(t)?W(t):t;return M(n)?e.filter((function(t){return M(t)&&Et(t,n)&&"body"!==I(t)})):[]}(t):[].concat(e),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(e,n){var i=Pt(t,n,r);return e.top=P(i.top,e.top),e.right=k(i.right,e.right),e.bottom=k(i.bottom,e.bottom),e.left=P(i.left,e.left),e}),Pt(t,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Lt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Ct(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function Rt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,a=n.strategy,o=void 0===a?t.strategy:a,s=n.boundary,l=void 0===s?nt:s,u=n.rootBoundary,c=void 0===u?rt:u,h=n.elementContext,f=void 0===h?it:h,A=n.altBoundary,d=void 0!==A&&A,p=n.padding,m=void 0===p?0:p,v=Lt("number"!==typeof m?m:Ct(m,$)),g=f===it?at:it,y=t.rects.popper,b=t.elements[d?g:f],_=kt(M(b)?b:b.contextElement||D(t.elements.popper),l,c,o),x=N(t.elements.reference),w=gt({reference:x,element:y,strategy:"absolute",placement:i}),S=Tt(Object.assign({},y,w)),E=f===it?S:x,T={top:_.top-E.top+v.top,bottom:E.bottom-_.bottom+v.bottom,left:_.left-E.left+v.left,right:E.right-_.right+v.right},P=t.modifiersData.offset;if(f===it&&P){var k=P[i];Object.keys(T).forEach((function(t){var e=[Q,Y].indexOf(t)>=0?1:-1,n=[X,Y].indexOf(t)>=0?"y":"x";T[t]+=k[n]*e}))}return T}function Nt(t,e,n){return P(t,k(e,n))}var Ot={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,f=n.tether,A=void 0===f||f,d=n.tetherOffset,p=void 0===d?0:d,m=Rt(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),v=pt(e.placement),g=mt(e.placement),y=!g,b=vt(v),_="x"===b?"y":"x",x=e.modifiersData.popperOffsets,w=e.rects.reference,S=e.rects.popper,M="function"===typeof p?p(Object.assign({},e.rects,{placement:e.placement})):p,E="number"===typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),T=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(x){if(a){var C,R="y"===b?X:K,N="y"===b?Y:Q,O="y"===b?"height":"width",I=x[b],D=I+m[R],B=I-m[N],q=A?-S[O]/2:0,F=g===tt?w[O]:S[O],U=g===tt?-S[O]:-w[O],Z=e.elements.arrow,j=A&&Z?z(Z):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G=H[R],V=H[N],J=Nt(0,w[O],j[O]),$=y?w[O]/2-q-J-G-E.mainAxis:F-J-G-E.mainAxis,et=y?-w[O]/2+q+J+V+E.mainAxis:U+J+V+E.mainAxis,nt=e.elements.arrow&&W(e.elements.arrow),rt=nt?"y"===b?nt.clientTop||0:nt.clientLeft||0:0,it=null!=(C=null==T?void 0:T[b])?C:0,at=I+et-it,ot=Nt(A?k(D,I+$-it-rt):D,I,A?P(B,at):B);x[b]=ot,L[b]=ot-I}if(s){var st,lt="x"===b?X:K,ut="x"===b?Y:Q,ct=x[_],ht="y"===_?"height":"width",ft=ct+m[lt],At=ct-m[ut],dt=-1!==[X,K].indexOf(v),gt=null!=(st=null==T?void 0:T[_])?st:0,yt=dt?ft:ct-w[ht]-S[ht]-gt+E.altAxis,bt=dt?ct+w[ht]+S[ht]-gt-E.altAxis:At,_t=A&&dt?function(t,e,n){var r=Nt(t,e,n);return r>n?n:r}(yt,ct,bt):Nt(A?yt:ft,ct,A?bt:At);x[_]=_t,L[_]=_t-ct}e.modifiersData[r]=L}},requiresIfExists:["offset"]};var It={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=pt(n.placement),l=vt(s),u=[K,Q].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(t,e){return Lt("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Ct(t,$))}(i.padding,n),h=z(a),f="y"===l?X:K,A="y"===l?Y:Q,d=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],p=o[l]-n.rects.reference[l],m=W(a),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,g=d/2-p/2,y=c[f],b=v-h[u]-c[A],_=v/2-h[u]/2+g,x=Nt(y,_,b),w=l;n.modifiersData[r]=((e={})[w]=x,e.centerOffset=x-_,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r)))&&Et(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bt(t){return[X,Q,Y,K].some((function(e){return t[e]>=0}))}var qt=At({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=S(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach((function(t){t.addEventListener("scroll",n.update,dt)})),s&&l.addEventListener("resize",n.update,dt),function(){a&&u.forEach((function(t){t.removeEventListener("scroll",n.update,dt)})),s&&l.removeEventListener("resize",n.update,dt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=gt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:pt(e.placement),variation:mt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,bt(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,bt(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];E(i)&&I(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});E(r)&&I(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},_t,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,A=n.flipVariations,d=void 0===A||A,p=n.allowedAutoPlacements,m=e.options.placement,v=pt(m),g=l||(v===m||!d?[wt(m)]:function(t){if(pt(t)===J)return[];var e=wt(t);return[Mt(t),e,Mt(e)]}(m)),y=[m].concat(g).reduce((function(t,n){return t.concat(pt(n)===J?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?st:l,c=mt(r),h=c?s?ot:ot.filter((function(t){return mt(t)===c})):$,f=h.filter((function(t){return u.indexOf(t)>=0}));0===f.length&&(f=h);var A=f.reduce((function(e,n){return e[n]=Rt(t,{placement:n,boundary:i,rootBoundary:a,padding:o})[pt(n)],e}),{});return Object.keys(A).sort((function(t,e){return A[t]-A[e]}))}(e,{placement:n,boundary:c,rootBoundary:h,padding:u,flipVariations:d,allowedAutoPlacements:p}):n)}),[]),b=e.rects.reference,_=e.rects.popper,x=new Map,w=!0,S=y[0],M=0;M<y.length;M++){var E=y[M],T=pt(E),P=mt(E)===tt,k=[X,Y].indexOf(T)>=0,L=k?"width":"height",C=Rt(e,{placement:E,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),R=k?P?Q:K:P?Y:X;b[L]>_[L]&&(R=wt(R));var N=wt(R),O=[];if(a&&O.push(C[T]<=0),s&&O.push(C[R]<=0,C[N]<=0),O.every((function(t){return t}))){S=E,w=!1;break}x.set(E,O)}if(w)for(var I=function(t){var e=y.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return S=e,"break"},D=d?3:1;D>0;D--){if("break"===I(D))break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ot,It,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Rt(e,{elementContext:"reference"}),s=Rt(e,{altBoundary:!0}),l=Dt(o,r),u=Dt(s,i,a),c=Bt(l),h=Bt(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]}),Ft=n(6174),Ut=n(7225),zt=n(5878);function Zt(t){return(0,Ut.Z)("MuiPopper",t)}(0,zt.Z)("MuiPopper",["root"]);var jt=n(8069),Ht=n(6826),Gt=n(184),Vt=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Wt=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xt(t){return"function"===typeof t?t():t}function Yt(t){return void 0!==t.nodeType}var Qt={},Kt=o.forwardRef((function(t,e){var n,r=t.anchorEl,s=t.children,c=t.direction,h=t.disablePortal,f=t.modifiers,A=t.open,d=t.placement,p=t.popperOptions,m=t.popperRef,v=t.slotProps,g=void 0===v?{}:v,y=t.slots,b=void 0===y?{}:y,w=t.TransitionProps,S=(0,i.Z)(t,Vt),M=o.useRef(null),E=(0,_.Z)(M,e),T=o.useRef(null),P=(0,_.Z)(T,m),k=o.useRef(P);(0,x.Z)((function(){k.current=P}),[P]),o.useImperativeHandle(m,(function(){return T.current}),[]);var L=function(t,e){if("ltr"===e)return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(d,c),C=o.useState(L),R=(0,u.Z)(C,2),N=R[0],O=R[1],I=o.useState(Xt(r)),D=(0,u.Z)(I,2),B=D[0],q=D[1];o.useEffect((function(){T.current&&T.current.forceUpdate()})),o.useEffect((function(){r&&q(Xt(r))}),[r]),(0,x.Z)((function(){if(B&&A){var t=[{name:"preventOverflow",options:{altBoundary:h}},{name:"flip",options:{altBoundary:h}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(t){var e=t.state;O(e.placement)}}];null!=f&&(t=t.concat(f)),p&&null!=p.modifiers&&(t=t.concat(p.modifiers));var e=qt(B,M.current,(0,a.Z)({placement:L},p,{modifiers:t}));return k.current(e),function(){e.destroy(),k.current(null)}}}),[B,h,f,A,p,L]);var F={placement:N};null!==w&&(F.TransitionProps=w);var U=(0,l.Z)({root:["root"]},(0,Ht.T)(Zt)),z=null!=(n=b.root)?n:"div",Z=(0,jt.Z)({elementType:z,externalSlotProps:g.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:U.root});return(0,Gt.jsx)(z,(0,a.Z)({},Z,{children:"function"===typeof s?s(F):s}))})),Jt=o.forwardRef((function(t,e){var n,r=t.anchorEl,s=t.children,l=t.container,c=t.direction,h=void 0===c?"ltr":c,f=t.disablePortal,A=void 0!==f&&f,d=t.keepMounted,p=void 0!==d&&d,m=t.modifiers,v=t.open,g=t.placement,y=void 0===g?"bottom":g,b=t.popperOptions,_=void 0===b?Qt:b,x=t.popperRef,S=t.style,M=t.transition,E=void 0!==M&&M,T=t.slotProps,P=void 0===T?{}:T,k=t.slots,L=void 0===k?{}:k,C=(0,i.Z)(t,Wt),R=o.useState(!0),N=(0,u.Z)(R,2),O=N[0],I=N[1];if(!p&&!v&&(!E||O))return null;if(l)n=l;else if(r){var D=Xt(r);n=D&&Yt(D)?(0,w.Z)(D).body:(0,w.Z)(null).body}var B=v||!p||E&&!O?void 0:"none",q=E?{in:v,onEnter:function(){I(!1)},onExited:function(){I(!0)}}:void 0;return(0,Gt.jsx)(Ft.Z,{disablePortal:A,container:n,children:(0,Gt.jsx)(Kt,(0,a.Z)({anchorEl:r,direction:h,disablePortal:A,modifiers:m,ref:e,open:E?!O:v,placement:y,popperOptions:_,popperRef:x,slotProps:P,slots:L},C,{style:(0,a.Z)({position:"fixed",top:0,left:0,display:B},S),TransitionProps:q,children:s}))})})),$t=n(9120),te=n(4923),ee=n(551),ne=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],re=(0,te.ZP)(Jt,{name:"MuiPopper",slot:"Root",overridesResolver:function(t,e){return e.root}})({}),ie=o.forwardRef((function(t,e){var n,r=(0,$t.Z)(),o=(0,ee.Z)({props:t,name:"MuiPopper"}),s=o.anchorEl,l=o.component,u=o.components,c=o.componentsProps,h=o.container,f=o.disablePortal,A=o.keepMounted,d=o.modifiers,p=o.open,m=o.placement,v=o.popperOptions,g=o.popperRef,y=o.transition,b=o.slots,_=o.slotProps,x=(0,i.Z)(o,ne),w=null!=(n=null==b?void 0:b.root)?n:null==u?void 0:u.Root,S=(0,a.Z)({anchorEl:s,container:h,disablePortal:f,keepMounted:A,modifiers:d,open:p,placement:m,popperOptions:v,popperRef:g,transition:y},x);return(0,Gt.jsx)(re,(0,a.Z)({as:l,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=_?_:c},S,{ref:e}))})),ae=n(4036);function oe(t){return(0,Ut.Z)("MuiListSubheader",t)}(0,zt.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var se=["className","color","component","disableGutters","disableSticky","inset"],le=(0,te.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,"default"!==n.color&&e["color".concat((0,ae.Z)(n.color))],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})((function(t){var e=t.theme,n=t.ownerState;return(0,a.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===n.color&&{color:(e.vars||e).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})})),ue=o.forwardRef((function(t,e){var n=(0,ee.Z)({props:t,name:"MuiListSubheader"}),r=n.className,o=n.color,u=void 0===o?"default":o,c=n.component,h=void 0===c?"li":c,f=n.disableGutters,A=void 0!==f&&f,d=n.disableSticky,p=void 0!==d&&d,m=n.inset,v=void 0!==m&&m,g=(0,i.Z)(n,se),y=(0,a.Z)({},n,{color:u,component:h,disableGutters:A,disableSticky:p,inset:v}),b=function(t){var e=t.classes,n=t.color,r=t.disableGutters,i=t.inset,a=t.disableSticky,o={root:["root","default"!==n&&"color".concat((0,ae.Z)(n)),!r&&"gutters",i&&"inset",!a&&"sticky"]};return(0,l.Z)(o,oe,e)}(y);return(0,Gt.jsx)(le,(0,a.Z)({as:h,className:(0,s.Z)(b.root,r),ref:e,ownerState:y},g))}));ue.muiSkipListHighlight=!0;var ce,he=ue,fe=n(5527),Ae=n(2071),de=A.Z,pe=!0,me=!1,ve={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ge(t){t.metaKey||t.altKey||t.ctrlKey||(pe=!0)}function ye(){pe=!1}function be(){"hidden"===this.visibilityState&&me&&(pe=!0)}function _e(t){var e=t.target;try{return e.matches(":focus-visible")}catch(n){}return pe||function(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!ve[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}var xe=function(){var t=o.useCallback((function(t){var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",ge,!0),e.addEventListener("mousedown",ye,!0),e.addEventListener("pointerdown",ye,!0),e.addEventListener("touchstart",ye,!0),e.addEventListener("visibilitychange",be,!0))}),[]),e=o.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!_e(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(me=!0,window.clearTimeout(ce),ce=window.setTimeout((function(){me=!1}),100),e.current=!1,!0)},ref:t}},we=n(3433);function Se(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Me=n(7326),Ee=n(4578),Te=n(5545);function Pe(t,e){var n=Object.create(null);return t&&o.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,o.isValidElement)(t)?e(t):t}(t)})),n}function ke(t,e,n){return null!=n[e]?n[e]:t.props[e]}function Le(t,e,n){var r=Pe(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),a=[];for(var o in t)o in e?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in e){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(e,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in e,u=a in r,c=e[a],h=(0,o.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,o.isValidElement)(c)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:ke(s,"exit",t),enter:ke(s,"enter",t)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ke(s,"exit",t),enter:ke(s,"enter",t)})}})),i}var Ce=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},Re=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,Me.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,Ee.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,Pe(n.children,(function(t){return(0,o.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:ke(t,"appear",n),enter:ke(t,"enter",n),exit:ke(t,"exit",n)})}))):Le(t,i,a),firstRender:!1}},n.handleExited=function(t,e){var n=Pe(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,a.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=(0,i.Z)(t,["component","childFactory"]),a=this.state.contextValue,s=Ce(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o.createElement(Te.Z.Provider,{value:a},s):o.createElement(Te.Z.Provider,{value:a},o.createElement(e,r,s))},e}(o.Component);Re.propTypes={},Re.defaultProps={component:"div",childFactory:function(t){return t}};var Ne=Re,Oe=n(2554);var Ie=function(t){var e=t.className,n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,l=t.rippleY,c=t.rippleSize,h=t.in,f=t.onExited,A=t.timeout,d=o.useState(!1),p=(0,u.Z)(d,2),m=p[0],v=p[1],g=(0,s.Z)(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:c,height:c,top:-c/2+l,left:-c/2+a},b=(0,s.Z)(n.child,m&&n.childLeaving,i&&n.childPulsate);return h||m||v(!0),o.useEffect((function(){if(!h&&null!=f){var t=setTimeout(f,A);return function(){clearTimeout(t)}}}),[f,h,A]),(0,Gt.jsx)("span",{className:g,style:y,children:(0,Gt.jsx)("span",{className:b})})};var De,Be,qe,Fe,Ue,ze,Ze,je,He=(0,zt.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ge=["center","classes","className"],Ve=(0,Oe.F4)(Ue||(Ue=De||(De=Se(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),We=(0,Oe.F4)(ze||(ze=Be||(Be=Se(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Xe=(0,Oe.F4)(Ze||(Ze=qe||(qe=Se(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ye=(0,te.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Qe=(0,te.ZP)(Ie,{name:"MuiTouchRipple",slot:"Ripple"})(je||(je=Fe||(Fe=Se(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),He.rippleVisible,Ve,550,(function(t){return t.theme.transitions.easing.easeInOut}),He.ripplePulsate,(function(t){return t.theme.transitions.duration.shorter}),He.child,He.childLeaving,We,550,(function(t){return t.theme.transitions.easing.easeInOut}),He.childPulsate,Xe,(function(t){return t.theme.transitions.easing.easeInOut})),Ke=o.forwardRef((function(t,e){var n=(0,ee.Z)({props:t,name:"MuiTouchRipple"}),r=n.center,l=void 0!==r&&r,c=n.classes,h=void 0===c?{}:c,f=n.className,A=(0,i.Z)(n,Ge),d=o.useState([]),p=(0,u.Z)(d,2),m=p[0],v=p[1],g=o.useRef(0),y=o.useRef(null);o.useEffect((function(){y.current&&(y.current(),y.current=null)}),[m]);var b=o.useRef(!1),_=o.useRef(0),x=o.useRef(null),w=o.useRef(null);o.useEffect((function(){return function(){_.current&&clearTimeout(_.current)}}),[]);var S=o.useCallback((function(t){var e=t.pulsate,n=t.rippleX,r=t.rippleY,i=t.rippleSize,a=t.cb;v((function(t){return[].concat((0,we.Z)(t),[(0,Gt.jsx)(Qe,{classes:{ripple:(0,s.Z)(h.ripple,He.ripple),rippleVisible:(0,s.Z)(h.rippleVisible,He.rippleVisible),ripplePulsate:(0,s.Z)(h.ripplePulsate,He.ripplePulsate),child:(0,s.Z)(h.child,He.child),childLeaving:(0,s.Z)(h.childLeaving,He.childLeaving),childPulsate:(0,s.Z)(h.childPulsate,He.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,y.current=a}),[h]),M=o.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.pulsate,i=void 0!==r&&r,a=e.center,o=void 0===a?l||e.pulsate:a,s=e.fakeElement,u=void 0!==s&&s;if("mousedown"===(null==t?void 0:t.type)&&b.current)b.current=!1;else{"touchstart"===(null==t?void 0:t.type)&&(b.current=!0);var c,h,f,A=u?null:w.current,d=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)c=Math.round(d.width/2),h=Math.round(d.height/2);else{var p=t.touches&&t.touches.length>0?t.touches[0]:t,m=p.clientX,v=p.clientY;c=Math.round(m-d.left),h=Math.round(v-d.top)}if(o)(f=Math.sqrt((2*Math.pow(d.width,2)+Math.pow(d.height,2))/3))%2===0&&(f+=1);else{var g=2*Math.max(Math.abs((A?A.clientWidth:0)-c),c)+2,y=2*Math.max(Math.abs((A?A.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(g,2)+Math.pow(y,2))}null!=t&&t.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:c,rippleY:h,rippleSize:f,cb:n})},_.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):S({pulsate:i,rippleX:c,rippleY:h,rippleSize:f,cb:n})}}),[l,S]),E=o.useCallback((function(){M({},{pulsate:!0})}),[M]),T=o.useCallback((function(t,e){if(clearTimeout(_.current),"touchend"===(null==t?void 0:t.type)&&x.current)return x.current(),x.current=null,void(_.current=setTimeout((function(){T(t,e)})));x.current=null,v((function(t){return t.length>0?t.slice(1):t})),y.current=e}),[]);return o.useImperativeHandle(e,(function(){return{pulsate:E,start:M,stop:T}}),[E,M,T]),(0,Gt.jsx)(Ye,(0,a.Z)({className:(0,s.Z)(He.root,h.root,f),ref:w},A,{children:(0,Gt.jsx)(Ne,{component:null,exit:!0,children:m})}))})),Je=Ke;function $e(t){return(0,Ut.Z)("MuiButtonBase",t)}var tn,en=(0,zt.Z)("MuiButtonBase",["root","disabled","focusVisible"]),nn=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],rn=(0,te.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(t,e){return e.root}})((tn={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,r.Z)(tn,"&.".concat(en.disabled),{pointerEvents:"none",cursor:"default"}),(0,r.Z)(tn,"@media print",{colorAdjust:"exact"}),tn)),an=o.forwardRef((function(t,e){var n=(0,ee.Z)({props:t,name:"MuiButtonBase"}),r=n.action,c=n.centerRipple,h=void 0!==c&&c,f=n.children,A=n.className,d=n.component,p=void 0===d?"button":d,m=n.disabled,v=void 0!==m&&m,g=n.disableRipple,y=void 0!==g&&g,b=n.disableTouchRipple,_=void 0!==b&&b,x=n.focusRipple,w=void 0!==x&&x,S=n.LinkComponent,M=void 0===S?"a":S,E=n.onBlur,T=n.onClick,P=n.onContextMenu,k=n.onDragLeave,L=n.onFocus,C=n.onFocusVisible,R=n.onKeyDown,N=n.onKeyUp,O=n.onMouseDown,I=n.onMouseLeave,D=n.onMouseUp,B=n.onTouchEnd,q=n.onTouchMove,F=n.onTouchStart,U=n.tabIndex,z=void 0===U?0:U,Z=n.TouchRippleProps,j=n.touchRippleRef,H=n.type,G=(0,i.Z)(n,nn),V=o.useRef(null),W=o.useRef(null),X=(0,Ae.Z)(W,j),Y=xe(),Q=Y.isFocusVisibleRef,K=Y.onFocus,J=Y.onBlur,$=Y.ref,tt=o.useState(!1),et=(0,u.Z)(tt,2),nt=et[0],rt=et[1];v&&nt&&rt(!1),o.useImperativeHandle(r,(function(){return{focusVisible:function(){rt(!0),V.current.focus()}}}),[]);var it=o.useState(!1),at=(0,u.Z)(it,2),ot=at[0],st=at[1];o.useEffect((function(){st(!0)}),[]);var lt=ot&&!y&&!v;function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return de((function(r){return e&&e(r),!n&&W.current&&W.current[t](r),!0}))}o.useEffect((function(){nt&&w&&!y&&ot&&W.current.pulsate()}),[y,w,nt,ot]);var ct=ut("start",O),ht=ut("stop",P),ft=ut("stop",k),At=ut("stop",D),dt=ut("stop",(function(t){nt&&t.preventDefault(),I&&I(t)})),pt=ut("start",F),mt=ut("stop",B),vt=ut("stop",q),gt=ut("stop",(function(t){J(t),!1===Q.current&&rt(!1),E&&E(t)}),!1),yt=de((function(t){V.current||(V.current=t.currentTarget),K(t),!0===Q.current&&(rt(!0),C&&C(t)),L&&L(t)})),bt=function(){var t=V.current;return p&&"button"!==p&&!("A"===t.tagName&&t.href)},_t=o.useRef(!1),xt=de((function(t){w&&!_t.current&&nt&&W.current&&" "===t.key&&(_t.current=!0,W.current.stop(t,(function(){W.current.start(t)}))),t.target===t.currentTarget&&bt()&&" "===t.key&&t.preventDefault(),R&&R(t),t.target===t.currentTarget&&bt()&&"Enter"===t.key&&!v&&(t.preventDefault(),T&&T(t))})),wt=de((function(t){w&&" "===t.key&&W.current&&nt&&!t.defaultPrevented&&(_t.current=!1,W.current.stop(t,(function(){W.current.pulsate(t)}))),N&&N(t),T&&t.target===t.currentTarget&&bt()&&" "===t.key&&!t.defaultPrevented&&T(t)})),St=p;"button"===St&&(G.href||G.to)&&(St=M);var Mt={};"button"===St?(Mt.type=void 0===H?"button":H,Mt.disabled=v):(G.href||G.to||(Mt.role="button"),v&&(Mt["aria-disabled"]=v));var Et=(0,Ae.Z)(e,$,V);var Tt=(0,a.Z)({},n,{centerRipple:h,component:p,disabled:v,disableRipple:y,disableTouchRipple:_,focusRipple:w,tabIndex:z,focusVisible:nt}),Pt=function(t){var e=t.disabled,n=t.focusVisible,r=t.focusVisibleClassName,i=t.classes,a={root:["root",e&&"disabled",n&&"focusVisible"]},o=(0,l.Z)(a,$e,i);return n&&r&&(o.root+=" ".concat(r)),o}(Tt);return(0,Gt.jsxs)(rn,(0,a.Z)({as:St,className:(0,s.Z)(Pt.root,A),ownerState:Tt,onBlur:gt,onClick:T,onContextMenu:ht,onFocus:yt,onKeyDown:xt,onKeyUp:wt,onMouseDown:ct,onMouseLeave:dt,onMouseUp:At,onDragLeave:ft,onTouchEnd:mt,onTouchMove:vt,onTouchStart:pt,ref:Et,tabIndex:v?-1:z,type:H},Mt,G,{children:[f,lt?(0,Gt.jsx)(Je,(0,a.Z)({ref:X,center:h},Z)):null]}))})),on=an;function sn(t){return(0,Ut.Z)("MuiIconButton",t)}var ln=(0,zt.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),un=["edge","children","className","color","disabled","disableFocusRipple","size"],cn=(0,te.ZP)(on,{name:"MuiIconButton",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,"default"!==n.color&&e["color".concat((0,ae.Z)(n.color))],n.edge&&e["edge".concat((0,ae.Z)(n.edge))],e["size".concat((0,ae.Z)(n.size))]]}})((function(t){var e=t.theme,n=t.ownerState;return(0,a.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,b.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(t){var e,n=t.theme,i=t.ownerState,o=null==(e=(n.vars||n).palette)?void 0:e[i.color];return(0,a.Z)({},"inherit"===i.color&&{color:"inherit"},"inherit"!==i.color&&"default"!==i.color&&(0,a.Z)({color:null==o?void 0:o.main},!i.disableRipple&&{"&:hover":(0,a.Z)({},o&&{backgroundColor:n.vars?"rgba(".concat(o.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,b.Fq)(o.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===i.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===i.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,r.Z)({},"&.".concat(ln.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),hn=o.forwardRef((function(t,e){var n=(0,ee.Z)({props:t,name:"MuiIconButton"}),r=n.edge,o=void 0!==r&&r,u=n.children,c=n.className,h=n.color,f=void 0===h?"default":h,A=n.disabled,d=void 0!==A&&A,p=n.disableFocusRipple,m=void 0!==p&&p,v=n.size,g=void 0===v?"medium":v,y=(0,i.Z)(n,un),b=(0,a.Z)({},n,{edge:o,color:f,disabled:d,disableFocusRipple:m,size:g}),_=function(t){var e=t.classes,n=t.disabled,r=t.color,i=t.edge,a=t.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,ae.Z)(r)),i&&"edge".concat((0,ae.Z)(i)),"size".concat((0,ae.Z)(a))]};return(0,l.Z)(o,sn,e)}(b);return(0,Gt.jsx)(cn,(0,a.Z)({className:(0,s.Z)(_.root,c),centerRipple:!0,focusRipple:!m,disabled:d,ref:e,ownerState:b},y,{children:u}))})),fn=n(9201),An=(0,fn.Z)((0,Gt.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function dn(t){return(0,Ut.Z)("MuiChip",t)}var pn=(0,zt.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),mn=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],vn=(0,te.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState,i=n.color,a=n.iconColor,o=n.clickable,s=n.onDelete,l=n.size,u=n.variant;return[(0,r.Z)({},"& .".concat(pn.avatar),e.avatar),(0,r.Z)({},"& .".concat(pn.avatar),e["avatar".concat((0,ae.Z)(l))]),(0,r.Z)({},"& .".concat(pn.avatar),e["avatarColor".concat((0,ae.Z)(i))]),(0,r.Z)({},"& .".concat(pn.icon),e.icon),(0,r.Z)({},"& .".concat(pn.icon),e["icon".concat((0,ae.Z)(l))]),(0,r.Z)({},"& .".concat(pn.icon),e["iconColor".concat((0,ae.Z)(a))]),(0,r.Z)({},"& .".concat(pn.deleteIcon),e.deleteIcon),(0,r.Z)({},"& .".concat(pn.deleteIcon),e["deleteIcon".concat((0,ae.Z)(l))]),(0,r.Z)({},"& .".concat(pn.deleteIcon),e["deleteIconColor".concat((0,ae.Z)(i))]),(0,r.Z)({},"& .".concat(pn.deleteIcon),e["deleteIcon".concat((0,ae.Z)(u),"Color").concat((0,ae.Z)(i))]),e.root,e["size".concat((0,ae.Z)(l))],e["color".concat((0,ae.Z)(i))],o&&e.clickable,o&&"default"!==i&&e["clickableColor".concat((0,ae.Z)(i),")")],s&&e.deletable,s&&"default"!==i&&e["deletableColor".concat((0,ae.Z)(i))],e[u],e["".concat(u).concat((0,ae.Z)(i))]]}})((function(t){var e,n=t.theme,i=t.ownerState,o="light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300];return(0,a.Z)((e={maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},(0,r.Z)(e,"&.".concat(pn.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"}),(0,r.Z)(e,"& .".concat(pn.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:o,fontSize:n.typography.pxToRem(12)}),(0,r.Z)(e,"& .".concat(pn.avatarColorPrimary),{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark}),(0,r.Z)(e,"& .".concat(pn.avatarColorSecondary),{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark}),(0,r.Z)(e,"& .".concat(pn.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),(0,r.Z)(e,"& .".concat(pn.icon),(0,a.Z)({marginLeft:5,marginRight:-6},"small"===i.size&&{fontSize:18,marginLeft:4,marginRight:-4},i.iconColor===i.color&&(0,a.Z)({color:n.vars?n.vars.palette.Chip.defaultIconColor:o},"default"!==i.color&&{color:"inherit"}))),(0,r.Z)(e,"& .".concat(pn.deleteIcon),(0,a.Z)({WebkitTapHighlightColor:"transparent",color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.26)"):(0,b.Fq)(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?"rgba(".concat(n.vars.palette.text.primaryChannel," / 0.4)"):(0,b.Fq)(n.palette.text.primary,.4)}},"small"===i.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==i.color&&{color:n.vars?"rgba(".concat(n.vars.palette[i.color].contrastTextChannel," / 0.7)"):(0,b.Fq)(n.palette[i.color].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[i.color].contrastText}})),e),"small"===i.size&&{height:24},"default"!==i.color&&{backgroundColor:(n.vars||n).palette[i.color].main,color:(n.vars||n).palette[i.color].contrastText},i.onDelete&&(0,r.Z)({},"&.".concat(pn.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,b.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),i.onDelete&&"default"!==i.color&&(0,r.Z)({},"&.".concat(pn.focusVisible),{backgroundColor:(n.vars||n).palette[i.color].dark}))}),(function(t){var e,n=t.theme,i=t.ownerState;return(0,a.Z)({},i.clickable&&(e={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,b.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},(0,r.Z)(e,"&.".concat(pn.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.selectedChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,b.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),(0,r.Z)(e,"&:active",{boxShadow:(n.vars||n).shadows[1]}),e),i.clickable&&"default"!==i.color&&(0,r.Z)({},"&:hover, &.".concat(pn.focusVisible),{backgroundColor:(n.vars||n).palette[i.color].dark}))}),(function(t){var e,n,i=t.theme,o=t.ownerState;return(0,a.Z)({},"outlined"===o.variant&&(e={backgroundColor:"transparent",border:i.vars?"1px solid ".concat(i.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===i.palette.mode?i.palette.grey[400]:i.palette.grey[700])},(0,r.Z)(e,"&.".concat(pn.clickable,":hover"),{backgroundColor:(i.vars||i).palette.action.hover}),(0,r.Z)(e,"&.".concat(pn.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,r.Z)(e,"& .".concat(pn.avatar),{marginLeft:4}),(0,r.Z)(e,"& .".concat(pn.avatarSmall),{marginLeft:2}),(0,r.Z)(e,"& .".concat(pn.icon),{marginLeft:4}),(0,r.Z)(e,"& .".concat(pn.iconSmall),{marginLeft:2}),(0,r.Z)(e,"& .".concat(pn.deleteIcon),{marginRight:5}),(0,r.Z)(e,"& .".concat(pn.deleteIconSmall),{marginRight:3}),e),"outlined"===o.variant&&"default"!==o.color&&(n={color:(i.vars||i).palette[o.color].main,border:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.7)"):(0,b.Fq)(i.palette[o.color].main,.7))},(0,r.Z)(n,"&.".concat(pn.clickable,":hover"),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,b.Fq)(i.palette[o.color].main,i.palette.action.hoverOpacity)}),(0,r.Z)(n,"&.".concat(pn.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.focusOpacity,")"):(0,b.Fq)(i.palette[o.color].main,i.palette.action.focusOpacity)}),(0,r.Z)(n,"& .".concat(pn.deleteIcon),{color:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.7)"):(0,b.Fq)(i.palette[o.color].main,.7),"&:hover, &:active":{color:(i.vars||i).palette[o.color].main}}),n))})),gn=(0,te.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(t,e){var n=t.ownerState.size;return[e.label,e["label".concat((0,ae.Z)(n))]]}})((function(t){var e=t.ownerState;return(0,a.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===e.size&&{paddingLeft:8,paddingRight:8})}));function yn(t){return"Backspace"===t.key||"Delete"===t.key}var bn=o.forwardRef((function(t,e){var n=(0,ee.Z)({props:t,name:"MuiChip"}),r=n.avatar,u=n.className,c=n.clickable,h=n.color,f=void 0===h?"default":h,A=n.component,d=n.deleteIcon,p=n.disabled,m=void 0!==p&&p,v=n.icon,g=n.label,y=n.onClick,b=n.onDelete,_=n.onKeyDown,x=n.onKeyUp,w=n.size,S=void 0===w?"medium":w,M=n.variant,E=void 0===M?"filled":M,T=n.tabIndex,P=n.skipFocusWhenDisabled,k=void 0!==P&&P,L=(0,i.Z)(n,mn),C=o.useRef(null),R=(0,Ae.Z)(C,e),N=function(t){t.stopPropagation(),b&&b(t)},O=!(!1===c||!y)||c,I=O||b?on:A||"div",D=(0,a.Z)({},n,{component:I,disabled:m,size:S,color:f,iconColor:o.isValidElement(v)&&v.props.color||f,onDelete:!!b,clickable:O,variant:E}),B=function(t){var e=t.classes,n=t.disabled,r=t.size,i=t.color,a=t.iconColor,o=t.onDelete,s=t.clickable,u=t.variant,c={root:["root",u,n&&"disabled","size".concat((0,ae.Z)(r)),"color".concat((0,ae.Z)(i)),s&&"clickable",s&&"clickableColor".concat((0,ae.Z)(i)),o&&"deletable",o&&"deletableColor".concat((0,ae.Z)(i)),"".concat(u).concat((0,ae.Z)(i))],label:["label","label".concat((0,ae.Z)(r))],avatar:["avatar","avatar".concat((0,ae.Z)(r)),"avatarColor".concat((0,ae.Z)(i))],icon:["icon","icon".concat((0,ae.Z)(r)),"iconColor".concat((0,ae.Z)(a))],deleteIcon:["deleteIcon","deleteIcon".concat((0,ae.Z)(r)),"deleteIconColor".concat((0,ae.Z)(i)),"deleteIcon".concat((0,ae.Z)(u),"Color").concat((0,ae.Z)(i))]};return(0,l.Z)(c,dn,e)}(D),q=I===on?(0,a.Z)({component:A||"div",focusVisibleClassName:B.focusVisible},b&&{disableRipple:!0}):{},F=null;b&&(F=d&&o.isValidElement(d)?o.cloneElement(d,{className:(0,s.Z)(d.props.className,B.deleteIcon),onClick:N}):(0,Gt.jsx)(An,{className:(0,s.Z)(B.deleteIcon),onClick:N}));var U=null;r&&o.isValidElement(r)&&(U=o.cloneElement(r,{className:(0,s.Z)(B.avatar,r.props.className)}));var z=null;return v&&o.isValidElement(v)&&(z=o.cloneElement(v,{className:(0,s.Z)(B.icon,v.props.className)})),(0,Gt.jsxs)(vn,(0,a.Z)({as:I,className:(0,s.Z)(B.root,u),disabled:!(!O||!m)||void 0,onClick:y,onKeyDown:function(t){t.currentTarget===t.target&&yn(t)&&t.preventDefault(),_&&_(t)},onKeyUp:function(t){t.currentTarget===t.target&&(b&&yn(t)?b(t):"Escape"===t.key&&C.current&&C.current.blur()),x&&x(t)},ref:R,tabIndex:k&&m?-1:T,ownerState:D},q,L,{children:[U||z,(0,Gt.jsx)(gn,{className:(0,s.Z)(B.label),ownerState:D,children:g}),F]}))})),_n=n(6779),xn=n(5891),wn=n(6059),Sn=n(6285),Mn=(0,fn.Z)((0,Gt.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),En=n(9059);function Tn(t){return(0,Ut.Z)("MuiAutocomplete",t)}var Pn,kn,Ln=(0,zt.Z)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Cn=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Rn=["ref"],Nn=(0,te.ZP)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState,i=n.fullWidth,a=n.hasClearIcon,o=n.hasPopupIcon,s=n.inputFocused,l=n.size;return[(0,r.Z)({},"& .".concat(Ln.tag),e.tag),(0,r.Z)({},"& .".concat(Ln.tag),e["tagSize".concat((0,ae.Z)(l))]),(0,r.Z)({},"& .".concat(Ln.inputRoot),e.inputRoot),(0,r.Z)({},"& .".concat(Ln.input),e.input),(0,r.Z)({},"& .".concat(Ln.input),s&&e.inputFocused),e.root,i&&e.fullWidth,o&&e.hasPopupIcon,a&&e.hasClearIcon]}})((function(t){var e,n,i,o,s,l=t.ownerState;return(0,a.Z)((e={},(0,r.Z)(e,"&.".concat(Ln.focused," .").concat(Ln.clearIndicator),{visibility:"visible"}),(0,r.Z)(e,"@media (pointer: fine)",(0,r.Z)({},"&:hover .".concat(Ln.clearIndicator),{visibility:"visible"})),e),l.fullWidth&&{width:"100%"},(s={},(0,r.Z)(s,"& .".concat(Ln.tag),(0,a.Z)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===l.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),(0,r.Z)(s,"& .".concat(Ln.inputRoot),(n={flexWrap:"wrap"},(0,r.Z)(n,".".concat(Ln.hasPopupIcon,"&, .").concat(Ln.hasClearIcon,"&"),{paddingRight:30}),(0,r.Z)(n,".".concat(Ln.hasPopupIcon,".").concat(Ln.hasClearIcon,"&"),{paddingRight:56}),(0,r.Z)(n,"& .".concat(Ln.input),{width:0,minWidth:30}),n)),(0,r.Z)(s,"& .".concat(_n.Z.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),(0,r.Z)(s,"& .".concat(_n.Z.root,".").concat(xn.Z.sizeSmall),(0,r.Z)({},"& .".concat(_n.Z.input),{padding:"2px 4px 3px 0"})),(0,r.Z)(s,"& .".concat(wn.Z.root),(i={padding:9},(0,r.Z)(i,".".concat(Ln.hasPopupIcon,"&, .").concat(Ln.hasClearIcon,"&"),{paddingRight:39}),(0,r.Z)(i,".".concat(Ln.hasPopupIcon,".").concat(Ln.hasClearIcon,"&"),{paddingRight:65}),(0,r.Z)(i,"& .".concat(Ln.input),{padding:"7.5px 4px 7.5px 5px"}),(0,r.Z)(i,"& .".concat(Ln.endAdornment),{right:9}),i)),(0,r.Z)(s,"& .".concat(wn.Z.root,".").concat(xn.Z.sizeSmall),(0,r.Z)({paddingTop:6,paddingBottom:6,paddingLeft:6},"& .".concat(Ln.input),{padding:"2.5px 4px 2.5px 8px"})),(0,r.Z)(s,"& .".concat(Sn.Z.root),(o={paddingTop:19,paddingLeft:8},(0,r.Z)(o,".".concat(Ln.hasPopupIcon,"&, .").concat(Ln.hasClearIcon,"&"),{paddingRight:39}),(0,r.Z)(o,".".concat(Ln.hasPopupIcon,".").concat(Ln.hasClearIcon,"&"),{paddingRight:65}),(0,r.Z)(o,"& .".concat(Sn.Z.input),{padding:"7px 4px"}),(0,r.Z)(o,"& .".concat(Ln.endAdornment),{right:9}),o)),(0,r.Z)(s,"& .".concat(Sn.Z.root,".").concat(xn.Z.sizeSmall),(0,r.Z)({paddingBottom:1},"& .".concat(Sn.Z.input),{padding:"2.5px 4px"})),(0,r.Z)(s,"& .".concat(xn.Z.hiddenLabel),{paddingTop:8}),(0,r.Z)(s,"& .".concat(Sn.Z.root,".").concat(xn.Z.hiddenLabel),(0,r.Z)({paddingTop:0,paddingBottom:0},"& .".concat(Ln.input),{paddingTop:16,paddingBottom:17})),(0,r.Z)(s,"& .".concat(Sn.Z.root,".").concat(xn.Z.hiddenLabel,".").concat(xn.Z.sizeSmall),(0,r.Z)({},"& .".concat(Ln.input),{paddingTop:8,paddingBottom:9})),(0,r.Z)(s,"& .".concat(Ln.input),(0,a.Z)({flexGrow:1,textOverflow:"ellipsis",opacity:0},l.inputFocused&&{opacity:1})),s))})),On=(0,te.ZP)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(t,e){return e.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),In=(0,te.ZP)(hn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(t,e){return e.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),Dn=(0,te.ZP)(hn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(t,e){var n=t.ownerState;return(0,a.Z)({},e.popupIndicator,n.popupOpen&&e.popupIndicatorOpen)}})((function(t){var e=t.ownerState;return(0,a.Z)({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})})),Bn=(0,te.ZP)(ie,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(t,e){var n=t.ownerState;return[(0,r.Z)({},"& .".concat(Ln.option),e.option),e.popper,n.disablePortal&&e.popperDisablePortal]}})((function(t){var e=t.theme,n=t.ownerState;return(0,a.Z)({zIndex:(e.vars||e).zIndex.modal},n.disablePortal&&{position:"absolute"})})),qn=(0,te.ZP)(fe.Z,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(t,e){return e.paper}})((function(t){var e=t.theme;return(0,a.Z)({},e.typography.body1,{overflow:"auto"})})),Fn=(0,te.ZP)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(t,e){return e.loading}})((function(t){var e=t.theme;return{color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}})),Un=(0,te.ZP)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(t,e){return e.noOptions}})((function(t){var e=t.theme;return{color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}})),zn=(0,te.ZP)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(t,e){return e.listbox}})((function(t){var e,n,i=t.theme;return(0,r.Z)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative"},"& .".concat(Ln.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,r.Z)(n,i.breakpoints.up("sm"),{minHeight:"auto"}),(0,r.Z)(n,"&.".concat(Ln.focused),{backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,r.Z)(n,'&[aria-disabled="true"]',{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"}),(0,r.Z)(n,"&.".concat(Ln.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,r.Z)(n,'&[aria-selected="true"]',(e={backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,b.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)},(0,r.Z)(e,"&.".concat(Ln.focused),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,b.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(i.vars||i).palette.action.selected}}),(0,r.Z)(e,"&.".concat(Ln.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,b.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}),e)),n))})),Zn=(0,te.ZP)(he,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(t,e){return e.groupLabel}})((function(t){var e=t.theme;return{backgroundColor:(e.vars||e).palette.background.paper,top:-8}})),jn=(0,te.ZP)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(t,e){return e.groupUl}})((0,r.Z)({padding:0},"& .".concat(Ln.option),{paddingLeft:24})),Hn=o.forwardRef((function(t,e){var n,r,u,c,h,f=(0,ee.Z)({props:t,name:"MuiAutocomplete"}),A=(f.autoComplete,f.autoHighlight,f.autoSelect,f.blurOnSelect,f.ChipProps),d=f.className,p=f.clearIcon,m=void 0===p?Pn||(Pn=(0,Gt.jsx)(Mn,{fontSize:"small"})):p,v=f.clearOnBlur,g=(void 0===v&&f.freeSolo,f.clearOnEscape,f.clearText),b=void 0===g?"Clear":g,_=f.closeText,x=void 0===_?"Close":_,w=f.componentsProps,S=void 0===w?{}:w,M=f.defaultValue,E=(void 0===M&&f.multiple,f.disableClearable),T=void 0!==E&&E,P=(f.disableCloseOnSelect,f.disabled),k=void 0!==P&&P,L=(f.disabledItemsFocusable,f.disableListWrap,f.disablePortal),C=void 0!==L&&L,R=(f.filterSelectedOptions,f.forcePopupIcon),N=void 0===R?"auto":R,O=f.freeSolo,I=void 0!==O&&O,D=f.fullWidth,B=void 0!==D&&D,q=f.getLimitTagsText,F=void 0===q?function(t){return"+".concat(t)}:q,U=f.getOptionLabel,z=void 0===U?function(t){var e;return null!=(e=t.label)?e:t}:U,Z=f.groupBy,j=f.handleHomeEndKeys,H=(void 0===j&&f.freeSolo,f.includeInputInList,f.limitTags),G=void 0===H?-1:H,V=f.ListboxComponent,W=void 0===V?"ul":V,X=f.ListboxProps,Y=f.loading,Q=void 0!==Y&&Y,K=f.loadingText,J=void 0===K?"Loading\u2026":K,$=f.multiple,tt=void 0!==$&&$,et=f.noOptionsText,nt=void 0===et?"No options":et,rt=(f.openOnFocus,f.openText),it=void 0===rt?"Open":rt,at=f.PaperComponent,ot=void 0===at?fe.Z:at,st=f.PopperComponent,lt=void 0===st?ie:st,ut=f.popupIcon,ct=void 0===ut?kn||(kn=(0,Gt.jsx)(En.Z,{})):ut,ht=f.readOnly,ft=void 0!==ht&&ht,At=f.renderGroup,dt=f.renderInput,pt=f.renderOption,mt=f.renderTags,vt=f.selectOnFocus,gt=(void 0===vt&&f.freeSolo,f.size),yt=void 0===gt?"medium":gt,bt=f.slotProps,_t=void 0===bt?{}:bt,xt=(0,i.Z)(f,Cn),wt=y((0,a.Z)({},f,{componentName:"Autocomplete"})),St=wt.getRootProps,Mt=wt.getInputProps,Et=wt.getInputLabelProps,Tt=wt.getPopupIndicatorProps,Pt=wt.getClearProps,kt=wt.getTagProps,Lt=wt.getListboxProps,Ct=wt.getOptionProps,Rt=wt.value,Nt=wt.dirty,Ot=wt.expanded,It=wt.id,Dt=wt.popupOpen,Bt=wt.focused,qt=wt.focusedTag,Ft=wt.anchorEl,Ut=wt.setAnchorEl,zt=wt.inputValue,Zt=wt.groupedOptions,jt=!T&&!k&&Nt&&!ft,Ht=(!I||!0===N)&&!1!==N,Vt=Mt().onMouseDown,Wt=(null!=X?X:{}).ref,Xt=Lt(),Yt=Xt.ref,Qt=(0,i.Z)(Xt,Rn),Kt=(0,Ae.Z)(Yt,Wt),Jt=(0,a.Z)({},f,{disablePortal:C,expanded:Ot,focused:Bt,fullWidth:B,hasClearIcon:jt,hasPopupIcon:Ht,inputFocused:-1===qt,popupOpen:Dt,size:yt}),$t=function(t){var e=t.classes,n=t.disablePortal,r=t.expanded,i=t.focused,a=t.fullWidth,o=t.hasClearIcon,s=t.hasPopupIcon,u=t.inputFocused,c=t.popupOpen,h=t.size,f={root:["root",r&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",u&&"inputFocused"],tag:["tag","tagSize".concat((0,ae.Z)(h))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,l.Z)(f,Tn,e)}(Jt);if(tt&&Rt.length>0){var te=function(t){return(0,a.Z)({className:$t.tag,disabled:k},kt(t))};h=mt?mt(Rt,te,Jt):Rt.map((function(t,e){return(0,Gt.jsx)(bn,(0,a.Z)({label:z(t),size:yt},te({index:e}),A))}))}if(G>-1&&Array.isArray(h)){var ne=h.length-G;!Bt&&ne>0&&(h=h.splice(0,G)).push((0,Gt.jsx)("span",{className:$t.tag,children:F(ne)},h.length))}var re=At||function(t){return(0,Gt.jsxs)("li",{children:[(0,Gt.jsx)(Zn,{className:$t.groupLabel,ownerState:Jt,component:"div",children:t.group}),(0,Gt.jsx)(jn,{className:$t.groupUl,ownerState:Jt,children:t.children})]},t.key)},oe=pt||function(t,e){return(0,Gt.jsx)("li",(0,a.Z)({},t,{children:z(e)}))},se=function(t,e){var n=Ct({option:t,index:e});return oe((0,a.Z)({},n,{className:$t.option}),t,{selected:n["aria-selected"],index:e,inputValue:zt})},le=null!=(n=_t.clearIndicator)?n:S.clearIndicator,ue=null!=(r=_t.paper)?r:S.paper,ce=null!=(u=_t.popper)?u:S.popper,he=null!=(c=_t.popupIndicator)?c:S.popupIndicator;return(0,Gt.jsxs)(o.Fragment,{children:[(0,Gt.jsx)(Nn,(0,a.Z)({ref:e,className:(0,s.Z)($t.root,d),ownerState:Jt},St(xt),{children:dt({id:It,disabled:k,fullWidth:!0,size:"small"===yt?"small":void 0,InputLabelProps:Et(),InputProps:(0,a.Z)({ref:Ut,className:$t.inputRoot,startAdornment:h,onClick:function(t){t.target===t.currentTarget&&Vt(t)}},(jt||Ht)&&{endAdornment:(0,Gt.jsxs)(On,{className:$t.endAdornment,ownerState:Jt,children:[jt?(0,Gt.jsx)(In,(0,a.Z)({},Pt(),{"aria-label":b,title:b,ownerState:Jt},le,{className:(0,s.Z)($t.clearIndicator,null==le?void 0:le.className),children:m})):null,Ht?(0,Gt.jsx)(Dn,(0,a.Z)({},Tt(),{disabled:k,"aria-label":Dt?x:it,title:Dt?x:it,ownerState:Jt},he,{className:(0,s.Z)($t.popupIndicator,null==he?void 0:he.className),children:ct})):null]})}),inputProps:(0,a.Z)({className:$t.input,disabled:k,readOnly:ft},Mt())})})),Ft?(0,Gt.jsx)(Bn,(0,a.Z)({as:lt,disablePortal:C,style:{width:Ft?Ft.clientWidth:null},ownerState:Jt,role:"presentation",anchorEl:Ft,open:Dt},ce,{className:(0,s.Z)($t.popper,null==ce?void 0:ce.className),children:(0,Gt.jsxs)(qn,(0,a.Z)({ownerState:Jt,as:ot},ue,{className:(0,s.Z)($t.paper,null==ue?void 0:ue.className),children:[Q&&0===Zt.length?(0,Gt.jsx)(Fn,{className:$t.loading,ownerState:Jt,children:J}):null,0!==Zt.length||I||Q?null:(0,Gt.jsx)(Un,{className:$t.noOptions,ownerState:Jt,role:"presentation",onMouseDown:function(t){t.preventDefault()},children:nt}),Zt.length>0?(0,Gt.jsx)(zn,(0,a.Z)({as:W,className:$t.listbox,ownerState:Jt},Qt,X,{ref:Kt,children:Zt.map((function(t,e){return Z?re({key:t.key,group:t.group,children:t.options.map((function(e,n){return se(e,t.index+n)}))}):se(t,e)}))})):null]}))})):null]})}))},6285:function(t,e,n){"use strict";n.d(e,{_:function(){return s}});var r=n(7462),i=n(5878),a=n(7225),o=n(5891);function s(t){return(0,a.Z)("MuiFilledInput",t)}var l=(0,r.Z)({},o.Z,(0,i.Z)("MuiFilledInput",["root","underline","input"]));e.Z=l},6779:function(t,e,n){"use strict";n.d(e,{l:function(){return s}});var r=n(7462),i=n(5878),a=n(7225),o=n(5891);function s(t){return(0,a.Z)("MuiInput",t)}var l=(0,r.Z)({},o.Z,(0,i.Z)("MuiInput",["root","underline","input"]));e.Z=l},5891:function(t,e,n){"use strict";n.d(e,{u:function(){return a}});var r=n(5878),i=n(7225);function a(t){return(0,i.Z)("MuiInputBase",t)}var o=(0,r.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);e.Z=o},6059:function(t,e,n){"use strict";n.d(e,{e:function(){return s}});var r=n(7462),i=n(5878),a=n(7225),o=n(5891);function s(t){return(0,a.Z)("MuiOutlinedInput",t)}var l=(0,r.Z)({},o.Z,(0,i.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));e.Z=l},5527:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(3366),i=n(7462),a=n(2791),o=n(8182),s=n(4419),l=n(2065),u=n(4923),c=function(t){return((t<1?5.11916*Math.pow(t,2):4.5*Math.log(t+1)+2)/100).toFixed(2)},h=n(551),f=n(5878),A=n(7225);function d(t){return(0,A.Z)("MuiPaper",t)}(0,f.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p=n(184),m=["className","component","elevation","square","variant"],v=(0,u.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e["elevation".concat(n.elevation)]]}})((function(t){var e,n=t.theme,r=t.ownerState;return(0,i.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,i.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,l.Fq)("#fff",c(r.elevation)),", ").concat((0,l.Fq)("#fff",c(r.elevation)),")")},n.vars&&{backgroundImage:null==(e=n.vars.overlays)?void 0:e[r.elevation]}))})),g=a.forwardRef((function(t,e){var n=(0,h.Z)({props:t,name:"MuiPaper"}),a=n.className,l=n.component,u=void 0===l?"div":l,c=n.elevation,f=void 0===c?1:c,A=n.square,g=void 0!==A&&A,y=n.variant,b=void 0===y?"elevation":y,_=(0,r.Z)(n,m),x=(0,i.Z)({},n,{component:u,elevation:f,square:g,variant:b}),w=function(t){var e=t.square,n=t.elevation,r=t.variant,i=t.classes,a={root:["root",r,!e&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,s.Z)(a,d,i)}(x);return(0,p.jsx)(v,(0,i.Z)({as:u,ownerState:x,className:(0,o.Z)(w.root,a),ref:e},_))}))},471:function(t,e,n){"use strict";n.d(e,{Z:function(){return ar}});var r=n(7462),i=n(3366),a=n(2791),o=n(8182),s=n(4419),l=n(8252),u=n(4923),c=n(551),h=n(4942),f=n(3433),A=n(2466),d=n(9439),p=n(6189),m=n(4164),v=n(6117),g=n(4913);function y(t){return(0,g.Z)(t).defaultView||window}function b(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(e),e=setTimeout((function(){t.apply(r,a)}),n)}return r.clear=function(){clearTimeout(e)},r}var _=n(2876),x=n(184),w=["onChange","maxRows","minRows","style","value"];function S(t){return parseInt(t,10)||0}var M={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function E(t){return void 0===t||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflow}var T=a.forwardRef((function(t,e){var n=t.onChange,o=t.maxRows,s=t.minRows,l=void 0===s?1:s,u=t.style,c=t.value,h=(0,i.Z)(t,w),f=a.useRef(null!=c).current,A=a.useRef(null),p=(0,v.Z)(e,A),g=a.useRef(null),T=a.useRef(0),P=a.useState({outerHeightStyle:0}),k=(0,d.Z)(P,2),L=k[0],C=k[1],R=a.useCallback((function(){var e=A.current,n=y(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0};var r=g.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n.boxSizing,a=S(n.paddingBottom)+S(n.paddingTop),s=S(n.borderBottomWidth)+S(n.borderTopWidth),u=r.scrollHeight;r.value="x";var c=r.scrollHeight,h=u;return l&&(h=Math.max(Number(l)*c,h)),o&&(h=Math.min(Number(o)*c,h)),{outerHeightStyle:(h=Math.max(h,c))+("border-box"===i?a+s:0),overflow:Math.abs(h-u)<=1}}),[o,l,t.placeholder]),N=function(t,e){var n=e.outerHeightStyle,r=e.overflow;return T.current<20&&(n>0&&Math.abs((t.outerHeightStyle||0)-n)>1||t.overflow!==r)?(T.current+=1,{overflow:r,outerHeightStyle:n}):t},O=a.useCallback((function(){var t=R();E(t)||C((function(e){return N(e,t)}))}),[R]);a.useEffect((function(){var t,e=b((function(){T.current=0,A.current&&function(){var t=R();E(t)||m.flushSync((function(){C((function(e){return N(e,t)}))}))}()})),n=A.current,r=y(n);return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e)).observe(n),function(){e.clear(),r.removeEventListener("resize",e),t&&t.disconnect()}})),(0,_.Z)((function(){O()})),a.useEffect((function(){T.current=0}),[c]);return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)("textarea",(0,r.Z)({value:c,onChange:function(t){T.current=0,f||O(),n&&n(t)},ref:p,rows:l,style:(0,r.Z)({height:L.outerHeightStyle,overflow:L.overflow?"hidden":void 0},u)},h)),(0,x.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:(0,r.Z)({},M,u,{padding:0})})]})})),P=n(627);function k(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce((function(t,n){return t[n]=e[n],r&&"undefined"===typeof e[n]&&(t[n]=r[n]),t}),{})}var L=a.createContext(void 0);function C(){return a.useContext(L)}var R=n(4036),N=n(2071),O=_.Z,I=n(2554);function D(t){var e=t.styles,n=t.defaultTheme,r=void 0===n?{}:n,i="function"===typeof e?function(t){return e(void 0===(n=t)||null===n||0===Object.keys(n).length?r:t);var n}:e;return(0,x.jsx)(I.xB,{styles:i})}var B=n(418);var q=function(t){var e=t.styles,n=t.themeId,r=t.defaultTheme,i=void 0===r?{}:r,a=(0,B.Z)(i),o="function"===typeof e?e(n&&a[n]||a):e;return(0,x.jsx)(D,{styles:o})},F=n(4591),U=n(988);var z=function(t){return(0,x.jsx)(q,(0,r.Z)({},t,{defaultTheme:F.Z,themeId:U.Z}))};function Z(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function j(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(Z(t.value)&&""!==t.value||e&&Z(t.defaultValue)&&""!==t.defaultValue)}var H=n(5891),G=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],V=function(t,e){var n=t.ownerState;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e["color".concat((0,R.Z)(n.color))],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},W=function(t,e){var n=t.ownerState;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},X=(0,u.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:V})((function(t){var e=t.theme,n=t.ownerState;return(0,r.Z)({},e.typography.body1,(0,h.Z)({color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(H.Z.disabled),{color:(e.vars||e).palette.text.disabled,cursor:"default"}),n.multiline&&(0,r.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Y=(0,u.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:W})((function(t){var e,n=t.theme,i=t.ownerState,a="light"===n.palette.mode,o=(0,r.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),s={opacity:"0 !important"},l=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return(0,r.Z)((e={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,h.Z)(e,"label[data-shrink=false] + .".concat(H.Z.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),(0,h.Z)(e,"&.".concat(H.Z.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,h.Z)(e,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),e),"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield"})})),Q=(0,x.jsx)(z,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),K=a.forwardRef((function(t,e){var n,l=(0,c.Z)({props:t,name:"MuiInputBase"}),u=l["aria-describedby"],h=l.autoComplete,f=l.autoFocus,A=l.className,m=l.components,v=void 0===m?{}:m,g=l.componentsProps,y=void 0===g?{}:g,b=l.defaultValue,_=l.disabled,w=l.disableInjectingGlobalStyles,S=l.endAdornment,M=l.fullWidth,E=void 0!==M&&M,I=l.id,D=l.inputComponent,B=void 0===D?"input":D,q=l.inputProps,F=void 0===q?{}:q,U=l.inputRef,z=l.maxRows,Z=l.minRows,V=l.multiline,W=void 0!==V&&V,K=l.name,J=l.onBlur,$=l.onChange,tt=l.onClick,et=l.onFocus,nt=l.onKeyDown,rt=l.onKeyUp,it=l.placeholder,at=l.readOnly,ot=l.renderSuffix,st=l.rows,lt=l.slotProps,ut=void 0===lt?{}:lt,ct=l.slots,ht=void 0===ct?{}:ct,ft=l.startAdornment,At=l.type,dt=void 0===At?"text":At,pt=l.value,mt=(0,i.Z)(l,G),vt=null!=F.value?F.value:pt,gt=a.useRef(null!=vt).current,yt=a.useRef(),bt=a.useCallback((function(t){0}),[]),_t=(0,N.Z)(yt,U,F.ref,bt),xt=a.useState(!1),wt=(0,d.Z)(xt,2),St=wt[0],Mt=wt[1],Et=C();var Tt=k({props:l,muiFormControl:Et,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Tt.focused=Et?Et.focused:St,a.useEffect((function(){!Et&&_&&St&&(Mt(!1),J&&J())}),[Et,_,St,J]);var Pt=Et&&Et.onFilled,kt=Et&&Et.onEmpty,Lt=a.useCallback((function(t){j(t)?Pt&&Pt():kt&&kt()}),[Pt,kt]);O((function(){gt&&Lt({value:vt})}),[vt,Lt,gt]);a.useEffect((function(){Lt(yt.current)}),[]);var Ct=B,Rt=F;W&&"input"===Ct&&(Rt=st?(0,r.Z)({type:void 0,minRows:st,maxRows:st},Rt):(0,r.Z)({type:void 0,maxRows:z,minRows:Z},Rt),Ct=T);a.useEffect((function(){Et&&Et.setAdornedStart(Boolean(ft))}),[Et,ft]);var Nt=(0,r.Z)({},l,{color:Tt.color||"primary",disabled:Tt.disabled,endAdornment:S,error:Tt.error,focused:Tt.focused,formControl:Et,fullWidth:E,hiddenLabel:Tt.hiddenLabel,multiline:W,size:Tt.size,startAdornment:ft,type:dt}),Ot=function(t){var e=t.classes,n=t.color,r=t.disabled,i=t.error,a=t.endAdornment,o=t.focused,l=t.formControl,u=t.fullWidth,c=t.hiddenLabel,h=t.multiline,f=t.readOnly,A=t.size,d=t.startAdornment,p=t.type,m={root:["root","color".concat((0,R.Z)(n)),r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",l&&"formControl","small"===A&&"sizeSmall",h&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",h&&"inputMultiline","small"===A&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]};return(0,s.Z)(m,H.u,e)}(Nt),It=ht.root||v.Root||X,Dt=ut.root||y.root||{},Bt=ht.input||v.Input||Y;return Rt=(0,r.Z)({},Rt,null!=(n=ut.input)?n:y.input),(0,x.jsxs)(a.Fragment,{children:[!w&&Q,(0,x.jsxs)(It,(0,r.Z)({},Dt,!(0,P.Z)(It)&&{ownerState:(0,r.Z)({},Nt,Dt.ownerState)},{ref:e,onClick:function(t){yt.current&&t.currentTarget===t.target&&yt.current.focus(),tt&&!Tt.disabled&&tt(t)}},mt,{className:(0,o.Z)(Ot.root,Dt.className,A,at&&"MuiInputBase-readOnly"),children:[ft,(0,x.jsx)(L.Provider,{value:null,children:(0,x.jsx)(Bt,(0,r.Z)({ownerState:Nt,"aria-invalid":Tt.error,"aria-describedby":u,autoComplete:h,autoFocus:f,defaultValue:b,disabled:Tt.disabled,id:I,onAnimationStart:function(t){Lt("mui-auto-fill-cancel"===t.animationName?yt.current:{value:"x"})},name:K,placeholder:it,readOnly:at,required:Tt.required,rows:st,value:vt,onKeyDown:nt,onKeyUp:rt,type:dt},Rt,!(0,P.Z)(Bt)&&{as:Ct,ownerState:(0,r.Z)({},Nt,Rt.ownerState)},{ref:_t,className:(0,o.Z)(Ot.input,Rt.className,at&&"MuiInputBase-readOnly"),onBlur:function(t){J&&J(t),F.onBlur&&F.onBlur(t),Et&&Et.onBlur?Et.onBlur(t):Mt(!1)},onChange:function(t){if(!gt){var e=t.target||yt.current;if(null==e)throw new Error((0,p.Z)(1));Lt({value:e.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];F.onChange&&F.onChange.apply(F,[t].concat(r)),$&&$.apply(void 0,[t].concat(r))},onFocus:function(t){Tt.disabled?t.stopPropagation():(et&&et(t),F.onFocus&&F.onFocus(t),Et&&Et.onFocus?Et.onFocus(t):Mt(!0))}}))}),S,ot?ot((0,r.Z)({},Tt,{startAdornment:ft})):null]}))]})})),J=K,$=n(6779),tt=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],et=(0,u.ZP)(X,{shouldForwardProp:function(t){return(0,u.FO)(t)||"classes"===t},name:"MuiInput",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[].concat((0,f.Z)(V(t,e)),[!n.disableUnderline&&e.underline])}})((function(t){var e,n=t.theme,i=t.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(a="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,r.Z)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&(e={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,h.Z)(e,"&.".concat($.Z.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,h.Z)(e,"&.".concat($.Z.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,h.Z)(e,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,h.Z)(e,"&:hover:not(.".concat($.Z.disabled,", .").concat($.Z.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),(0,h.Z)(e,"&.".concat($.Z.disabled,":before"),{borderBottomStyle:"dotted"}),e))})),nt=(0,u.ZP)(Y,{name:"MuiInput",slot:"Input",overridesResolver:W})({}),rt=a.forwardRef((function(t,e){var n,a,o,l,u=(0,c.Z)({props:t,name:"MuiInput"}),h=u.disableUnderline,f=u.components,d=void 0===f?{}:f,p=u.componentsProps,m=u.fullWidth,v=void 0!==m&&m,g=u.inputComponent,y=void 0===g?"input":g,b=u.multiline,_=void 0!==b&&b,w=u.slotProps,S=u.slots,M=void 0===S?{}:S,E=u.type,T=void 0===E?"text":E,P=(0,i.Z)(u,tt),k=function(t){var e=t.classes,n={root:["root",!t.disableUnderline&&"underline"],input:["input"]},i=(0,s.Z)(n,$.l,e);return(0,r.Z)({},e,i)}(u),L={root:{ownerState:{disableUnderline:h}}},C=(null!=w?w:p)?(0,A.Z)(null!=w?w:p,L):L,R=null!=(n=null!=(a=M.root)?a:d.Root)?n:et,N=null!=(o=null!=(l=M.input)?l:d.Input)?o:nt;return(0,x.jsx)(J,(0,r.Z)({slots:{root:R,input:N},slotProps:C,fullWidth:v,inputComponent:y,multiline:_,ref:e,type:T},P,{classes:k}))}));rt.muiName="Input";var it=rt,at=n(6285),ot=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],st=(0,u.ZP)(X,{shouldForwardProp:function(t){return(0,u.FO)(t)||"classes"===t},name:"MuiFilledInput",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[].concat((0,f.Z)(V(t,e)),[!n.disableUnderline&&e.underline])}})((function(t){var e,n,i,a=t.theme,o=t.ownerState,s="light"===a.palette.mode,l=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,r.Z)((e={position:"relative",backgroundColor:a.vars?a.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(a.vars||a).shape.borderRadius,borderTopRightRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),"&:hover":{backgroundColor:a.vars?a.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:a.vars?a.vars.palette.FilledInput.bg:u}}},(0,h.Z)(e,"&.".concat(at.Z.focused),{backgroundColor:a.vars?a.vars.palette.FilledInput.bg:u}),(0,h.Z)(e,"&.".concat(at.Z.disabled),{backgroundColor:a.vars?a.vars.palette.FilledInput.disabledBg:f}),e),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(i=(a.vars||a).palette[o.color||"primary"])?void 0:i.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:a.transitions.create("transform",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),pointerEvents:"none"}},(0,h.Z)(n,"&.".concat(at.Z.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,h.Z)(n,"&.".concat(at.Z.error),{"&:before, &:after":{borderBottomColor:(a.vars||a).palette.error.main}}),(0,h.Z)(n,"&:before",{borderBottom:"1px solid ".concat(a.vars?"rgba(".concat(a.vars.palette.common.onBackgroundChannel," / ").concat(a.vars.opacity.inputUnderline,")"):l),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:a.transitions.create("border-bottom-color",{duration:a.transitions.duration.shorter}),pointerEvents:"none"}),(0,h.Z)(n,"&:hover:not(.".concat(at.Z.disabled,", .").concat(at.Z.error,"):before"),{borderBottom:"1px solid ".concat((a.vars||a).palette.text.primary)}),(0,h.Z)(n,"&.".concat(at.Z.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,r.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),lt=(0,u.ZP)(Y,{name:"MuiFilledInput",slot:"Input",overridesResolver:W})((function(t){var e=t.theme,n=t.ownerState;return(0,r.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&(0,h.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),ut=a.forwardRef((function(t,e){var n,a,o,l,u=(0,c.Z)({props:t,name:"MuiFilledInput"}),h=u.components,f=void 0===h?{}:h,d=u.componentsProps,p=u.fullWidth,m=void 0!==p&&p,v=u.inputComponent,g=void 0===v?"input":v,y=u.multiline,b=void 0!==y&&y,_=u.slotProps,w=u.slots,S=void 0===w?{}:w,M=u.type,E=void 0===M?"text":M,T=(0,i.Z)(u,ot),P=(0,r.Z)({},u,{fullWidth:m,inputComponent:g,multiline:b,type:E}),k=function(t){var e=t.classes,n={root:["root",!t.disableUnderline&&"underline"],input:["input"]},i=(0,s.Z)(n,at._,e);return(0,r.Z)({},e,i)}(u),L={root:{ownerState:P},input:{ownerState:P}},C=(null!=_?_:d)?(0,A.Z)(null!=_?_:d,L):L,R=null!=(n=null!=(a=S.root)?a:f.Root)?n:st,N=null!=(o=null!=(l=S.input)?l:f.Input)?o:lt;return(0,x.jsx)(J,(0,r.Z)({slots:{root:R,input:N},componentsProps:C,fullWidth:m,inputComponent:g,multiline:b,ref:e,type:E},T,{classes:k}))}));ut.muiName="Input";var ct,ht=ut,ft=["children","classes","className","label","notched"],At=(0,u.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dt=(0,u.ZP)("legend")((function(t){var e=t.ownerState,n=t.theme;return(0,r.Z)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},e.withLabel&&(0,r.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));var pt=n(6059),mt=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],vt=(0,u.ZP)(X,{shouldForwardProp:function(t){return(0,u.FO)(t)||"classes"===t},name:"MuiOutlinedInput",slot:"Root",overridesResolver:V})((function(t){var e,n=t.theme,i=t.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.Z)((e={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,h.Z)(e,"&:hover .".concat(pt.Z.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,h.Z)(e,"@media (hover: none)",(0,h.Z)({},"&:hover .".concat(pt.Z.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):a})),(0,h.Z)(e,"&.".concat(pt.Z.focused," .").concat(pt.Z.notchedOutline),{borderColor:(n.vars||n).palette[i.color].main,borderWidth:2}),(0,h.Z)(e,"&.".concat(pt.Z.error," .").concat(pt.Z.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,h.Z)(e,"&.".concat(pt.Z.disabled," .").concat(pt.Z.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),e),i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&(0,r.Z)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),gt=(0,u.ZP)((function(t){var e=t.className,n=t.label,a=t.notched,o=(0,i.Z)(t,ft),s=null!=n&&""!==n,l=(0,r.Z)({},t,{notched:a,withLabel:s});return(0,x.jsx)(At,(0,r.Z)({"aria-hidden":!0,className:e,ownerState:l},o,{children:(0,x.jsx)(dt,{ownerState:l,children:s?(0,x.jsx)("span",{children:n}):ct||(ct=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(t,e){return e.notchedOutline}})((function(t){var e=t.theme,n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),yt=(0,u.ZP)(Y,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:W})((function(t){var e=t.theme,n=t.ownerState;return(0,r.Z)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&(0,h.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},e.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),bt=a.forwardRef((function(t,e){var n,o,l,u,h,f=(0,c.Z)({props:t,name:"MuiOutlinedInput"}),A=f.components,d=void 0===A?{}:A,p=f.fullWidth,m=void 0!==p&&p,v=f.inputComponent,g=void 0===v?"input":v,y=f.label,b=f.multiline,_=void 0!==b&&b,w=f.notched,S=f.slots,M=void 0===S?{}:S,E=f.type,T=void 0===E?"text":E,P=(0,i.Z)(f,mt),L=function(t){var e=t.classes,n=(0,s.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pt.e,e);return(0,r.Z)({},e,n)}(f),R=C(),N=k({props:f,muiFormControl:R,states:["required"]}),O=(0,r.Z)({},f,{color:N.color||"primary",disabled:N.disabled,error:N.error,focused:N.focused,formControl:R,fullWidth:m,hiddenLabel:N.hiddenLabel,multiline:_,size:N.size,type:T}),I=null!=(n=null!=(o=M.root)?o:d.Root)?n:vt,D=null!=(l=null!=(u=M.input)?u:d.Input)?l:yt;return(0,x.jsx)(J,(0,r.Z)({slots:{root:I,input:D},renderSuffix:function(t){return(0,x.jsx)(gt,{ownerState:O,className:L.notchedOutline,label:null!=y&&""!==y&&N.required?h||(h=(0,x.jsxs)(a.Fragment,{children:[y,"\u2009","*"]})):y,notched:"undefined"!==typeof w?w:Boolean(t.startAdornment||t.filled||t.focused)})},fullWidth:m,inputComponent:g,multiline:_,ref:e,type:T},P,{classes:(0,r.Z)({},L,{notchedOutline:null})}))}));bt.muiName="Input";var _t=bt,xt=n(5878),wt=n(7225);function St(t){return(0,wt.Z)("MuiFormLabel",t)}var Mt=(0,xt.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Et=["children","className","color","component","disabled","error","filled","focused","required"],Tt=(0,u.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return(0,r.Z)({},e.root,"secondary"===n.color&&e.colorSecondary,n.filled&&e.filled)}})((function(t){var e,n=t.theme,i=t.ownerState;return(0,r.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(e={lineHeight:"1.4375em",padding:0,position:"relative"},(0,h.Z)(e,"&.".concat(Mt.focused),{color:(n.vars||n).palette[i.color].main}),(0,h.Z)(e,"&.".concat(Mt.disabled),{color:(n.vars||n).palette.text.disabled}),(0,h.Z)(e,"&.".concat(Mt.error),{color:(n.vars||n).palette.error.main}),e))})),Pt=(0,u.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(t,e){return e.asterisk}})((function(t){var e=t.theme;return(0,h.Z)({},"&.".concat(Mt.error),{color:(e.vars||e).palette.error.main})})),kt=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiFormLabel"}),a=n.children,l=n.className,u=n.component,h=void 0===u?"label":u,f=(0,i.Z)(n,Et),A=k({props:n,muiFormControl:C(),states:["color","required","focused","disabled","error","filled"]}),d=(0,r.Z)({},n,{color:A.color||"primary",component:h,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),p=function(t){var e=t.classes,n=t.color,r=t.focused,i=t.disabled,a=t.error,o=t.filled,l=t.required,u={root:["root","color".concat((0,R.Z)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return(0,s.Z)(u,St,e)}(d);return(0,x.jsxs)(Tt,(0,r.Z)({as:h,ownerState:d,className:(0,o.Z)(p.root,l),ref:e},f,{children:[a,A.required&&(0,x.jsxs)(Pt,{ownerState:d,"aria-hidden":!0,className:p.asterisk,children:["\u2009","*"]})]}))}));function Lt(t){return(0,wt.Z)("MuiInputLabel",t)}(0,xt.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Ct=["disableAnimation","margin","shrink","variant","className"],Rt=(0,u.ZP)(kt,{shouldForwardProp:function(t){return(0,u.FO)(t)||"classes"===t},name:"MuiInputLabel",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[(0,h.Z)({},"& .".concat(Mt.asterisk),e.asterisk),e.root,n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})((function(t){var e=t.theme,n=t.ownerState;return(0,r.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===n.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,r.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Nt=a.forwardRef((function(t,e){var n=(0,c.Z)({name:"MuiInputLabel",props:t}),a=n.disableAnimation,l=void 0!==a&&a,u=n.shrink,h=n.className,f=(0,i.Z)(n,Ct),A=C(),d=u;"undefined"===typeof d&&A&&(d=A.filled||A.focused||A.adornedStart);var p=k({props:n,muiFormControl:A,states:["size","variant","required"]}),m=(0,r.Z)({},n,{disableAnimation:l,formControl:A,shrink:d,size:p.size,variant:p.variant,required:p.required}),v=function(t){var e=t.classes,n=t.formControl,i=t.size,a=t.shrink,o={root:["root",n&&"formControl",!t.disableAnimation&&"animated",a&&"shrink","small"===i&&"sizeSmall",t.variant],asterisk:[t.required&&"asterisk"]},l=(0,s.Z)(o,Lt,e);return(0,r.Z)({},e,l)}(m);return(0,x.jsx)(Rt,(0,r.Z)({"data-shrink":d,ownerState:m,ref:e,className:(0,o.Z)(v.root,h)},f,{classes:v}))}));var Ot=function(t,e){return a.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)};function It(t){return(0,wt.Z)("MuiFormControl",t)}(0,xt.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Dt=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Bt=(0,u.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return(0,r.Z)({},e.root,e["margin".concat((0,R.Z)(n.margin))],n.fullWidth&&e.fullWidth)}})((function(t){var e=t.ownerState;return(0,r.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})})),qt=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiFormControl"}),l=n.children,u=n.className,h=n.color,f=void 0===h?"primary":h,A=n.component,p=void 0===A?"div":A,m=n.disabled,v=void 0!==m&&m,g=n.error,y=void 0!==g&&g,b=n.focused,_=n.fullWidth,w=void 0!==_&&_,S=n.hiddenLabel,M=void 0!==S&&S,E=n.margin,T=void 0===E?"none":E,P=n.required,k=void 0!==P&&P,C=n.size,N=void 0===C?"medium":C,O=n.variant,I=void 0===O?"outlined":O,D=(0,i.Z)(n,Dt),B=(0,r.Z)({},n,{color:f,component:p,disabled:v,error:y,fullWidth:w,hiddenLabel:M,margin:T,required:k,size:N,variant:I}),q=function(t){var e=t.classes,n=t.margin,r=t.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,R.Z)(n)),r&&"fullWidth"]};return(0,s.Z)(i,It,e)}(B),F=a.useState((function(){var t=!1;return l&&a.Children.forEach(l,(function(e){if(Ot(e,["Input","Select"])){var n=Ot(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),U=(0,d.Z)(F,2),z=U[0],Z=U[1],H=a.useState((function(){var t=!1;return l&&a.Children.forEach(l,(function(e){Ot(e,["Input","Select"])&&(j(e.props,!0)||j(e.props.inputProps,!0))&&(t=!0)})),t})),G=(0,d.Z)(H,2),V=G[0],W=G[1],X=a.useState(!1),Y=(0,d.Z)(X,2),Q=Y[0],K=Y[1];v&&Q&&K(!1);var J,$=void 0===b||v?Q:b,tt=a.useMemo((function(){return{adornedStart:z,setAdornedStart:Z,color:f,disabled:v,error:y,filled:V,focused:$,fullWidth:w,hiddenLabel:M,size:N,onBlur:function(){K(!1)},onEmpty:function(){W(!1)},onFilled:function(){W(!0)},onFocus:function(){K(!0)},registerEffect:J,required:k,variant:I}}),[z,f,v,y,V,$,w,M,J,k,N,I]);return(0,x.jsx)(L.Provider,{value:tt,children:(0,x.jsx)(Bt,(0,r.Z)({as:p,ownerState:B,className:(0,o.Z)(q.root,u),ref:e},D,{children:l}))})}));function Ft(t){return(0,wt.Z)("MuiFormHelperText",t)}var Ut,zt=(0,xt.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Zt=["children","className","component","disabled","error","filled","focused","margin","required","variant"],jt=(0,u.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,n.size&&e["size".concat((0,R.Z)(n.size))],n.contained&&e.contained,n.filled&&e.filled]}})((function(t){var e,n=t.theme,i=t.ownerState;return(0,r.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(e={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,h.Z)(e,"&.".concat(zt.disabled),{color:(n.vars||n).palette.text.disabled}),(0,h.Z)(e,"&.".concat(zt.error),{color:(n.vars||n).palette.error.main}),e),"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),Ht=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiFormHelperText"}),a=n.children,l=n.className,u=n.component,h=void 0===u?"p":u,f=(0,i.Z)(n,Zt),A=k({props:n,muiFormControl:C(),states:["variant","size","disabled","error","filled","focused","required"]}),d=(0,r.Z)({},n,{component:h,contained:"filled"===A.variant||"outlined"===A.variant,variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required}),p=function(t){var e=t.classes,n=t.contained,r=t.size,i=t.disabled,a=t.error,o=t.filled,l=t.focused,u=t.required,c={root:["root",i&&"disabled",a&&"error",r&&"size".concat((0,R.Z)(r)),n&&"contained",l&&"focused",o&&"filled",u&&"required"]};return(0,s.Z)(c,Ft,e)}(d);return(0,x.jsx)(jt,(0,r.Z)({as:h,ownerState:d,className:(0,o.Z)(p.root,l),ref:e},f,{children:" "===a?Ut||(Ut=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):a}))})),Gt=(n(8457),g.Z);var Vt=a.createContext({});function Wt(t){return(0,wt.Z)("MuiList",t)}(0,xt.Z)("MuiList",["root","padding","dense","subheader"]);var Xt=["children","className","component","dense","disablePadding","subheader"],Yt=(0,u.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})((function(t){var e=t.ownerState;return(0,r.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})})),Qt=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiList"}),l=n.children,u=n.className,h=n.component,f=void 0===h?"ul":h,A=n.dense,d=void 0!==A&&A,p=n.disablePadding,m=void 0!==p&&p,v=n.subheader,g=(0,i.Z)(n,Xt),y=a.useMemo((function(){return{dense:d}}),[d]),b=(0,r.Z)({},n,{component:f,dense:d,disablePadding:m}),_=function(t){var e=t.classes,n={root:["root",!t.disablePadding&&"padding",t.dense&&"dense",t.subheader&&"subheader"]};return(0,s.Z)(n,Wt,e)}(b);return(0,x.jsx)(Vt.Provider,{value:y,children:(0,x.jsxs)(Yt,(0,r.Z)({as:f,className:(0,o.Z)(_.root,u),ref:e,ownerState:b},g,{children:[v,l]}))})}));function Kt(t){var e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}var Jt=Kt,$t=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function te(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ee(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function ne(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function re(t,e,n,r,i,a){for(var o=!1,s=i(t,e,!!e&&n);s;){if(s===t.firstChild){if(o)return!1;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ne(s,a)&&!l)return s.focus(),!0;s=i(t,s,n)}return!1}var ie=a.forwardRef((function(t,e){var n=t.actions,o=t.autoFocus,s=void 0!==o&&o,l=t.autoFocusItem,u=void 0!==l&&l,c=t.children,h=t.className,f=t.disabledItemsFocusable,A=void 0!==f&&f,d=t.disableListWrap,p=void 0!==d&&d,m=t.onKeyDown,v=t.variant,g=void 0===v?"selectedMenu":v,y=(0,i.Z)(t,$t),b=a.useRef(null),_=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});O((function(){s&&b.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(t,e){var n=!b.current.style.width;if(t.clientHeight<b.current.clientHeight&&n){var r="".concat(Jt(Gt(t)),"px");b.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var w=(0,N.Z)(b,e),S=-1;a.Children.forEach(c,(function(t,e){a.isValidElement(t)?(t.props.disabled||("selectedMenu"===g&&t.props.selected||-1===S)&&(S=e),S===e&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(S+=1)>=c.length&&(S=-1)):S===e&&(S+=1)>=c.length&&(S=-1)}));var M=a.Children.map(c,(function(t,e){if(e===S){var n={};return u&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===g&&(n.tabIndex=0),a.cloneElement(t,n)}return t}));return(0,x.jsx)(Qt,(0,r.Z)({role:"menu",ref:w,className:h,onKeyDown:function(t){var e=b.current,n=t.key,r=Gt(e).activeElement;if("ArrowDown"===n)t.preventDefault(),re(e,r,p,A,te);else if("ArrowUp"===n)t.preventDefault(),re(e,r,p,A,ee);else if("Home"===n)t.preventDefault(),re(e,null,p,A,te);else if("End"===n)t.preventDefault(),re(e,null,p,A,ee);else if(1===n.length){var i=_.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&ne(r,i);i.previousKeyMatched&&(s||re(e,r,!1,A,te,i))?t.preventDefault():i.previousKeyMatched=!1}m&&m(t)},tabIndex:s?0:-1},y,{children:M}))})),ae=n(8069),oe=b,se=y,le=n(4578),ue=!1,ce=n(5545),he="unmounted",fe="exited",Ae="entering",de="entered",pe="exiting",me=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=fe,r.appearStatus=Ae):i=de:i=e.unmountOnExit||e.mountOnEnter?he:fe,r.state={status:i},r.nextCallback=null,r}(0,le.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===he?{status:fe}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Ae&&n!==de&&(e=Ae):n!==Ae&&n!==de||(e=pe)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===Ae){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fe&&this.setState({status:he})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[m.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!t&&!n||ue?this.safeSetState({status:de},(function(){e.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Ae},(function(){e.props.onEntering(a,o),e.onTransitionEnd(l,(function(){e.safeSetState({status:de},(function(){e.props.onEntered(a,o)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:m.findDOMNode(this);e&&!ue?(this.props.onExit(r),this.safeSetState({status:pe},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:fe},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:fe},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===he)return null;var e=this.props,n=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,i.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(ce.Z.Provider,{value:null},"function"===typeof n?n(t,r):a.cloneElement(a.Children.only(n),r))},e}(a.Component);function ve(){}me.contextType=ce.Z,me.propTypes={},me.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ve,onEntering:ve,onEntered:ve,onExit:ve,onExiting:ve,onExited:ve},me.UNMOUNTED=he,me.EXITED=fe,me.ENTERING=Ae,me.ENTERED=de,me.EXITING=pe;var ge=me;function ye(){var t=(0,B.Z)(F.Z);return t[U.Z]||t}var be=function(t){return t.scrollTop};function _e(t,e){var n,r,i=t.timeout,a=t.easing,o=t.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[e.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[e.mode]:a,delay:s.transitionDelay}}var xe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function we(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var Se={entering:{opacity:1,transform:we(1)},entered:{opacity:1,transform:"none"}},Me="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ee=a.forwardRef((function(t,e){var n=t.addEndListener,o=t.appear,s=void 0===o||o,l=t.children,u=t.easing,c=t.in,h=t.onEnter,f=t.onEntered,A=t.onEntering,d=t.onExit,p=t.onExited,m=t.onExiting,v=t.style,g=t.timeout,y=void 0===g?"auto":g,b=t.TransitionComponent,_=void 0===b?ge:b,w=(0,i.Z)(t,xe),S=a.useRef(),M=a.useRef(),E=ye(),T=a.useRef(null),P=(0,N.Z)(T,l.ref,e),k=function(t){return function(e){if(t){var n=T.current;void 0===e?t(n):t(n,e)}}},L=k(A),C=k((function(t,e){be(t);var n,r=_e({style:v,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=E.transitions.getAutoHeightDuration(t.clientHeight),M.current=n):n=i,t.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:Me?n:.666*n,delay:a,easing:o})].join(","),h&&h(t,e)})),R=k(f),O=k(m),I=k((function(t){var e,n=_e({style:v,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(e=E.transitions.getAutoHeightDuration(t.clientHeight),M.current=e):e=r,t.style.transition=[E.transitions.create("opacity",{duration:e,delay:i}),E.transitions.create("transform",{duration:Me?e:.666*e,delay:Me?i:i||.333*e,easing:a})].join(","),t.style.opacity=0,t.style.transform=we(.75),d&&d(t)})),D=k(p);return a.useEffect((function(){return function(){clearTimeout(S.current)}}),[]),(0,x.jsx)(_,(0,r.Z)({appear:s,in:c,nodeRef:T,onEnter:C,onEntered:R,onEntering:L,onExit:I,onExited:D,onExiting:O,addEndListener:function(t){"auto"===y&&(S.current=setTimeout(t,M.current||0)),n&&n(T.current,t)},timeout:"auto"===y?null:y},w,{children:function(t,e){return a.cloneElement(l,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:we(.75),visibility:"exited"!==t||c?void 0:"hidden"},Se[t],v,l.props.style),ref:P},e))}}))}));Ee.muiSupportAuto=!0;var Te=Ee,Pe=n(7054);function ke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),(function(){}))}var Le=n(6174),Ce=n(5671),Re=n(3144);function Ne(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Oe(t){return parseInt(y(t).getComputedStyle(t).paddingRight,10)||0}function Ie(t,e,n,r,i){var a=[e,n].concat((0,f.Z)(r));[].forEach.call(t.children,(function(t){var e=-1===a.indexOf(t),n=!function(t){var e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&Ne(t,i)}))}function De(t,e){var n=-1;return t.some((function(t,r){return!!e(t)&&(n=r,!0)})),n}function Be(t,e){var n=[],r=t.container;if(!e.disableScrollLock){if(function(t){var e=(0,g.Z)(t);return e.body===t?y(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(r)){var i=Kt((0,g.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Oe(r)+i,"px");var a=(0,g.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(t){n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Oe(t)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=(0,g.Z)(r).body;else{var s=r.parentElement,l=y(r);o="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(t){var e=t.value,n=t.el,r=t.property;e?n.style.setProperty(r,e):n.style.removeProperty(r)}))}}var qe=function(){function t(){(0,Ce.Z)(this,t),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,Re.Z)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Ne(t.modalRef,!1);var r=function(t){var e=[];return[].forEach.call(t.children,(function(t){"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);Ie(e,t.mount,t.modalRef,r,!0);var i=De(this.containers,(function(t){return t.container===e}));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(t,e){var n=De(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];r.restore||(r.restore=Be(r,e))}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(t);if(-1===n)return n;var r=De(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&Ne(t.modalRef,e),Ie(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&Ne(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}(),Fe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ue(t){var e=[],n=[];return Array.from(t.querySelectorAll(Fe)).forEach((function(t,r){var i=function(t){var e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==i&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;var e=function(e){return t.ownerDocument.querySelector('input[type="radio"]'.concat(e))},n=e('[name="'.concat(t.name,'"]:checked'));return n||(n=e('[name="'.concat(t.name,'"]'))),n!==t}(t))}(t)&&(0===i?e.push(t):n.push({documentOrder:r,tabIndex:i,node:t}))})),n.sort((function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex})).map((function(t){return t.node})).concat(e)}function ze(){return!0}var Ze=function(t){var e=t.children,n=t.disableAutoFocus,r=void 0!==n&&n,i=t.disableEnforceFocus,o=void 0!==i&&i,s=t.disableRestoreFocus,l=void 0!==s&&s,u=t.getTabbable,c=void 0===u?Ue:u,h=t.isEnabled,f=void 0===h?ze:h,A=t.open,d=a.useRef(!1),p=a.useRef(null),m=a.useRef(null),y=a.useRef(null),b=a.useRef(null),_=a.useRef(!1),w=a.useRef(null),S=(0,v.Z)(e.ref,w),M=a.useRef(null);a.useEffect((function(){A&&w.current&&(_.current=!r)}),[r,A]),a.useEffect((function(){if(A&&w.current){var t=(0,g.Z)(w.current);return w.current.contains(t.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),_.current&&w.current.focus()),function(){l||(y.current&&y.current.focus&&(d.current=!0,y.current.focus()),y.current=null)}}}),[A]),a.useEffect((function(){if(A&&w.current){var t=(0,g.Z)(w.current),e=function(e){var n=w.current;if(null!==n)if(t.hasFocus()&&!o&&f()&&!d.current){if(!n.contains(t.activeElement)){if(e&&b.current!==e.target||t.activeElement!==b.current)b.current=null;else if(null!==b.current)return;if(!_.current)return;var r=[];if(t.activeElement!==p.current&&t.activeElement!==m.current||(r=c(w.current)),r.length>0){var i,a,s=Boolean((null==(i=M.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=M.current)?void 0:a.key)),l=r[0],u=r[r.length-1];"string"!==typeof l&&"string"!==typeof u&&(s?u.focus():l.focus())}else n.focus()}}else d.current=!1},n=function(e){M.current=e,!o&&f()&&"Tab"===e.key&&t.activeElement===w.current&&e.shiftKey&&(d.current=!0,m.current&&m.current.focus())};t.addEventListener("focusin",e),t.addEventListener("keydown",n,!0);var r=setInterval((function(){t.activeElement&&"BODY"===t.activeElement.tagName&&e(null)}),50);return function(){clearInterval(r),t.removeEventListener("focusin",e),t.removeEventListener("keydown",n,!0)}}}),[r,o,l,f,A,c]);var E=function(t){null===y.current&&(y.current=t.relatedTarget),_.current=!0};return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)("div",{tabIndex:A?0:-1,onFocus:E,ref:p,"data-testid":"sentinelStart"}),a.cloneElement(e,{ref:S,onFocus:function(t){null===y.current&&(y.current=t.relatedTarget),_.current=!0,b.current=t.target;var n=e.props.onFocus;n&&n(t)}}),(0,x.jsx)("div",{tabIndex:A?0:-1,onFocus:E,ref:m,"data-testid":"sentinelEnd"})]})};function je(t){return(0,wt.Z)("MuiModal",t)}(0,xt.Z)("MuiModal",["root","hidden","backdrop"]);var He=n(6826),Ge=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];var Ve=new qe,We=a.forwardRef((function(t,e){var n,o,l=t.children,u=t.closeAfterTransition,c=void 0!==u&&u,h=t.container,f=t.disableAutoFocus,A=void 0!==f&&f,p=t.disableEnforceFocus,m=void 0!==p&&p,y=t.disableEscapeKeyDown,b=void 0!==y&&y,_=t.disablePortal,w=void 0!==_&&_,S=t.disableRestoreFocus,M=void 0!==S&&S,E=t.disableScrollLock,T=void 0!==E&&E,P=t.hideBackdrop,k=void 0!==P&&P,L=t.keepMounted,C=void 0!==L&&L,R=t.manager,N=void 0===R?Ve:R,O=t.onBackdropClick,I=t.onClose,D=t.onKeyDown,B=t.open,q=t.onTransitionEnter,F=t.onTransitionExited,U=t.slotProps,z=void 0===U?{}:U,Z=t.slots,j=void 0===Z?{}:Z,H=(0,i.Z)(t,Ge),G=N,V=a.useState(!B),W=(0,d.Z)(V,2),X=W[0],Y=W[1],Q=a.useRef({}),K=a.useRef(null),J=a.useRef(null),$=(0,v.Z)(J,e),tt=function(t){return!!t&&t.props.hasOwnProperty("in")}(l),et=null==(n=t["aria-hidden"])||n,nt=function(){return Q.current.modalRef=J.current,Q.current.mountNode=K.current,Q.current},rt=function(){G.mount(nt(),{disableScrollLock:T}),J.current&&(J.current.scrollTop=0)},it=(0,Pe.Z)((function(){var t=function(t){return"function"===typeof t?t():t}(h)||(0,g.Z)(K.current).body;G.add(nt(),t),J.current&&rt()})),at=a.useCallback((function(){return G.isTopModal(nt())}),[G]),ot=(0,Pe.Z)((function(t){K.current=t,t&&J.current&&(B&&at()?rt():Ne(J.current,et))})),st=a.useCallback((function(){G.remove(nt(),et)}),[G,et]);a.useEffect((function(){return function(){st()}}),[st]),a.useEffect((function(){B?it():tt&&c||st()}),[B,st,tt,c,it]);var lt=(0,r.Z)({},t,{closeAfterTransition:c,disableAutoFocus:A,disableEnforceFocus:m,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:M,disableScrollLock:T,exited:X,hideBackdrop:k,keepMounted:C}),ut=function(t){var e=t.open,n=t.exited,r={root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]};return(0,s.Z)(r,(0,He.T)(je))}(lt),ct={};void 0===l.props.tabIndex&&(ct.tabIndex="-1"),tt&&(ct.onEnter=ke((function(){Y(!1),q&&q()}),l.props.onEnter),ct.onExited=ke((function(){Y(!0),F&&F(),c&&st()}),l.props.onExited));var ht=null!=(o=j.root)?o:"div",ft=(0,ae.Z)({elementType:ht,externalSlotProps:z.root,externalForwardedProps:H,additionalProps:{ref:$,role:"presentation",onKeyDown:function(t){D&&D(t),"Escape"===t.key&&at()&&(b||(t.stopPropagation(),I&&I(t,"escapeKeyDown")))}},className:ut.root,ownerState:lt}),At=j.backdrop,dt=(0,ae.Z)({elementType:At,externalSlotProps:z.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(t){t.target===t.currentTarget&&(O&&O(t),I&&I(t,"backdropClick"))},open:B},className:ut.backdrop,ownerState:lt});return C||B||tt&&!X?(0,x.jsx)(Le.Z,{ref:ot,container:h,disablePortal:w,children:(0,x.jsxs)(ht,(0,r.Z)({},ft,{children:[!k&&At?(0,x.jsx)(At,(0,r.Z)({},dt)):null,(0,x.jsx)(Ze,{disableEnforceFocus:m,disableAutoFocus:A,disableRestoreFocus:M,isEnabled:at,open:B,children:a.cloneElement(l,ct)})]}))}):null})),Xe=n(1503),Ye=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Qe={entering:{opacity:1},entered:{opacity:1}},Ke=a.forwardRef((function(t,e){var n=ye(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},s=t.addEndListener,l=t.appear,u=void 0===l||l,c=t.children,h=t.easing,f=t.in,A=t.onEnter,d=t.onEntered,p=t.onEntering,m=t.onExit,v=t.onExited,g=t.onExiting,y=t.style,b=t.timeout,_=void 0===b?o:b,w=t.TransitionComponent,S=void 0===w?ge:w,M=(0,i.Z)(t,Ye),E=a.useRef(null),T=(0,N.Z)(E,c.ref,e),P=function(t){return function(e){if(t){var n=E.current;void 0===e?t(n):t(n,e)}}},k=P(p),L=P((function(t,e){be(t);var r=_e({style:y,timeout:_,easing:h},{mode:"enter"});t.style.webkitTransition=n.transitions.create("opacity",r),t.style.transition=n.transitions.create("opacity",r),A&&A(t,e)})),C=P(d),R=P(g),O=P((function(t){var e=_e({style:y,timeout:_,easing:h},{mode:"exit"});t.style.webkitTransition=n.transitions.create("opacity",e),t.style.transition=n.transitions.create("opacity",e),m&&m(t)})),I=P(v);return(0,x.jsx)(S,(0,r.Z)({appear:u,in:f,nodeRef:E,onEnter:L,onEntered:C,onEntering:k,onExit:O,onExited:I,onExiting:R,addEndListener:function(t){s&&s(E.current,t)},timeout:_},M,{children:function(t,e){return a.cloneElement(c,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==t||f?void 0:"hidden"},Qe[t],y,c.props.style),ref:T},e))}}))}));function Je(t){return(0,wt.Z)("MuiBackdrop",t)}(0,xt.Z)("MuiBackdrop",["root","invisible"]);var $e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],tn=(0,u.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,n.invisible&&e.invisible]}})((function(t){var e=t.ownerState;return(0,r.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})})),en=a.forwardRef((function(t,e){var n,a,l,u=(0,c.Z)({props:t,name:"MuiBackdrop"}),h=u.children,f=u.className,A=u.component,d=void 0===A?"div":A,p=u.components,m=void 0===p?{}:p,v=u.componentsProps,g=void 0===v?{}:v,y=u.invisible,b=void 0!==y&&y,_=u.open,w=u.slotProps,S=void 0===w?{}:w,M=u.slots,E=void 0===M?{}:M,T=u.TransitionComponent,P=void 0===T?Ke:T,k=u.transitionDuration,L=(0,i.Z)(u,$e),C=(0,r.Z)({},u,{component:d,invisible:b}),R=function(t){var e=t.classes,n={root:["root",t.invisible&&"invisible"]};return(0,s.Z)(n,Je,e)}(C),N=null!=(n=S.root)?n:g.root;return(0,x.jsx)(P,(0,r.Z)({in:_,timeout:k},L,{children:(0,x.jsx)(tn,(0,r.Z)({"aria-hidden":!0},N,{as:null!=(a=null!=(l=E.root)?l:m.Root)?a:d,className:(0,o.Z)(R.root,f,null==N?void 0:N.className),ownerState:(0,r.Z)({},C,null==N?void 0:N.ownerState),classes:R,ref:e,children:h}))}))})),nn=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],rn=(0,u.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.open&&n.exited&&e.hidden]}})((function(t){var e=t.theme,n=t.ownerState;return(0,r.Z)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),an=(0,u.ZP)(en,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(t,e){return e.backdrop}})({zIndex:-1}),on=a.forwardRef((function(t,e){var n,s,l,u,h,f,A=(0,c.Z)({name:"MuiModal",props:t}),p=A.BackdropComponent,m=void 0===p?an:p,v=A.BackdropProps,g=A.classes,y=A.className,b=A.closeAfterTransition,_=void 0!==b&&b,w=A.children,S=A.container,M=A.component,E=A.components,T=void 0===E?{}:E,k=A.componentsProps,L=void 0===k?{}:k,C=A.disableAutoFocus,R=void 0!==C&&C,N=A.disableEnforceFocus,O=void 0!==N&&N,I=A.disableEscapeKeyDown,D=void 0!==I&&I,B=A.disablePortal,q=void 0!==B&&B,F=A.disableRestoreFocus,U=void 0!==F&&F,z=A.disableScrollLock,Z=void 0!==z&&z,j=A.hideBackdrop,H=void 0!==j&&j,G=A.keepMounted,V=void 0!==G&&G,W=A.onBackdropClick,X=A.onClose,Y=A.open,Q=A.slotProps,K=A.slots,J=A.theme,$=(0,i.Z)(A,nn),tt=a.useState(!0),et=(0,d.Z)(tt,2),nt=et[0],rt=et[1],it={container:S,closeAfterTransition:_,disableAutoFocus:R,disableEnforceFocus:O,disableEscapeKeyDown:D,disablePortal:q,disableRestoreFocus:U,disableScrollLock:Z,hideBackdrop:H,keepMounted:V,onBackdropClick:W,onClose:X,open:Y},at=(0,r.Z)({},A,it,{exited:nt}),ot=null!=(n=null!=(s=null==K?void 0:K.root)?s:T.Root)?n:rn,st=null!=(l=null!=(u=null==K?void 0:K.backdrop)?u:T.Backdrop)?l:m,lt=null!=(h=null==Q?void 0:Q.root)?h:L.root,ut=null!=(f=null==Q?void 0:Q.backdrop)?f:L.backdrop;return(0,x.jsx)(We,(0,r.Z)({slots:{root:ot,backdrop:st},slotProps:{root:function(){return(0,r.Z)({},(0,Xe.Z)(lt,at),!(0,P.Z)(ot)&&{as:M,theme:J},{className:(0,o.Z)(y,null==lt?void 0:lt.className,null==g?void 0:g.root,!at.open&&at.exited&&(null==g?void 0:g.hidden))})},backdrop:function(){return(0,r.Z)({},v,(0,Xe.Z)(ut,at),{className:(0,o.Z)(null==ut?void 0:ut.className,null==v?void 0:v.className,null==g?void 0:g.backdrop)})}},onTransitionEnter:function(){return rt(!1)},onTransitionExited:function(){return rt(!0)},ref:e},$,it,{children:w}))})),sn=n(5527);function ln(t){return(0,wt.Z)("MuiPopover",t)}(0,xt.Z)("MuiPopover",["root","paper"]);var un=["onEntering"],cn=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],hn=["slotProps"];function fn(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function An(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function dn(t){return[t.horizontal,t.vertical].map((function(t){return"number"===typeof t?"".concat(t,"px"):t})).join(" ")}function pn(t){return"function"===typeof t?t():t}var mn=(0,u.ZP)(on,{name:"MuiPopover",slot:"Root",overridesResolver:function(t,e){return e.root}})({}),vn=(0,u.ZP)(sn.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:function(t,e){return e.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),gn=a.forwardRef((function(t,e){var n,l,u,h=(0,c.Z)({props:t,name:"MuiPopover"}),f=h.action,A=h.anchorEl,p=h.anchorOrigin,m=void 0===p?{vertical:"top",horizontal:"left"}:p,v=h.anchorPosition,g=h.anchorReference,y=void 0===g?"anchorEl":g,b=h.children,_=h.className,w=h.container,S=h.elevation,M=void 0===S?8:S,E=h.marginThreshold,T=void 0===E?16:E,k=h.open,L=h.PaperProps,C=void 0===L?{}:L,R=h.slots,O=h.slotProps,I=h.transformOrigin,D=void 0===I?{vertical:"top",horizontal:"left"}:I,B=h.TransitionComponent,q=void 0===B?Te:B,F=h.transitionDuration,U=void 0===F?"auto":F,z=h.TransitionProps,Z=(void 0===z?{}:z).onEntering,j=(0,i.Z)(h.TransitionProps,un),H=(0,i.Z)(h,cn),G=null!=(n=null==O?void 0:O.paper)?n:C,V=a.useRef(),W=(0,N.Z)(V,G.ref),X=(0,r.Z)({},h,{anchorOrigin:m,anchorReference:y,elevation:M,marginThreshold:T,externalPaperSlotProps:G,transformOrigin:D,TransitionComponent:q,transitionDuration:U,TransitionProps:j}),Y=function(t){var e=t.classes;return(0,s.Z)({root:["root"],paper:["paper"]},ln,e)}(X),Q=a.useCallback((function(){if("anchorPosition"===y)return v;var t=pn(A),e=(t&&1===t.nodeType?t:Gt(V.current).body).getBoundingClientRect();return{top:e.top+fn(e,m.vertical),left:e.left+An(e,m.horizontal)}}),[A,m.horizontal,m.vertical,v,y]),K=a.useCallback((function(t){return{vertical:fn(t,D.vertical),horizontal:An(t,D.horizontal)}}),[D.horizontal,D.vertical]),J=a.useCallback((function(t){var e={width:t.offsetWidth,height:t.offsetHeight},n=K(e);if("none"===y)return{top:null,left:null,transformOrigin:dn(n)};var r=Q(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+e.height,s=a+e.width,l=se(pn(A)),u=l.innerHeight-T,c=l.innerWidth-T;if(i<T){var h=i-T;i-=h,n.vertical+=h}else if(o>u){var f=o-u;i-=f,n.vertical+=f}if(a<T){var d=a-T;a-=d,n.horizontal+=d}else if(s>c){var p=s-c;a-=p,n.horizontal+=p}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:dn(n)}}),[A,y,Q,K,T]),$=a.useState(k),tt=(0,d.Z)($,2),et=tt[0],nt=tt[1],rt=a.useCallback((function(){var t=V.current;if(t){var e=J(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,nt(!0)}}),[J]);a.useEffect((function(){k&&rt()})),a.useImperativeHandle(f,(function(){return k?{updatePosition:function(){rt()}}:null}),[k,rt]),a.useEffect((function(){if(k){var t=oe((function(){rt()})),e=se(A);return e.addEventListener("resize",t),function(){t.clear(),e.removeEventListener("resize",t)}}}),[A,k,rt]);var it=U;"auto"!==U||q.muiSupportAuto||(it=void 0);var at=w||(A?Gt(pn(A)).body:void 0),ot=null!=(l=null==R?void 0:R.root)?l:mn,st=null!=(u=null==R?void 0:R.paper)?u:vn,lt=(0,ae.Z)({elementType:st,externalSlotProps:(0,r.Z)({},G,{style:et?G.style:(0,r.Z)({},G.style,{opacity:0})}),additionalProps:{elevation:M,ref:W},ownerState:X,className:(0,o.Z)(Y.paper,null==G?void 0:G.className)}),ut=(0,ae.Z)({elementType:ot,externalSlotProps:(null==O?void 0:O.root)||{},externalForwardedProps:H,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:at,open:k},ownerState:X,className:(0,o.Z)(Y.root,_)}),ct=ut.slotProps,ht=(0,i.Z)(ut,hn);return(0,x.jsx)(ot,(0,r.Z)({},ht,!(0,P.Z)(ot)&&{slotProps:ct},{children:(0,x.jsx)(q,(0,r.Z)({appear:!0,in:k,onEntering:function(t,e){Z&&Z(t,e),rt()},onExited:function(){nt(!1)},timeout:it},j,{children:(0,x.jsx)(st,(0,r.Z)({},lt,{children:b}))}))}))}));function yn(t){return(0,wt.Z)("MuiMenu",t)}(0,xt.Z)("MuiMenu",["root","paper","list"]);var bn=["onEntering"],_n=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],xn={vertical:"top",horizontal:"right"},wn={vertical:"top",horizontal:"left"},Sn=(0,u.ZP)(gn,{shouldForwardProp:function(t){return(0,u.FO)(t)||"classes"===t},name:"MuiMenu",slot:"Root",overridesResolver:function(t,e){return e.root}})({}),Mn=(0,u.ZP)(vn,{name:"MuiMenu",slot:"Paper",overridesResolver:function(t,e){return e.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),En=(0,u.ZP)(ie,{name:"MuiMenu",slot:"List",overridesResolver:function(t,e){return e.list}})({outline:0}),Tn=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiMenu"}),l=n.autoFocus,u=void 0===l||l,h=n.children,f=n.disableAutoFocusItem,A=void 0!==f&&f,d=n.MenuListProps,p=void 0===d?{}:d,m=n.onClose,v=n.open,g=n.PaperProps,y=void 0===g?{}:g,b=n.PopoverClasses,_=n.transitionDuration,w=void 0===_?"auto":_,S=n.TransitionProps,M=(void 0===S?{}:S).onEntering,E=n.variant,T=void 0===E?"selectedMenu":E,P=(0,i.Z)(n.TransitionProps,bn),k=(0,i.Z)(n,_n),L=ye(),C="rtl"===L.direction,R=(0,r.Z)({},n,{autoFocus:u,disableAutoFocusItem:A,MenuListProps:p,onEntering:M,PaperProps:y,transitionDuration:w,TransitionProps:P,variant:T}),N=function(t){var e=t.classes;return(0,s.Z)({root:["root"],paper:["paper"],list:["list"]},yn,e)}(R),O=u&&!A&&v,I=a.useRef(null),D=-1;return a.Children.map(h,(function(t,e){a.isValidElement(t)&&(t.props.disabled||("selectedMenu"===T&&t.props.selected||-1===D)&&(D=e))})),(0,x.jsx)(Sn,(0,r.Z)({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?xn:wn,slots:{paper:Mn},slotProps:{paper:(0,r.Z)({},y,{classes:(0,r.Z)({},y.classes,{root:N.paper})})},className:N.root,open:v,ref:e,transitionDuration:w,TransitionProps:(0,r.Z)({onEntering:function(t,e){I.current&&I.current.adjustStyleForScrollbar(t,L),M&&M(t,e)}},P),ownerState:R},k,{classes:b,children:(0,x.jsx)(En,(0,r.Z)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),m&&m(t,"tabKeyDown"))},actions:I,autoFocus:u&&(-1===D||A),autoFocusItem:O,variant:T},p,{className:(0,o.Z)(N.list,p.className),children:h}))}))}));function Pn(t){return(0,wt.Z)("MuiNativeSelect",t)}var kn=(0,xt.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ln=["className","disabled","error","IconComponent","inputRef","variant"],Cn=function(t){var e,n=t.ownerState,i=t.theme;return(0,r.Z)((e={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,r.Z)({},i.vars?{backgroundColor:"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,h.Z)(e,"&.".concat(kn.disabled),{cursor:"default"}),(0,h.Z)(e,"&[multiple]",{height:"auto"}),(0,h.Z)(e,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(i.vars||i).palette.background.paper}),(0,h.Z)(e,"&&&",{paddingRight:24,minWidth:16}),e),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}})},Rn=(0,u.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:u.FO,overridesResolver:function(t,e){var n=t.ownerState;return[e.select,e[n.variant],n.error&&e.error,(0,h.Z)({},"&.".concat(kn.multiple),e.multiple)]}})(Cn),Nn=function(t){var e=t.ownerState,n=t.theme;return(0,r.Z)((0,h.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(kn.disabled),{color:(n.vars||n).palette.action.disabled}),e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7})},On=(0,u.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(t,e){var n=t.ownerState;return[e.icon,n.variant&&e["icon".concat((0,R.Z)(n.variant))],n.open&&e.iconOpen]}})(Nn),In=a.forwardRef((function(t,e){var n=t.className,l=t.disabled,u=t.error,c=t.IconComponent,h=t.inputRef,f=t.variant,A=void 0===f?"standard":f,d=(0,i.Z)(t,Ln),p=(0,r.Z)({},t,{disabled:l,variant:A,error:u}),m=function(t){var e=t.classes,n=t.variant,r=t.disabled,i=t.multiple,a=t.open,o={select:["select",n,r&&"disabled",i&&"multiple",t.error&&"error"],icon:["icon","icon".concat((0,R.Z)(n)),a&&"iconOpen",r&&"disabled"]};return(0,s.Z)(o,Pn,e)}(p);return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)(Rn,(0,r.Z)({ownerState:p,className:(0,o.Z)(m.select,n),disabled:l,ref:h||e},d)),t.multiple?null:(0,x.jsx)(On,{as:c,ownerState:p,className:m.icon})]})})),Dn=n(8637).Z;function Bn(t){return(0,wt.Z)("MuiSelect",t)}var qn,Fn=(0,xt.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Un=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],zn=(0,u.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(t,e){var n=t.ownerState;return[(0,h.Z)({},"&.".concat(Fn.select),e.select),(0,h.Z)({},"&.".concat(Fn.select),e[n.variant]),(0,h.Z)({},"&.".concat(Fn.error),e.error),(0,h.Z)({},"&.".concat(Fn.multiple),e.multiple)]}})(Cn,(0,h.Z)({},"&.".concat(Fn.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Zn=(0,u.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(t,e){var n=t.ownerState;return[e.icon,n.variant&&e["icon".concat((0,R.Z)(n.variant))],n.open&&e.iconOpen]}})(Nn),jn=(0,u.ZP)("input",{shouldForwardProp:function(t){return(0,u.Dz)(t)&&"classes"!==t},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(t,e){return e.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Hn(t,e){return"object"===typeof e&&null!==e?t===e:String(t)===String(e)}function Gn(t){return null==t||"string"===typeof t&&!t.trim()}var Vn=a.forwardRef((function(t,e){var n=t["aria-describedby"],l=t["aria-label"],u=t.autoFocus,c=t.autoWidth,h=t.children,f=t.className,A=t.defaultOpen,m=t.defaultValue,v=t.disabled,g=t.displayEmpty,y=t.error,b=void 0!==y&&y,_=t.IconComponent,w=t.inputRef,S=t.labelId,M=t.MenuProps,E=void 0===M?{}:M,T=t.multiple,P=t.name,k=t.onBlur,L=t.onChange,C=t.onClose,O=t.onFocus,I=t.onOpen,D=t.open,B=t.readOnly,q=t.renderValue,F=t.SelectDisplayProps,U=void 0===F?{}:F,z=t.tabIndex,Z=t.value,H=t.variant,G=void 0===H?"standard":H,V=(0,i.Z)(t,Un),W=Dn({controlled:Z,default:m,name:"Select"}),X=(0,d.Z)(W,2),Y=X[0],Q=X[1],K=Dn({controlled:D,default:A,name:"Select"}),J=(0,d.Z)(K,2),$=J[0],tt=J[1],et=a.useRef(null),nt=a.useRef(null),rt=a.useState(null),it=(0,d.Z)(rt,2),at=it[0],ot=it[1],st=a.useRef(null!=D).current,lt=a.useState(),ut=(0,d.Z)(lt,2),ct=ut[0],ht=ut[1],ft=(0,N.Z)(e,w),At=a.useCallback((function(t){nt.current=t,t&&ot(t)}),[]),dt=null==at?void 0:at.parentNode;a.useImperativeHandle(ft,(function(){return{focus:function(){nt.current.focus()},node:et.current,value:Y}}),[Y]),a.useEffect((function(){A&&$&&at&&!st&&(ht(c?null:dt.clientWidth),nt.current.focus())}),[at,c]),a.useEffect((function(){u&&nt.current.focus()}),[u]),a.useEffect((function(){if(S){var t=Gt(nt.current).getElementById(S);if(t){var e=function(){getSelection().isCollapsed&&nt.current.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}}),[S]);var pt,mt,vt=function(t,e){t?I&&I(e):C&&C(e),st||(ht(c?null:dt.clientWidth),tt(t))},gt=a.Children.toArray(h),yt=function(t){return function(e){var n;if(e.currentTarget.hasAttribute("tabindex")){if(T){n=Array.isArray(Y)?Y.slice():[];var r=Y.indexOf(t.props.value);-1===r?n.push(t.props.value):n.splice(r,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),Y!==n&&(Q(n),L)){var i=e.nativeEvent||e,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:P}}),L(a,t)}T||vt(!1,e)}}},bt=null!==at&&$;delete V["aria-invalid"];var _t=[],xt=!1;(j({value:Y})||g)&&(q?pt=q(Y):xt=!0);var wt=gt.map((function(t){if(!a.isValidElement(t))return null;var e;if(T){if(!Array.isArray(Y))throw new Error((0,p.Z)(2));(e=Y.some((function(e){return Hn(e,t.props.value)})))&&xt&&_t.push(t.props.children)}else(e=Hn(Y,t.props.value))&&xt&&(mt=t.props.children);return e&&!0,a.cloneElement(t,{"aria-selected":e?"true":"false",onClick:yt(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));xt&&(pt=T?0===_t.length?null:_t.reduce((function(t,e,n){return t.push(e),n<_t.length-1&&t.push(", "),t}),[]):mt);var St,Mt=ct;!c&&st&&at&&(Mt=dt.clientWidth),St="undefined"!==typeof z?z:v?null:0;var Et=U.id||(P?"mui-component-select-".concat(P):void 0),Tt=(0,r.Z)({},t,{variant:G,value:Y,open:bt,error:b}),Pt=function(t){var e=t.classes,n=t.variant,r=t.disabled,i=t.multiple,a=t.open,o={select:["select",n,r&&"disabled",i&&"multiple",t.error&&"error"],icon:["icon","icon".concat((0,R.Z)(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,s.Z)(o,Bn,e)}(Tt);return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)(zn,(0,r.Z)({ref:At,tabIndex:St,role:"button","aria-disabled":v?"true":void 0,"aria-expanded":bt?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[S,Et].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(t){if(!B){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),vt(!0,t))}},onMouseDown:v||B?null:function(t){0===t.button&&(t.preventDefault(),nt.current.focus(),vt(!0,t))},onBlur:function(t){!bt&&k&&(Object.defineProperty(t,"target",{writable:!0,value:{value:Y,name:P}}),k(t))},onFocus:O},U,{ownerState:Tt,className:(0,o.Z)(U.className,Pt.select,f),id:Et,children:Gn(pt)?qn||(qn=(0,x.jsx)("span",{className:"notranslate",children:"\u200b"})):pt})),(0,x.jsx)(jn,(0,r.Z)({"aria-invalid":b,value:Array.isArray(Y)?Y.join(","):Y,name:P,ref:et,"aria-hidden":!0,onChange:function(t){var e=gt.find((function(e){return e.props.value===t.target.value}));void 0!==e&&(Q(e.props.value),L&&L(t,e))},tabIndex:-1,disabled:v,className:Pt.nativeInput,autoFocus:u,ownerState:Tt},V)),(0,x.jsx)(Zn,{as:_,className:Pt.icon,ownerState:Tt}),(0,x.jsx)(Tn,(0,r.Z)({id:"menu-".concat(P||""),anchorEl:dt,open:bt,onClose:function(t){vt(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:(0,r.Z)({"aria-labelledby":S,role:"listbox",disableListWrap:!0},E.MenuListProps),PaperProps:(0,r.Z)({},E.PaperProps,{style:(0,r.Z)({minWidth:Mt},null!=E.PaperProps?E.PaperProps.style:null)}),children:wt}))]})})),Wn=n(9059),Xn=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Yn={name:"MuiSelect",overridesResolver:function(t,e){return e.root},shouldForwardProp:function(t){return(0,u.FO)(t)&&"variant"!==t},slot:"Root"},Qn=(0,u.ZP)(it,Yn)(""),Kn=(0,u.ZP)(_t,Yn)(""),Jn=(0,u.ZP)(ht,Yn)(""),$n=a.forwardRef((function(t,e){var n=(0,c.Z)({name:"MuiSelect",props:t}),s=n.autoWidth,l=void 0!==s&&s,u=n.children,h=n.classes,f=void 0===h?{}:h,d=n.className,p=n.defaultOpen,m=void 0!==p&&p,v=n.displayEmpty,g=void 0!==v&&v,y=n.IconComponent,b=void 0===y?Wn.Z:y,_=n.id,w=n.input,S=n.inputProps,M=n.label,E=n.labelId,T=n.MenuProps,P=n.multiple,L=void 0!==P&&P,R=n.native,O=void 0!==R&&R,I=n.onClose,D=n.onOpen,B=n.open,q=n.renderValue,F=n.SelectDisplayProps,U=n.variant,z=void 0===U?"outlined":U,Z=(0,i.Z)(n,Xn),j=O?In:Vn,H=k({props:n,muiFormControl:C(),states:["variant","error"]}),G=H.variant||z,V=(0,r.Z)({},n,{variant:G,classes:f}),W=function(t){return t.classes}(V),X=w||{standard:(0,x.jsx)(Qn,{ownerState:V}),outlined:(0,x.jsx)(Kn,{label:M,ownerState:V}),filled:(0,x.jsx)(Jn,{ownerState:V})}[G],Y=(0,N.Z)(e,X.ref);return(0,x.jsx)(a.Fragment,{children:a.cloneElement(X,(0,r.Z)({inputComponent:j,inputProps:(0,r.Z)({children:u,error:H.error,IconComponent:b,variant:G,type:void 0,multiple:L},O?{id:_}:{autoWidth:l,defaultOpen:m,displayEmpty:g,labelId:E,MenuProps:T,onClose:I,onOpen:D,open:B,renderValue:q,SelectDisplayProps:(0,r.Z)({id:_},F)},S,{classes:S?(0,A.Z)(W,S.classes):W},w?w.props.inputProps:{})},L&&O&&"outlined"===G?{notched:!0}:{},{ref:Y,className:(0,o.Z)(X.props.className,d)},!w&&{variant:G},Z))})}));$n.muiName="Select";var tr=$n;function er(t){return(0,wt.Z)("MuiTextField",t)}(0,xt.Z)("MuiTextField",["root"]);var nr=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],rr={standard:it,filled:ht,outlined:_t},ir=(0,u.ZP)(qt,{name:"MuiTextField",slot:"Root",overridesResolver:function(t,e){return e.root}})({}),ar=a.forwardRef((function(t,e){var n=(0,c.Z)({props:t,name:"MuiTextField"}),a=n.autoComplete,u=n.autoFocus,h=void 0!==u&&u,f=n.children,A=n.className,d=n.color,p=void 0===d?"primary":d,m=n.defaultValue,v=n.disabled,g=void 0!==v&&v,y=n.error,b=void 0!==y&&y,_=n.FormHelperTextProps,w=n.fullWidth,S=void 0!==w&&w,M=n.helperText,E=n.id,T=n.InputLabelProps,P=n.inputProps,k=n.InputProps,L=n.inputRef,C=n.label,R=n.maxRows,N=n.minRows,O=n.multiline,I=void 0!==O&&O,D=n.name,B=n.onBlur,q=n.onChange,F=n.onClick,U=n.onFocus,z=n.placeholder,Z=n.required,j=void 0!==Z&&Z,H=n.rows,G=n.select,V=void 0!==G&&G,W=n.SelectProps,X=n.type,Y=n.value,Q=n.variant,K=void 0===Q?"outlined":Q,J=(0,i.Z)(n,nr),$=(0,r.Z)({},n,{autoFocus:h,color:p,disabled:g,error:b,fullWidth:S,multiline:I,required:j,select:V,variant:K}),tt=function(t){var e=t.classes;return(0,s.Z)({root:["root"]},er,e)}($);var et={};"outlined"===K&&(T&&"undefined"!==typeof T.shrink&&(et.notched=T.shrink),et.label=C),V&&(W&&W.native||(et.id=void 0),et["aria-describedby"]=void 0);var nt=(0,l.Z)(E),rt=M&&nt?"".concat(nt,"-helper-text"):void 0,it=C&&nt?"".concat(nt,"-label"):void 0,at=rr[K],ot=(0,x.jsx)(at,(0,r.Z)({"aria-describedby":rt,autoComplete:a,autoFocus:h,defaultValue:m,fullWidth:S,multiline:I,name:D,rows:H,maxRows:R,minRows:N,type:X,value:Y,id:nt,inputRef:L,onBlur:B,onChange:q,onFocus:U,onClick:F,placeholder:z,inputProps:P},et,k));return(0,x.jsxs)(ir,(0,r.Z)({className:(0,o.Z)(tt.root,A),disabled:g,error:b,fullWidth:S,ref:e,required:j,color:p,variant:K,ownerState:$},J,{children:[null!=C&&""!==C&&(0,x.jsx)(Nt,(0,r.Z)({htmlFor:nt,id:it},T,{children:C})),V?(0,x.jsx)(tr,(0,r.Z)({"aria-describedby":rt,id:nt,labelId:it,value:Y,input:ot},W,{children:f})):ot,M&&(0,x.jsx)(Ht,(0,r.Z)({id:rt},_,{children:M}))]}))}))},9059:function(t,e,n){"use strict";n(2791);var r=n(9201),i=n(184);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},6532:function(t,e){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case a:case s:case o:case f:case A:return t;default:switch(t=t&&t.$$typeof){case c:case u:case h:case p:case d:case l:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference")},8457:function(t,e,n){"use strict";n(6532)},4591:function(t,e,n){"use strict";n.d(e,{Z:function(){return z}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),s=n(5080),l=n(7416),u=n(104),c=n(4942);function h(t,e){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,c.Z)(n,t.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,c.Z)(n,t.up("sm"),{minHeight:64}),n)},e)}var f=n(2065),A={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:A.white,default:A.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:A.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:A.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(t,e,n,r){var i=r.light||r,a=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,f.$n)(t.main,i):"dark"===e&&(t.dark=(0,f._j)(t.main,a)))}function M(t){var e=t.mode,n=void 0===e?"light":e,s=t.contrastThreshold,l=void 0===s?3:s,u=t.tonalOffset,c=void 0===u?.2:u,h=(0,i.Z)(t,_),M=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),E=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(n),T=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),P=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),k=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(n),L=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function C(t){return(0,f.mi)(t,w.text.primary)>=l?w.text.primary:x.text.primary}var R=function(t){var e=t.color,n=t.name,i=t.mainShade,o=void 0===i?500:i,s=t.lightShade,l=void 0===s?300:s,u=t.darkShade,h=void 0===u?700:u;if(!(e=(0,r.Z)({},e)).main&&e[o]&&(e.main=e[o]),!e.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof e.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(e.main)));return S(e,"light",l,c),S(e,"dark",h,c),e.contrastText||(e.contrastText=C(e.main)),e},N={dark:w,light:x};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},A),mode:n,primary:R({color:M,name:"primary"}),secondary:R({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:T,name:"error"}),warning:R({color:L,name:"warning"}),info:R({color:P,name:"info"}),success:R({color:k,name:"success"}),grey:d,contrastThreshold:l,getContrastText:C,augmentColor:R,tonalOffset:c},N[n]),h)}var E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var T={textTransform:"uppercase"},P='"Roboto", "Helvetica", "Arial", sans-serif';function k(t,e){var n="function"===typeof e?e(t):e,a=n.fontFamily,s=void 0===a?P:a,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,h=void 0===c?300:c,f=n.fontWeightRegular,A=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,m=n.fontWeightBold,v=void 0===m?700:m,g=n.htmlFontSize,y=void 0===g?16:g,b=n.allVariants,_=n.pxToRem,x=(0,i.Z)(n,E);var w=u/14,S=_||function(t){return"".concat(t/y*w,"rem")},M=function(t,e,n,i,a){return(0,r.Z)({fontFamily:s,fontWeight:t,fontSize:S(e),lineHeight:n},s===P?{letterSpacing:"".concat((o=i/e,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},k={h1:M(h,96,1.167,-1.5),h2:M(h,60,1.2,-.5),h3:M(A,48,1.167,0),h4:M(A,34,1.235,.25),h5:M(A,24,1.334,0),h6:M(p,20,1.6,.15),subtitle1:M(A,16,1.75,.15),subtitle2:M(p,14,1.57,.1),body1:M(A,16,1.5,.15),body2:M(A,14,1.43,.15),button:M(p,14,1.75,.4,T),caption:M(A,12,1.66,.4),overline:M(A,12,2.66,1,T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.Z)((0,r.Z)({htmlFontSize:y,pxToRem:S,fontFamily:s,fontSize:u,fontWeightLight:h,fontWeightRegular:A,fontWeightMedium:p,fontWeightBold:v},k),x,{clone:!1})}function L(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var C=["none",L(0,2,1,-1,0,1,1,0,0,1,3,0),L(0,3,1,-2,0,2,2,0,0,1,5,0),L(0,3,3,-2,0,3,4,0,0,1,8,0),L(0,2,4,-1,0,4,5,0,0,1,10,0),L(0,3,5,-1,0,5,8,0,0,1,14,0),L(0,3,5,-1,0,6,10,0,0,1,18,0),L(0,4,5,-2,0,7,10,1,0,2,16,1),L(0,5,5,-3,0,8,10,1,0,3,14,2),L(0,5,6,-3,0,9,12,1,0,3,16,2),L(0,6,6,-3,0,10,14,1,0,4,18,3),L(0,6,7,-4,0,11,15,1,0,4,20,3),L(0,7,8,-4,0,12,17,2,0,5,22,4),L(0,7,8,-4,0,13,19,2,0,5,24,4),L(0,7,9,-4,0,14,21,2,0,5,26,4),L(0,8,9,-5,0,15,22,2,0,6,28,5),L(0,8,10,-5,0,16,24,2,0,6,30,5),L(0,8,11,-5,0,17,26,2,0,6,32,5),L(0,9,11,-5,0,18,28,2,0,7,34,6),L(0,9,12,-6,0,19,29,2,0,7,36,6),L(0,10,13,-6,0,20,31,3,0,8,38,7),L(0,10,13,-6,0,21,33,3,0,8,40,7),L(0,10,14,-6,0,22,35,3,0,8,42,7),L(0,11,14,-7,0,23,36,3,0,9,44,8),L(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function I(t){return"".concat(Math.round(t),"ms")}function D(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}function B(t){var e=(0,r.Z)({},N,t.easing),n=(0,r.Z)({},O,t.duration);return(0,r.Z)({getAutoHeightDuration:D,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,s=r.easing,l=void 0===s?e.easeInOut:s,u=r.delay,c=void 0===u?0:u;(0,i.Z)(r,R);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof o?o:I(o)," ").concat(l," ").concat("string"===typeof c?c:I(c))})).join(",")}},t,{easing:e,duration:n})}var q={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mixins,n=void 0===e?{}:e,c=t.palette,f=void 0===c?{}:c,A=t.transitions,d=void 0===A?{}:A,p=t.typography,m=void 0===p?{}:p,v=(0,i.Z)(t,F);if(t.vars)throw new Error((0,a.Z)(18));var g=M(f),y=(0,s.Z)(t),b=(0,o.Z)(y,{mixins:h(y.breakpoints,n),palette:g,shadows:C.slice(),typography:k(g,m),transitions:B(d),zIndex:(0,r.Z)({},q)});b=(0,o.Z)(b,v);for(var _=arguments.length,x=new Array(_>1?_-1:0),w=1;w<_;w++)x[w-1]=arguments[w];return(b=x.reduce((function(t,e){return(0,o.Z)(t,e)}),b)).unstable_sxConfig=(0,r.Z)({},l.Z,null==v?void 0:v.unstable_sxConfig),b.unstable_sx=function(t){return(0,u.Z)({sx:t,theme:this})},b}var z=U()},988:function(t,e){"use strict";e.Z="$$material"},4923:function(t,e,n){"use strict";n.d(e,{ZP:function(){return D},FO:function(){return N},Dz:function(){return O}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),s=n(2791),l=n(9797),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=(0,l.Z)((function(t){return u.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),h=n(2564),f=n(5438),A=n(9140),d=n(2561),p=c,m=function(t){return"theme"!==t},v=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?p:m},g=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},y=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return(0,f.hC)(e,n,r),(0,d.L)((function(){return(0,f.My)(e,n,r)})),null},b=function t(e,n){var r,i,a=e.__emotion_real===e,l=a&&e.__emotion_base||e;void 0!==n&&(r=n.label,i=n.target);var u=g(e,n,a),c=u||v(l),d=!c("as");return function(){var p=arguments,m=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==p[0]||void 0===p[0].raw)m.push.apply(m,p);else{0,m.push(p[0][0]);for(var b=p.length,_=1;_<b;_++)m.push(p[_],p[0][_])}var x=(0,h.w)((function(t,e,n){var r=d&&t.as||l,a="",o=[],p=t;if(null==t.theme){for(var g in p={},t)p[g]=t[g];p.theme=s.useContext(h.T)}"string"===typeof t.className?a=(0,f.fp)(e.registered,o,t.className):null!=t.className&&(a=t.className+" ");var b=(0,A.O)(m.concat(o),e.registered,p);a+=e.key+"-"+b.name,void 0!==i&&(a+=" "+i);var _=d&&void 0===u?v(r):c,x={};for(var w in t)d&&"as"===w||_(w)&&(x[w]=t[w]);return x.className=a,x.ref=n,s.createElement(s.Fragment,null,s.createElement(y,{cache:e,serialized:b,isStringTag:"string"===typeof r}),s.createElement(r,x))}));return x.displayName=void 0!==r?r:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=l,x.__emotion_styles=m,x.__emotion_forwardProp=u,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(e,r){return t(e,(0,o.Z)({},n,r,{shouldForwardProp:g(x,r,!0)})).apply(void 0,m)},x}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){b[t]=b(t)}));var _=n(5080),x=n(1122),w=["variant"];function S(t){return 0===t.length}function M(t){var e=t.variant,n=(0,a.Z)(t,w),r=e||"";return Object.keys(n).sort().forEach((function(e){r+="color"===e?S(r)?t[e]:(0,x.Z)(t[e]):"".concat(S(r)?e:(0,x.Z)(e)).concat((0,x.Z)(t[e].toString()))})),r}var E=n(104),T=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function P(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}var k=(0,_.Z)();function L(t){var e,n=t.defaultTheme,r=t.theme,i=t.themeId;return e=r,0===Object.keys(e).length?n:r[i]||r}var C=n(4591),R=n(988),N=function(t){return P(t)&&"classes"!==t},O=P,I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.themeId,n=t.defaultTheme,s=void 0===n?k:n,l=t.rootShouldForwardProp,u=void 0===l?P:l,c=t.slotShouldForwardProp,h=void 0===c?P:c,f=function(t){return(0,E.Z)((0,o.Z)({},t,{theme:L((0,o.Z)({},t,{defaultTheme:s,themeId:e}))}))};return f.__mui_systemSx=!0,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}(t,(function(t){return t.filter((function(t){return!(null!=t&&t.__mui_systemSx)}))}));var l=n.name,c=n.slot,A=n.skipVariantsResolver,d=n.skipSx,p=n.overridesResolver,m=(0,a.Z)(n,T),v=void 0!==A?A:c&&"Root"!==c||!1,g=d||!1;var y=P;"Root"===c?y=u:c?y=h:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(y=void 0);var _=function(t,e){return b(t,e)}(t,(0,o.Z)({shouldForwardProp:y,label:undefined},m)),x=function(n){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];var h=u?u.map((function(t){return"function"===typeof t&&t.__emotion_real!==t?function(n){return t((0,o.Z)({},n,{theme:L((0,o.Z)({},n,{defaultTheme:s,themeId:e}))}))}:t})):[],A=n;l&&p&&h.push((function(t){var n=L((0,o.Z)({},t,{defaultTheme:s,themeId:e})),r=function(t,e){return e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null}(l,n);if(r){var a={};return Object.entries(r).forEach((function(e){var r=(0,i.Z)(e,2),s=r[0],l=r[1];a[s]="function"===typeof l?l((0,o.Z)({},t,{theme:n})):l})),p(t,a)}return null})),l&&!v&&h.push((function(t){var n=L((0,o.Z)({},t,{defaultTheme:s,themeId:e}));return function(t,e,n,r){var i,a,o=t.ownerState,s=void 0===o?{}:o,l=[],u=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(e){s[e]!==n.props[e]&&t[e]!==n.props[e]&&(r=!1)})),r&&l.push(e[M(n.props)])})),l}(t,function(t,e){var n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);var r={};return n.forEach((function(t){var e=M(t.props);r[e]=t.style})),r}(l,n),n,l)})),g||h.push(f);var d=h.length-u.length;if(Array.isArray(n)&&d>0){var m=new Array(d).fill("");(A=[].concat((0,r.Z)(n),(0,r.Z)(m))).raw=[].concat((0,r.Z)(n.raw),(0,r.Z)(m))}else"function"===typeof n&&n.__emotion_real!==n&&(A=function(t){return n((0,o.Z)({},t,{theme:L((0,o.Z)({},t,{defaultTheme:s,themeId:e}))}))});var y=_.apply(void 0,[A].concat((0,r.Z)(h)));return t.muiName&&(y.muiName=t.muiName),y};return _.withConfig&&(x.withConfig=_.withConfig),x}}({themeId:R.Z,defaultTheme:C.Z,rootShouldForwardProp:N}),D=I},551:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(7462);function i(t,e){var n=(0,r.Z)({},e);return Object.keys(t).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},t[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=t[a]||{},s=e[a];n[a]={},s&&Object.keys(s)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},s),Object.keys(o).forEach((function(t){n[a][t]=i(o[t],s[t])}))):n[a]=s:n[a]=o}else void 0===n[a]&&(n[a]=t[a])})),n}function a(t){var e=t.theme,n=t.name,r=t.props;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?i(e.components[n].defaultProps,r):r}var o=n(418);var s=n(4591),l=n(988);function u(t){return function(t){var e=t.props,n=t.name,r=t.defaultTheme,i=t.themeId,s=(0,o.Z)(r);return i&&(s=s[i]||s),a({theme:s,name:n,props:e})}({props:t.props,name:t.name,defaultTheme:s.Z,themeId:l.Z})}},4036:function(t,e,n){"use strict";var r=n(1122);e.Z=r.Z},9201:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),s=n(4419),l=n(4036),u=n(551),c=n(4923),h=n(5878),f=n(7225);function A(t){return(0,f.Z)("MuiSvgIcon",t)}(0,h.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,"inherit"!==n.color&&e["color".concat((0,l.Z)(n.color))],e["fontSize".concat((0,l.Z)(n.fontSize))]]}})((function(t){var e,n,r,i,a,o,s,l,u,c,h,f,A,d,p,m,v,g=t.theme,y=t.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:y.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(e=g.transitions)||null==(n=e.create)?void 0:n.call(e,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=g.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(u=g.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[y.fontSize],color:null!=(h=null==(f=(g.vars||g).palette)||null==(A=f[y.color])?void 0:A.main)?h:{action:null==(d=(g.vars||g).palette)||null==(p=d.action)?void 0:p.active,disabled:null==(m=(g.vars||g).palette)||null==(v=m.action)?void 0:v.disabled,inherit:void 0}[y.color]}})),v=i.forwardRef((function(t,e){var n=(0,u.Z)({props:t,name:"MuiSvgIcon"}),c=n.children,h=n.className,f=n.color,v=void 0===f?"inherit":f,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,_=void 0===b?"medium":b,x=n.htmlColor,w=n.inheritViewBox,S=void 0!==w&&w,M=n.titleAccess,E=n.viewBox,T=void 0===E?"0 0 24 24":E,P=(0,a.Z)(n,p),k=i.isValidElement(c)&&"svg"===c.type,L=(0,r.Z)({},n,{color:v,component:y,fontSize:_,instanceFontSize:t.fontSize,inheritViewBox:S,viewBox:T,hasSvgAsChild:k}),C={};S||(C.viewBox=T);var R=function(t){var e=t.color,n=t.fontSize,r=t.classes,i={root:["root","inherit"!==e&&"color".concat((0,l.Z)(e)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(i,A,r)}(L);return(0,d.jsxs)(m,(0,r.Z)({as:y,className:(0,o.Z)(R.root,h),focusable:"false",color:x,"aria-hidden":!M||void 0,role:M?"img":void 0,ref:e},C,P,k&&c.props,{ownerState:L,children:[k?c.props.children:c,M?(0,d.jsx)("title",{children:M}):null]}))}));v.muiName="SvgIcon";var g=v;function y(t,e){function n(n,i){return(0,d.jsx)(g,(0,r.Z)({"data-testid":"".concat(e,"Icon"),ref:i},n,{children:t}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},2071:function(t,e,n){"use strict";var r=n(6117);e.Z=r.Z},1184:function(t,e,n){"use strict";n.d(e,{L7:function(){return s},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(r[t],"px)")}};function a(t,e,n){var a=t.theme||{};if(Array.isArray(e)){var o=a.breakpoints||i;return e.reduce((function(t,r,i){return t[o.up(o.keys[i])]=n(e[i]),t}),{})}if("object"===typeof e){var s=a.breakpoints||i;return Object.keys(e).reduce((function(t,i){if(-1!==Object.keys(s.values||r).indexOf(i)){t[s.up(i)]=n(e[i],i)}else{var a=i;t[a]=e[a]}return t}),{})}return n(e)}function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(t=e.keys)?void 0:t.reduce((function(t,n){return t[e.up(n)]={},t}),{}))||{}}function s(t,e){return t.reduce((function(t,e){var n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}},2065:function(t,e,n){"use strict";n.d(e,{$n:function(){return h},Fq:function(){return u},_j:function(){return c},mi:function(){return l}});var r=n(6189);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function a(t){if(t.type)return t;if("#"===t.charAt(0))return a(function(t){t=t.slice(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,t));var i,o=t.substring(e+1,t.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(t){return parseFloat(t)})),colorSpace:i}}function o(t){var e=t.type,n=t.colorSpace,r=t.values;return-1!==e.indexOf("rgb")?r=r.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==e.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(e,"(").concat(r,")")}function s(t){var e="hsl"===(t=a(t)).type||"hsla"===t.type?a(function(t){var e=(t=a(t)).values,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-s*Math.max(Math.min(e-3,9-e,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===t.type&&(u+="a",c.push(e[3])),o({type:u,values:c})}(t)).values:t.values;return e=e.map((function(e){return"color"!==t.type&&(e/=255),e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(t,e){var n=s(t),r=s(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(t,e){return t=a(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,o(t)}function c(t,e){if(t=a(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return o(t)}function h(t,e){if(t=a(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(var r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return o(t)}},5080:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),s=["values","unit","step"],l=function(t){var e=Object.keys(t).map((function(e){return{key:e,val:t[e]}}))||[];return e.sort((function(t,e){return t.val-e.val})),e.reduce((function(t,e){return(0,r.Z)({},t,(0,o.Z)({},e.key,e.val))}),{})};var u={borderRadius:4},c=n(5682);var h=n(104),f=n(7416),A=["breakpoints","palette","spacing","shape"];var d=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,o=t.palette,d=void 0===o?{}:o,p=t.spacing,m=t.shape,v=void 0===m?{}:m,g=(0,i.Z)(t,A),y=function(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:900,lg:1200,xl:1536}:e,a=t.unit,o=void 0===a?"px":a,u=t.step,c=void 0===u?5:u,h=(0,i.Z)(t,s),f=l(n),A=Object.keys(f);function d(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function p(t){var e="number"===typeof n[t]?n[t]:t;return"@media (max-width:".concat(e-c/100).concat(o,")")}function m(t,e){var r=A.indexOf(e);return"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[A[r]]?n[A[r]]:e)-c/100).concat(o,")")}return(0,r.Z)({keys:A,values:f,up:d,down:p,between:m,only:function(t){return A.indexOf(t)+1<A.length?m(t,A[A.indexOf(t)+1]):d(t)},not:function(t){var e=A.indexOf(t);return 0===e?d(A[1]):e===A.length-1?p(A[e]):m(t,A[A.indexOf(t)+1]).replace("@media","@media not all and")},unit:o},h)}(n),b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=(0,c.hB)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(t){var n=e(t);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p),_=(0,a.Z)({breakpoints:y,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},d),spacing:b,shape:(0,r.Z)({},u,v)},g),x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];return(_=w.reduce((function(t,e){return(0,a.Z)(t,e)}),_)).unstable_sxConfig=(0,r.Z)({},f.Z,null==g?void 0:g.unstable_sxConfig),_.unstable_sx=function(t){return(0,h.Z)({sx:t,theme:this})},_}},8247:function(t,e,n){"use strict";var r=n(2466);e.Z=function(t,e){return e?(0,r.Z)(t,e,{clone:!1}):t}},5682:function(t,e,n){"use strict";n.d(e,{hB:function(){return p},eI:function(){return d},NA:function(){return m},e6:function(){return y},o3:function(){return b}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){if(t.length>2){if(!u[t])return[t];t=u[t]}var e=t.split(""),n=(0,r.Z)(e,2),i=n[0],a=n[1],o=s[i],c=l[a]||"";return Array.isArray(c)?c.map((function(t){return o+t})):[o+c]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],A=[].concat(h,f);function d(t,e,n,r){var i,o=null!=(i=(0,a.DW)(t,e,!1))?i:n;return"number"===typeof o?function(t){return"string"===typeof t?t:o*t}:Array.isArray(o)?function(t){return"string"===typeof t?t:o[t]}:"function"===typeof o?o:function(){}}function p(t){return d(t,"spacing",8)}function m(t,e){if("string"===typeof e||null==e)return e;var n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:"-".concat(n)}function v(t,e,n,r){if(-1===e.indexOf(n))return null;var a=function(t,e){return function(n){return t.reduce((function(t,r){return t[r]=m(e,n),t}),{})}}(c(n),r),o=t[n];return(0,i.k9)(t,o,a)}function g(t,e){var n=p(t.theme);return Object.keys(t).map((function(r){return v(t,e,r,n)})).reduce(o.Z,{})}function y(t){return g(t,h)}function b(t){return g(t,f)}function _(t){return g(t,A)}y.propTypes={},y.filterProps=h,b.propTypes={},b.filterProps=f,_.propTypes={},_.filterProps=A},8529:function(t,e,n){"use strict";n.d(e,{DW:function(){return o},Jq:function(){return s}});var r=n(4942),i=n(1122),a=n(1184);function o(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&n){var r="vars.".concat(e).split(".").reduce((function(t,e){return t&&t[e]?t[e]:null}),t);if(null!=r)return r}return e.split(".").reduce((function(t,e){return t&&null!=t[e]?t[e]:null}),t)}function s(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof t?t(n):Array.isArray(t)?t[n]||i:o(t,n)||i,e&&(r=e(r,i,t)),r}e.ZP=function(t){var e=t.prop,n=t.cssProperty,l=void 0===n?t.prop:n,u=t.themeKey,c=t.transform,h=function(t){if(null==t[e])return null;var n=t[e],h=o(t.theme,u)||{};return(0,a.k9)(t,n,(function(t){var n=s(h,c,t);return t===n&&"string"===typeof t&&(n=s(h,c,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===l?n:(0,r.Z)({},l,n)}))};return h.propTypes={},h.filterProps=[e],h}},7416:function(t,e,n){"use strict";n.d(e,{Z:function(){return C}});var r=n(5682),i=n(8529),a=n(8247);var o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return e.filterProps.forEach((function(n){t[n]=e})),t}),{}),i=function(t){return Object.keys(t).reduce((function(e,n){return r[n]?(0,a.Z)(e,r[n](t)):e}),{})};return i.propTypes={},i.filterProps=e.reduce((function(t,e){return t.concat(e.filterProps)}),[]),i},s=n(1184);function l(t){return"number"!==typeof t?t:"".concat(t,"px solid")}var u=(0,i.ZP)({prop:"border",themeKey:"borders",transform:l}),c=(0,i.ZP)({prop:"borderTop",themeKey:"borders",transform:l}),h=(0,i.ZP)({prop:"borderRight",themeKey:"borders",transform:l}),f=(0,i.ZP)({prop:"borderBottom",themeKey:"borders",transform:l}),A=(0,i.ZP)({prop:"borderLeft",themeKey:"borders",transform:l}),d=(0,i.ZP)({prop:"borderColor",themeKey:"palette"}),p=(0,i.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.ZP)({prop:"borderRightColor",themeKey:"palette"}),v=(0,i.ZP)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,i.ZP)({prop:"borderLeftColor",themeKey:"palette"}),y=function(t){if(void 0!==t.borderRadius&&null!==t.borderRadius){var e=(0,r.eI)(t.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(t,t.borderRadius,(function(t){return{borderRadius:(0,r.NA)(e,t)}}))}return null};y.propTypes={},y.filterProps=["borderRadius"];o(u,c,h,f,A,d,p,m,v,g,y);var b=function(t){if(void 0!==t.gap&&null!==t.gap){var e=(0,r.eI)(t.theme,"spacing",8,"gap");return(0,s.k9)(t,t.gap,(function(t){return{gap:(0,r.NA)(e,t)}}))}return null};b.propTypes={},b.filterProps=["gap"];var _=function(t){if(void 0!==t.columnGap&&null!==t.columnGap){var e=(0,r.eI)(t.theme,"spacing",8,"columnGap");return(0,s.k9)(t,t.columnGap,(function(t){return{columnGap:(0,r.NA)(e,t)}}))}return null};_.propTypes={},_.filterProps=["columnGap"];var x=function(t){if(void 0!==t.rowGap&&null!==t.rowGap){var e=(0,r.eI)(t.theme,"spacing",8,"rowGap");return(0,s.k9)(t,t.rowGap,(function(t){return{rowGap:(0,r.NA)(e,t)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];o(b,_,x,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function w(t,e){return"grey"===e?e:t}o((0,i.ZP)({prop:"color",themeKey:"palette",transform:w}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:w}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:w}));function S(t){return t<=1&&0!==t?"".concat(100*t,"%"):t}var M=(0,i.ZP)({prop:"width",transform:S}),E=function(t){if(void 0!==t.maxWidth&&null!==t.maxWidth){return(0,s.k9)(t,t.maxWidth,(function(e){var n,r,i;return{maxWidth:(null==(n=t.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[e])||s.VO[e]||S(e)}}))}return null};E.filterProps=["maxWidth"];var T=(0,i.ZP)({prop:"minWidth",transform:S}),P=(0,i.ZP)({prop:"height",transform:S}),k=(0,i.ZP)({prop:"maxHeight",transform:S}),L=(0,i.ZP)({prop:"minHeight",transform:S}),C=((0,i.ZP)({prop:"size",cssProperty:"width",transform:S}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:S}),o(M,E,T,P,k,L,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:y},color:{themeKey:"palette",transform:w},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:w},backgroundColor:{themeKey:"palette",transform:w},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(t){return{"@media print":{display:t}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:b},rowGap:{style:x},columnGap:{style:_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:S},maxWidth:{style:E},minWidth:{transform:S},height:{transform:S},maxHeight:{transform:S},minHeight:{transform:S},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(t,e,n){"use strict";var r=n(4942),i=n(1122),a=n(8247),o=n(8529),s=n(1184),l=n(7416);var u=function(){function t(t,e,n,a){var l,u=(l={},(0,r.Z)(l,t,e),(0,r.Z)(l,"theme",n),l),c=a[t];if(!c)return(0,r.Z)({},t,e);var h=c.cssProperty,f=void 0===h?t:h,A=c.themeKey,d=c.transform,p=c.style;if(null==e)return null;if("typography"===A&&"inherit"===e)return(0,r.Z)({},t,e);var m=(0,o.DW)(n,A)||{};if(p)return p(u);return(0,s.k9)(u,e,(function(e){var n=(0,o.Jq)(m,d,e);return e===n&&"string"===typeof e&&(n=(0,o.Jq)(m,d,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===f?n:(0,r.Z)({},f,n)}))}return function e(n){var i,o=n||{},u=o.sx,c=o.theme,h=void 0===c?{}:c;if(!u)return null;var f=null!=(i=h.unstable_sxConfig)?i:l.Z;function A(n){var i=n;if("function"===typeof n)i=n(h);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,s.W8)(h.breakpoints),l=Object.keys(o),u=o;return Object.keys(i).forEach((function(n){var o,l,c=(o=i[n],l=h,"function"===typeof o?o(l):o);if(null!==c&&void 0!==c)if("object"===typeof c)if(f[n])u=(0,a.Z)(u,t(n,c,h,f));else{var A=(0,s.k9)({theme:h},c,(function(t){return(0,r.Z)({},n,t)}));!function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return t.concat(Object.keys(e))}),[]),i=new Set(r);return e.every((function(t){return i.size===Object.keys(t).length}))}(A,c)?u=(0,a.Z)(u,A):u[n]=e({sx:c,theme:h})}else u=(0,a.Z)(u,t(n,c,h,f))})),(0,s.L7)(l,u)}return Array.isArray(u)?u.map(A):A(u)}}();u.filterProps=["sx"],e.Z=u},418:function(t,e,n){"use strict";var r=n(5080),i=n(9120),a=(0,r.Z)();e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(0,i.Z)(t)}},9120:function(t,e,n){"use strict";var r=n(2791),i=n(2564);e.Z=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.useContext(i.T);return n&&(t=n,0!==Object.keys(t).length)?n:e}},1122:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(6189);function i(t){if("string"!==typeof t)throw new Error((0,r.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},4419:function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(t).forEach((function(i){r[i]=t[i].reduce((function(t,r){if(r){var i=e(r);""!==i&&t.push(i),n&&n[r]&&t.push(n[r])}return t}),[]).join(" ")})),r}n.d(e,{Z:function(){return r}})},2466:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7462);function i(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function a(t){if(!i(t))return t;var e={};return Object.keys(t).forEach((function(n){e[n]=a(t[n])})),e}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=n.clone?(0,r.Z)({},t):t;return i(t)&&i(e)&&Object.keys(e).forEach((function(r){"__proto__"!==r&&(i(e[r])&&r in t&&i(t[r])?s[r]=o(t[r],e[r],n):n.clone?s[r]=i(e[r])?a(e[r]):e[r]:s[r]=e[r])})),s}},6189:function(t,e,n){"use strict";function r(t){for(var e="https://mui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return r}})},7225:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=function(t){return t},i=function(){var t=r;return{configure:function(e){t=e},generate:function(e){return t(e)},reset:function(){t=r}}}(),a={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=a[e];return r?"".concat(n,"-").concat(r):"".concat(i.generate(t),"-").concat(e)}},5878:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7225);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return e.forEach((function(e){i[e]=(0,r.Z)(t,e,n)})),i}},4913:function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return r}})},2971:function(t,e,n){"use strict";function r(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return r}})},8637:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(9439),i=n(2791);function a(t){var e=t.controlled,n=t.default,a=(t.name,t.state,i.useRef(void 0!==e).current),o=i.useState(n),s=(0,r.Z)(o,2),l=s[0],u=s[1];return[a?e:l,i.useCallback((function(t){a||u(t)}),[])]}},2876:function(t,e,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;e.Z=i},7054:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(2791),i=n(2876);function a(t){var e=r.useRef(t);return(0,i.Z)((function(){e.current=t})),r.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},6117:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(2791),i=n(2971);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.useMemo((function(){return e.every((function(t){return null==t}))?null:function(t){e.forEach((function(e){(0,i.Z)(e,t)}))}}),e)}},8252:function(t,e,n){"use strict";var r;n.d(e,{Z:function(){return l}});var i=n(9439),a=n(2791),o=0;var s=(r||(r=n.t(a,2)))["useId".toString()];function l(t){if(void 0!==s){var e=s();return null!=t?t:e}return function(t){var e=a.useState(t),n=(0,i.Z)(e,2),r=n[0],s=n[1],l=t||r;return a.useEffect((function(){null==r&&s("mui-".concat(o+=1))}),[r]),l}(t)}},8182:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.Z=function(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}},6031:function(t){!function(e){"use strict";var n=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return function(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);e(new Blob([i],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href},getAndEncode:function(t){var e=3e4;s.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise((function(n){var r,i=new XMLHttpRequest;if(i.onreadystatechange=o,i.ontimeout=l,i.responseType="blob",i.timeout=e,i.open("GET",t,!0),i.send(),s.impl.options.imagePlaceholder){var a=s.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(r=a[1])}function o(){if(4===i.readyState)if(200===i.status){var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(i.response)}else r?n(r):u("cannot fetch resource: "+t+", status: "+i.status)}function l(){r?n(r):u("timeout of "+e+"ms occured while fetching resource: "+t)}function u(t){console.error(t),n("")}}))},uid:function(){var t=0;return function(){return"u"+e()+t++;function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}(),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))},width:function(t){var n=e(t,"border-left-width"),r=e(t,"border-right-width");return t.scrollWidth+n+r},height:function(t){var n=e(t,"border-top-width"),r=e(t,"border-bottom-width");return t.scrollHeight+n+r}};function t(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function e(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),r=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,n,a){return o()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return i(e,t,n,a)}))})),r}));function o(){return!e(t)}},shouldProcess:e,impl:{readUrls:r,inline:i}};function e(e){return-1!==e.search(t)}function r(e){for(var r,i=[];null!==(r=t.exec(e));)i.push(r[1]);return i.filter((function(t){return!n.isDataUrl(t)}))}function i(t,e,r,i){return Promise.resolve(e).then((function(t){return r?n.resolveUrl(t,r):t})).then(i||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e))})).then((function(r){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+n.escape(t)+")(['\"]?\\))","g")}(e),"$1"+r+"$3")}))}}(),i=function(){return{resolveAll:function(){return t(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{n.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(r){console.log("Error while reading CSS rules from "+t.href,r.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return r.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}));function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),a=function(){return{inlineAll:function e(i){return i instanceof Element?a(i).then((function(){return i instanceof HTMLImageElement?t(i).inline():Promise.all(n.asArray(i.childNodes).map((function(t){return e(t)})))})):Promise.resolve(i);function a(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}},impl:{newImage:t}};function t(t){return{inline:function(e){return n.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}}}(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:function(t,e){return u(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return u(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return u(t,e||{}).then(n.canvasToBlob)},toPixelData:function(t,e){return u(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,n.width(t),n.height(t)).data}))},impl:{fontFaces:i,images:a,util:n,inliner:r,options:{}}};function l(t,e){return function(t){"undefined"===typeof t.imagePlaceholder?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=t.imagePlaceholder;"undefined"===typeof t.cacheBust?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return c(t,e.filter,!0)})).then(h).then(f).then((function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+"px");e.height&&(t.style.height=e.height+"px");e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]}));return t})).then((function(r){return function(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(n.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(r,e.width||n.width(t),e.height||n.height(t))}))}function u(t,e){return l(t,e).then(n.makeImage).then(n.delay(100)).then((function(r){var i=function(t){var r=document.createElement("canvas");if(r.width=e.width||n.width(t),r.height=e.height||n.height(t),e.bgcolor){var i=r.getContext("2d");i.fillStyle=e.bgcolor,i.fillRect(0,0,r.width,r.height)}return r}(t);return i.getContext("2d").drawImage(r,0,0),i}))}function c(t,e,r){return r||!e||e(t)?Promise.resolve(t).then((function(t){return t instanceof HTMLCanvasElement?n.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(r){return function(t,e,r){var i=t.childNodes;return 0===i.length?Promise.resolve(e):a(e,n.asArray(i),r).then((function(){return e}));function a(t,e,n){var r=Promise.resolve();return e.forEach((function(e){r=r.then((function(){return c(e,n)})).then((function(e){e&&t.appendChild(e)}))})),r}}(t,r,e)})).then((function(e){return function(t,e){return e instanceof Element?Promise.resolve().then(r).then(i).then(a).then(o).then((function(){return e})):e;function r(){function r(t,e){function r(t,e){n.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}t.cssText?e.cssText=t.cssText:r(t,e)}r(window.getComputedStyle(t),e.style)}function i(){function r(r){var i=window.getComputedStyle(t,r),a=i.getPropertyValue("content");if(""!==a&&"none"!==a){var o=n.uid();e.className=e.className+" "+o;var s=document.createElement("style");s.appendChild(l(o,r,i)),e.appendChild(s)}function l(t,e,r){var i="."+t+":"+e,a=r.cssText?o(r):s(r);return document.createTextNode(i+"{"+a+"}");function o(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function s(t){return n.asArray(t).map(e).join("; ")+";";function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}}[":before",":after"].forEach((function(t){r(t)}))}function a(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function o(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))}}(t,e)})):Promise.resolve()}function h(t){return i.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function f(t){return a.inlineAll(t).then((function(){return t}))}t.exports=s}()},7089:function(t){"use strict";function e(t,e,r){r=r||2;var a,o,s,l,h,f,d,p=e&&e.length,m=p?e[0]*r:t.length,v=n(t,0,m,r,!0),g=[];if(!v||v.next===v.prev)return g;if(p&&(v=function(t,e,r,i){var a,o,s,l=[];for(a=0,o=e.length;a<o;a++)(s=n(t,e[a]*i,a<o-1?e[a+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),l.push(A(s));for(l.sort(u),a=0;a<l.length;a++)r=c(l[a],r);return r}(t,e,v,r)),t.length>80*r){a=s=t[0],o=l=t[1];for(var y=r;y<m;y+=r)(h=t[y])<a&&(a=h),(f=t[y+1])<o&&(o=f),h>s&&(s=h),f>l&&(l=f);d=0!==(d=Math.max(s-a,l-o))?32767/d:0}return i(v,g,r,a,o,d,0),g}function n(t,e,n,r,i){var a,o;if(i===E(t,e,n,r)>0)for(a=e;a<n;a+=r)o=w(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=w(a,t[a],t[a+1],o);return o&&v(o,o.next)&&(S(o),o=o.next),o}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(S(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,u,c,h,A){if(t){!A&&h&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(t,u,c,h);for(var d,p,m=t;t.prev!==t.next;)if(d=t.prev,p=t.next,h?o(t,u,c,h):a(t))e.push(d.i/n|0),e.push(t.i/n|0),e.push(p.i/n|0),S(t),t=p.next,m=p.next;else if((t=p)===m){A?1===A?i(t=s(r(t),e,n),e,n,u,c,h,2):2===A&&l(t,e,n,u,c,h):i(r(t),e,n,u,c,h,1);break}}}function a(t){var e=t.prev,n=t,r=t.next;if(m(e,n,r)>=0)return!1;for(var i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,A=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==e;){if(p.x>=c&&p.x<=f&&p.y>=h&&p.y<=A&&d(i,s,a,l,o,u,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function o(t,e,n,r){var i=t.prev,a=t,o=t.next;if(m(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,A=o.y,p=s<l?s<u?s:u:l<u?l:u,v=c<h?c<A?c:A:h<A?h:A,g=s>l?s>u?s:u:l>u?l:u,y=c>h?c>A?c:A:h>A?h:A,b=f(p,v,e,n,r),_=f(g,y,e,n,r),x=t.prevZ,w=t.nextZ;x&&x.z>=b&&w&&w.z<=_;){if(x.x>=p&&x.x<=g&&x.y>=v&&x.y<=y&&x!==i&&x!==o&&d(s,c,l,h,u,A,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,w.x>=p&&w.x<=g&&w.y>=v&&w.y<=y&&w!==i&&w!==o&&d(s,c,l,h,u,A,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;x&&x.z>=b;){if(x.x>=p&&x.x<=g&&x.y>=v&&x.y<=y&&x!==i&&x!==o&&d(s,c,l,h,u,A,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=g&&w.y>=v&&w.y<=y&&w!==i&&w!==o&&d(s,c,l,h,u,A,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function s(t,e,n){var i=t;do{var a=i.prev,o=i.next.next;!v(a,o)&&g(a,i,i.next,o)&&_(a,o)&&_(o,a)&&(e.push(a.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),S(i),S(i.next),i=t=o),i=i.next}while(i!==t);return r(i)}function l(t,e,n,a,o,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&p(l,u)){var c=x(l,u);return l=r(l,l.next),c=r(c,c.next),i(l,e,n,a,o,s,0),void i(c,e,n,a,o,s,0)}u=u.next}l=l.next}while(l!==t)}function u(t,e){return t.x-e.x}function c(t,e){var n=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==e);if(!n)return null;var l,u=n,c=n.x,f=n.y,A=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&d(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),_(r,t)&&(l<A||l===A&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,A=l)),r=r.next}while(r!==u);return n}(t,e);if(!n)return e;var i=x(n,t);return r(i,i.next),r(n,n.next)}function h(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function A(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&g(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||v(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,n,r){var i=b(m(t,e,n)),a=b(m(t,e,r)),o=b(m(n,r,t)),s=b(m(n,r,e));return i!==a&&o!==s||(!(0!==i||!y(t,n,e))||(!(0!==a||!y(t,r,e))||(!(0!==o||!y(n,t,r))||!(0!==s||!y(n,e,r)))))}function y(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function _(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function x(t,e){var n=new M(t.i,t.x,t.y),r=new M(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function w(t,e,n,r){var i=new M(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,a=i?e[0]*n:t.length,o=Math.abs(E(t,0,a,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;o-=Math.abs(E(t,u,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,A=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[A+1]-t[f+1])-(t[f]-t[A])*(t[d+1]-t[f+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)n.vertices.push(t[i][a][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},6253:function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e,n){void 0===t&&(t=NaN),void 0===e&&(e=NaN),void 0===n&&(n=!1),this._minFPS=e,this._maxFPS=t,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new r.default,this._onPause=new r.default,this._onTick=new r.default,this._onTickOncePerFrame=new r.default,n||this.resume()}return t.prototype.updateOnce=function(t){t(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},t.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},t.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},t.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(t.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale!==t&&(this._timeScale=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),t.prototype.animateOnce=function(){var t=this;this._animationFrameHandle=window.requestAnimationFrame((function(){return t.onFrame()}))},t.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},t.prototype.update=function(t,e){void 0===e&&(e=!0),this._currentTick++,this._currentTime+=t,this._tickDeltaTime=t,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),e&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},t.prototype.getTimer=function(){return Date.now()},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";var n=function(){function t(){this.functions=[]}return t.prototype.add=function(t){return-1===this.functions.indexOf(t)&&(this.functions.push(t),!0)},t.prototype.remove=function(t){var e=this.functions.indexOf(t);return e>-1&&(this.functions.splice(e,1),!0)},t.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.functions.concat().forEach((function(e){e.apply(void 0,t)}))},Object.defineProperty(t.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}])}))}])},1189:function(t,e,n){var r=n(7424).default,i=n(861).default;t.exports=function(t){return i(t).reduce((function(t,e){var n=r(e,2),i=n[0],a=n[1];return t[i]=a,t}),{})}},2110:function(t,e,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?o:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=A(n);i&&i!==d&&t(e,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=l(e),p=l(n),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!r||!r[v])&&(!p||!p[v])&&(!s||!s[v])){var g=f(n,v);try{u(e,v,g)}catch(y){}}}}return e}},746:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,A=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case a:case s:case o:case A:return t;default:switch(t=t&&t.$$typeof){case u:case f:case m:case p:case l:return t;default:return e}}case i:return e}}}function x(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=a,e.Lazy=m,e.Memo=p,e.Portal=i,e.Profiler=s,e.StrictMode=o,e.Suspense=A,e.isAsyncMode=function(t){return x(t)||_(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===a},e.isLazy=function(t){return _(t)===m},e.isMemo=function(t){return _(t)===p},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===A},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===s||t===o||t===A||t===d||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===p||t.$$typeof===l||t.$$typeof===u||t.$$typeof===f||t.$$typeof===g||t.$$typeof===y||t.$$typeof===b||t.$$typeof===v)},e.typeOf=_},8309:function(t,e,n){"use strict";t.exports=n(746)},5125:function(t,e,n){"use strict";n.d(e,{ZP:function(){return mn}});var r=n(1002),i=Uint8Array,a=Uint16Array,o=Uint32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(t,e){for(var n=new a(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new o(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},h=c(s,2),f=h[0],A=h[1];f[28]=258,A[258]=28;for(var d=c(l,0),p=d[0],m=d[1],v=new a(32768),g=0;g<32768;++g){var y=(43690&g)>>>1|(21845&g)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,v[g]=((65280&y)>>>8|(255&y)<<8)>>>1}var b=function(t,e,n){for(var r=t.length,i=0,o=new a(e);i<r;++i)++o[t[i]-1];var s,l=new a(e);for(i=0;i<e;++i)l[i]=l[i-1]+o[i-1]<<1;if(n){s=new a(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],f=l[t[i]-1]++<<h,A=f|(1<<h)-1;f<=A;++f)s[v[f]>>>u]=c}else for(s=new a(r),i=0;i<r;++i)s[i]=v[l[t[i]-1]++]>>>15-t[i];return s},_=new i(288);for(g=0;g<144;++g)_[g]=8;for(g=144;g<256;++g)_[g]=9;for(g=256;g<280;++g)_[g]=7;for(g=280;g<288;++g)_[g]=8;var x=new i(32);for(g=0;g<32;++g)x[g]=5;var w=b(_,9,0),S=b(_,9,1),M=b(x,5,0),E=b(x,5,1),T=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},P=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(7&e)&n},k=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(7&e)},L=function(t){return(t/8>>0)+(7&t&&1)},C=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var r=new(t instanceof a?a:t instanceof o?o:i)(n-e);return r.set(t.subarray(e,n)),r},R=function(t,e,n){var r=t.length,a=!e||n,o=!n||n.i;n||(n={}),e||(e=new i(3*r));var c=function(t){var n=e.length;if(t>n){var r=new i(Math.max(2*n,t));r.set(e),e=r}},h=n.f||0,A=n.p||0,d=n.b||0,m=n.l,v=n.d,g=n.m,y=n.n,_=8*r;do{if(!m){n.f=h=P(t,A,1);var x=P(t,A+1,3);if(A+=3,!x){var w=t[(z=L(A)+4)-4]|t[z-3]<<8,M=z+w;if(M>r){if(o)throw"unexpected EOF";break}a&&c(d+w),e.set(t.subarray(z,M),d),n.b=d+=w,n.p=A=8*M;continue}if(1==x)m=S,v=E,g=9,y=5;else{if(2!=x)throw"invalid block type";var R=P(t,A,31)+257,N=P(t,A+10,15)+4,O=R+P(t,A+5,31)+1;A+=14;for(var I=new i(O),D=new i(19),B=0;B<N;++B)D[u[B]]=P(t,A+3*B,7);A+=3*N;var q=T(D),F=(1<<q)-1;if(!o&&A+O*(q+7)>_)break;var U=b(D,q,1);for(B=0;B<O;){var z,Z=U[P(t,A,F)];if(A+=15&Z,(z=Z>>>4)<16)I[B++]=z;else{var j=0,H=0;for(16==z?(H=3+P(t,A,3),A+=2,j=I[B-1]):17==z?(H=3+P(t,A,7),A+=3):18==z&&(H=11+P(t,A,127),A+=7);H--;)I[B++]=j}}var G=I.subarray(0,R),V=I.subarray(R);g=T(G),y=T(V),m=b(G,g,1),v=b(V,y,1)}if(A>_)throw"unexpected EOF"}a&&c(d+131072);for(var W=(1<<g)-1,X=(1<<y)-1,Y=g+y+18;o||A+Y<_;){var Q=(j=m[k(t,A)&W])>>>4;if((A+=15&j)>_)throw"unexpected EOF";if(!j)throw"invalid length/literal";if(Q<256)e[d++]=Q;else{if(256==Q){m=null;break}var K=Q-254;if(Q>264){var J=s[B=Q-257];K=P(t,A,(1<<J)-1)+f[B],A+=J}var $=v[k(t,A)&X],tt=$>>>4;if(!$)throw"invalid distance";A+=15&$;V=p[tt];if(tt>3){J=l[tt];V+=k(t,A)&(1<<J)-1,A+=J}if(A>_)throw"unexpected EOF";a&&c(d+131072);for(var et=d+K;d<et;d+=4)e[d]=e[d-V],e[d+1]=e[d+1-V],e[d+2]=e[d+2-V],e[d+3]=e[d+3-V];d=et}}n.l=m,n.p=A,n.b=d,m&&(h=1,n.m=g,n.d=v,n.n=y)}while(!h);return d==e.length?e:C(e,0,d)},N=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},O=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},I=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var o=n.length,s=n.slice();if(!o)return[new i(0),0];if(1==o){var l=new i(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var u=n[0],c=n[1],h=0,f=1,A=2;for(n[0]={s:-1,f:u.f+c.f,l:u,r:c};f!=o-1;)u=n[n[h].f<n[A].f?h++:A++],c=n[h!=f&&n[h].f<n[A].f?h++:A++],n[f++]={s:-1,f:u.f+c.f,l:u,r:c};var d=s[0].s;for(r=1;r<o;++r)s[r].s>d&&(d=s[r].s);var p=new a(d+1),m=D(n[f-1],p,0);if(m>e){r=0;var v=0,g=m-e,y=1<<g;for(s.sort((function(t,e){return p[e.s]-p[t.s]||t.f-e.f}));r<o;++r){var b=s[r].s;if(!(p[b]>e))break;v+=y-(1<<m-p[b]),p[b]=e}for(v>>>=g;v>0;){var _=s[r].s;p[_]<e?v-=1<<e-p[_]++-1:++r}for(;r>=0&&v;--r){var x=s[r].s;p[x]==e&&(--p[x],++v)}m=e}return[new i(p),m]},D=function t(e,n,r){return-1==e.s?Math.max(t(e.l,n,r+1),t(e.r,n,r+1)):n[e.s]=r},B=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new a(++e),r=0,i=t[0],o=1,s=function(t){n[r++]=t},l=1;l<=e;++l)if(t[l]==i&&l!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[l]}return[n.subarray(0,r),e]},q=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},F=function(t,e,n){var r=n.length,i=L(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<r;++a)t[i+a+4]=n[a];return 8*(i+4+r)},U=function(t,e,n,r,i,o,c,h,f,A,d){N(e,d++,n),++i[256];for(var p=I(i,15),m=p[0],v=p[1],g=I(o,15),y=g[0],S=g[1],E=B(m),T=E[0],P=E[1],k=B(y),L=k[0],C=k[1],R=new a(19),D=0;D<T.length;++D)R[31&T[D]]++;for(D=0;D<L.length;++D)R[31&L[D]]++;for(var U=I(R,7),z=U[0],Z=U[1],j=19;j>4&&!z[u[j-1]];--j);var H,G,V,W,X=A+5<<3,Y=q(i,_)+q(o,x)+c,Q=q(i,m)+q(o,y)+c+14+3*j+q(R,z)+(2*R[16]+3*R[17]+7*R[18]);if(X<=Y&&X<=Q)return F(e,d,t.subarray(f,f+A));if(N(e,d,1+(Q<Y)),d+=2,Q<Y){H=b(m,v,0),G=m,V=b(y,S,0),W=y;var K=b(z,Z,0);N(e,d,P-257),N(e,d+5,C-1),N(e,d+10,j-4),d+=14;for(D=0;D<j;++D)N(e,d+3*D,z[u[D]]);d+=3*j;for(var J=[T,L],$=0;$<2;++$){var tt=J[$];for(D=0;D<tt.length;++D){var et=31&tt[D];N(e,d,K[et]),d+=z[et],et>15&&(N(e,d,tt[D]>>>5&127),d+=tt[D]>>>12)}}}else H=w,G=_,V=M,W=x;for(D=0;D<h;++D)if(r[D]>255){et=r[D]>>>18&31;O(e,d,H[et+257]),d+=G[et+257],et>7&&(N(e,d,r[D]>>>23&31),d+=s[et]);var nt=31&r[D];O(e,d,V[nt]),d+=W[nt],nt>3&&(O(e,d,r[D]>>>5&8191),d+=l[nt])}else O(e,d,H[r[D]]),d+=G[r[D]];return O(e,d,H[256]),d+G[256]},z=new o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z=new i(0),j=function(t,e,n,r,u,c){var h=t.length,f=new i(r+h+5*(1+Math.floor(h/7e3))+u),d=f.subarray(r,f.length-u),p=0;if(!e||h<8)for(var v=0;v<=h;v+=65535){var g=v+65535;g<h?p=F(d,p,t.subarray(v,g)):(d[v]=c,p=F(d,p,t.subarray(v,h)))}else{for(var y=z[e-1],b=y>>>13,_=8191&y,x=(1<<n)-1,w=new a(32768),S=new a(x+1),M=Math.ceil(n/3),E=2*M,T=function(e){return(t[e]^t[e+1]<<M^t[e+2]<<E)&x},P=new o(25e3),k=new a(288),R=new a(32),N=0,O=0,I=(v=0,0),D=0,B=0;v<h;++v){var q=T(v),j=32767&v,H=S[q];if(w[j]=H,S[q]=j,D<=v){var G=h-v;if((N>7e3||I>24576)&&G>423){p=U(t,d,0,P,k,R,O,I,B,v-B,p),I=N=O=0,B=v;for(var V=0;V<286;++V)k[V]=0;for(V=0;V<30;++V)R[V]=0}var W=2,X=0,Y=_,Q=j-H&32767;if(G>2&&q==T(v-Q))for(var K=Math.min(b,G)-1,J=Math.min(32767,v),$=Math.min(258,G);Q<=J&&--Y&&j!=H;){if(t[v+W]==t[v+W-Q]){for(var tt=0;tt<$&&t[v+tt]==t[v+tt-Q];++tt);if(tt>W){if(W=tt,X=Q,tt>K)break;var et=Math.min(Q,tt-2),nt=0;for(V=0;V<et;++V){var rt=v-Q+V+32768&32767,it=rt-w[rt]+32768&32767;it>nt&&(nt=it,H=rt)}}}Q+=(j=H)-(H=w[j])+32768&32767}if(X){P[I++]=268435456|A[W]<<18|m[X];var at=31&A[W],ot=31&m[X];O+=s[at]+l[ot],++k[257+at],++R[ot],D=v+W,++N}else P[I++]=t[v],++k[t[v]]}}p=U(t,d,c,P,k,R,O,I,B,v-B,p),c||(p=F(d,p,Z))}return C(f,0,r+L(p)+u)},H=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length,o=0;o!=a;){for(var s=Math.min(o+5552,a);o<s;++o)i+=r+=n[o];r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}},G=function(t,e,n,r,i){return j(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!i)},V=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},W=function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},X=function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"};function Y(t,e){void 0===e&&(e={});var n=H();n.p(t);var r=G(t,e,2,4);return W(r,e),V(r,r.length-4,n.d()),r}function Q(t,e){return R((X(t),t.subarray(2,-4)),e)}var K=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function J(){K.console&&"function"==typeof K.console.log&&K.console.log.apply(K.console,arguments)}var $={log:J,warn:function(t){K.console&&("function"==typeof K.console.warn?K.console.warn.apply(K.console,arguments):J.call(null,arguments))},error:function(t){K.console&&("function"==typeof K.console.error?K.console.error.apply(K.console,arguments):J(t))}};function tt(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){at(r.response,e,n)},r.onerror=function(){$.error("could not download file")},r.send()}function et(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function nt(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var rt,it,at=K.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,r.Z)(window))||window!==K?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=K.URL||K.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?et(i.href)?tt(t,e,n):nt(i,i.target="_blank"):nt(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){nt(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(et(t))tt(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){nt(i)}))}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==(0,r.Z)(e)&&($.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return tt(t,e,n);var a="application/octet-stream"===t.type,o=/constructor/i.test(K.HTMLElement)||K.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&o)&&"object"===("undefined"==typeof FileReader?"undefined":(0,r.Z)(FileReader))){var l=new FileReader;l.onloadend=function(){var t=l.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},l.readAsDataURL(t)}else{var u=K.URL||K.webkitURL,c=u.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout((function(){u.revokeObjectURL(c)}),4e4)}});function ot(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}function st(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=ut(n,r,i,a,e[0],7,-680876936),a=ut(a,n,r,i,e[1],12,-389564586),i=ut(i,a,n,r,e[2],17,606105819),r=ut(r,i,a,n,e[3],22,-1044525330),n=ut(n,r,i,a,e[4],7,-176418897),a=ut(a,n,r,i,e[5],12,1200080426),i=ut(i,a,n,r,e[6],17,-1473231341),r=ut(r,i,a,n,e[7],22,-45705983),n=ut(n,r,i,a,e[8],7,1770035416),a=ut(a,n,r,i,e[9],12,-1958414417),i=ut(i,a,n,r,e[10],17,-42063),r=ut(r,i,a,n,e[11],22,-1990404162),n=ut(n,r,i,a,e[12],7,1804603682),a=ut(a,n,r,i,e[13],12,-40341101),i=ut(i,a,n,r,e[14],17,-1502002290),n=ct(n,r=ut(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ct(a,n,r,i,e[6],9,-1069501632),i=ct(i,a,n,r,e[11],14,643717713),r=ct(r,i,a,n,e[0],20,-373897302),n=ct(n,r,i,a,e[5],5,-701558691),a=ct(a,n,r,i,e[10],9,38016083),i=ct(i,a,n,r,e[15],14,-660478335),r=ct(r,i,a,n,e[4],20,-405537848),n=ct(n,r,i,a,e[9],5,568446438),a=ct(a,n,r,i,e[14],9,-1019803690),i=ct(i,a,n,r,e[3],14,-187363961),r=ct(r,i,a,n,e[8],20,1163531501),n=ct(n,r,i,a,e[13],5,-1444681467),a=ct(a,n,r,i,e[2],9,-51403784),i=ct(i,a,n,r,e[7],14,1735328473),n=ht(n,r=ct(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ht(a,n,r,i,e[8],11,-2022574463),i=ht(i,a,n,r,e[11],16,1839030562),r=ht(r,i,a,n,e[14],23,-35309556),n=ht(n,r,i,a,e[1],4,-1530992060),a=ht(a,n,r,i,e[4],11,1272893353),i=ht(i,a,n,r,e[7],16,-155497632),r=ht(r,i,a,n,e[10],23,-1094730640),n=ht(n,r,i,a,e[13],4,681279174),a=ht(a,n,r,i,e[0],11,-358537222),i=ht(i,a,n,r,e[3],16,-722521979),r=ht(r,i,a,n,e[6],23,76029189),n=ht(n,r,i,a,e[9],4,-640364487),a=ht(a,n,r,i,e[12],11,-421815835),i=ht(i,a,n,r,e[15],16,530742520),n=ft(n,r=ht(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ft(a,n,r,i,e[7],10,1126891415),i=ft(i,a,n,r,e[14],15,-1416354905),r=ft(r,i,a,n,e[5],21,-57434055),n=ft(n,r,i,a,e[12],6,1700485571),a=ft(a,n,r,i,e[3],10,-1894986606),i=ft(i,a,n,r,e[10],15,-1051523),r=ft(r,i,a,n,e[1],21,-2054922799),n=ft(n,r,i,a,e[8],6,1873313359),a=ft(a,n,r,i,e[15],10,-30611744),i=ft(i,a,n,r,e[6],15,-1560198380),r=ft(r,i,a,n,e[13],21,1309151649),n=ft(n,r,i,a,e[4],6,-145523070),a=ft(a,n,r,i,e[11],10,-1120210379),i=ft(i,a,n,r,e[2],15,718787259),r=ft(r,i,a,n,e[9],21,-343485551),t[0]=bt(n,t[0]),t[1]=bt(r,t[1]),t[2]=bt(i,t[2]),t[3]=bt(a,t[3])}function lt(t,e,n,r,i,a){return e=bt(bt(e,t),bt(r,a)),bt(e<<i|e>>>32-i,n)}function ut(t,e,n,r,i,a,o){return lt(e&n|~e&r,t,e,i,a,o)}function ct(t,e,n,r,i,a,o){return lt(e&r|n&~r,t,e,i,a,o)}function ht(t,e,n,r,i,a,o){return lt(e^n^r,t,e,i,a,o)}function ft(t,e,n,r,i,a,o){return lt(n^(e|~r),t,e,i,a,o)}function At(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)st(r,dt(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(st(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,st(r,i),r}function dt(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}rt=K.atob.bind(K),it=K.btoa.bind(K);var pt="0123456789abcdef".split("");function mt(t){for(var e="",n=0;n<4;n++)e+=pt[t>>8*n+4&15]+pt[t>>8*n&15];return e}function vt(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gt(t){return At(t).map(vt).join("")}var yt="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=mt(t[e]);return t.join("")}(At("hello"));function bt(t,e){if(yt){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function _t(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var h=e.length,f=0,A=0,d="";for(l=0;l<h;l++)A=(A+(c=s[f=(f+1)%256]))%256,s[f]=s[A],s[A]=c,o=s[(s[f]+s[A])%256],d+=String.fromCharCode(e.charCodeAt(l)^o);return d}var xt={print:4,modify:8,copy:16,"annot-forms":32};function wt(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach((function(t){if(void 0!==xt.perm)throw new Error("Invalid permission: "+t);i+=xt[t]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=gt(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_t(this.encryptionKey,this.padding)}function St(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Mt(t){if("object"!==(0,r.Z)(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(n){K.console&&$.error("jsPDF PubSub Error",n.message,n)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Et(t){if(!(this instanceof Et))return new Et(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Tt(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Pt(t,e,n,r,i){if(!(this instanceof Pt))return new Pt(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,Tt.call(this,r,i)}function kt(t,e,n,r,i){if(!(this instanceof kt))return new kt(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Tt.call(this,r,i)}function Lt(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],s=[],l=1,u=16,c="S",h=null;"object"===(0,r.Z)(t=t||{})&&(n=t.orientation,i=t.unit||i,a=t.format||a,o=t.compress||t.compressPdf||o,null!==(h=t.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(u=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(!0===o?["FlateEncode"]:s),i=i||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,A={},d={internal:{},__private__:{}};d.__private__.PubSub=Mt;var p="1.3",m=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(t){p=t};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var g=d.__private__.getPageFormat=function(t){return v[t]};a=a||"a4";var y="compat",b="advanced",_=y;function x(){this.saveGraphicsState(),tt(new Ht(gt,0,0,-gt,0,wn()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),c="n",_=b}function w(){this.restoreGraphicsState(),c="S",_=y}var S=d.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};d.advancedAPI=function(t){var e=_===y;return e&&x.call(this),"function"!=typeof t||(t(this),e&&w.call(this)),this},d.compatAPI=function(t){var e=_===b;return e&&w.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},d.isAdvancedAPI=function(){return _===b};var M,E=function(t){if(_!==b)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=d.roundToPrecision=d.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};M=d.hpf=d.__private__.hpf="number"==typeof u?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return T(t,u)}:"smart"===u?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return T(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return T(t,16)};var P=d.f2=d.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return T(t,2)},k=d.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return T(t,3)},L=d.scale=d.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return _===y?t*gt:_===b?t:void 0},C=function(t){return L(function(t){return _===y?wn()-t:_===b?t:void 0}(t))};d.__private__.setPrecision=d.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var R,N="00000000000000000000000000000000",O=d.__private__.getFileId=function(){return N},I=d.__private__.setFileId=function(t){return N=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():N.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==h&&(Re=new wt(h.userPermissions,h.userPassword,h.ownerPassword,N)),N};d.setFileId=function(t){return I(t),this},d.getFileId=function(){return O()};var D=d.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),a=[n,z(r),"'",z(i),"'"].join("");return["D:",t.getFullYear(),z(t.getMonth()+1),z(t.getDate()),z(t.getHours()),z(t.getMinutes()),z(t.getSeconds()),a].join("")},B=d.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),o=parseInt(t.substr(14,2),10);return new Date(e,n,r,i,a,o,0)},q=d.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=D(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return R=e},F=d.__private__.getCreationDate=function(t){var e=R;return"jsDate"===t&&(e=B(R)),e};d.setCreationDate=function(t){return q(t),this},d.getCreationDate=function(t){return F(t)};var U,z=d.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},Z=d.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},j=0,H=[],G=[],V=0,W=[],X=[],Y=!1,Q=G;d.__private__.setCustomOutputDestination=function(t){Y=!0,Q=t};var J=function(t){Y||(Q=t)};d.__private__.resetCustomOutputDestination=function(){Y=!1,Q=G};var tt=d.__private__.out=function(t){return t=t.toString(),V+=t.length+1,Q.push(t),Q},et=d.__private__.write=function(t){return tt(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},nt=d.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return rt};var st=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(t){return st=_===b?t/gt:t,this};var lt,ut=d.__private__.getFontSize=d.getFontSize=function(){return _===y?st:st*gt},ct=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(t){return ct=t,this},d.__private__.getR2L=d.getR2L=function(){return ct};var ht,ft=d.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))lt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');lt=t}else lt=parseInt(t,10)};d.__private__.getZoomMode=function(){return lt};var At,dt=d.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');ht=t};d.__private__.getPageMode=function(){return ht};var pt=d.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');At=t};d.__private__.getLayoutMode=function(){return At},d.__private__.setDisplayMode=d.setDisplayMode=function(t,e,n){return ft(t),pt(e),dt(n),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(t){if(-1===Object.keys(mt).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[t]},d.__private__.getDocumentProperties=function(){return mt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(t){for(var e in mt)mt.hasOwnProperty(e)&&t[e]&&(mt[e]=t[e]);return this},d.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(mt).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[t]=e};var vt,gt,yt,bt,_t,xt={},Tt={},Ct=[],Rt={},Nt={},Ot={},It={},Dt=null,Bt=0,qt=[],Ft=new Mt(d),Ut=t.hotfixes||[],zt={},Zt={},jt=[],Ht=function t(e,n,r,i,a,o){if(!(this instanceof t))return new t(e,n,r,i,a,o);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[e,n,r,i,a,o]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ht.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(t)},Ht.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,a=t.tx*this.sx+t.ty*this.shx+this.tx,o=t.tx*this.shy+t.ty*this.sy+this.ty;return new Ht(e,n,r,i,a,o)},Ht.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=Math.sqrt(t*t+e*e),s=(t/=o)*n+(e/=o)*r;n-=t*s,r-=e*s;var l=Math.sqrt(n*n+r*r);return s/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,s=-s,o=-o),{scale:new Ht(o,0,0,l,0,0),translate:new Ht(1,0,0,1,i,a),rotate:new Ht(t,e,-e,t,0,0),skew:new Ht(1,0,s,1,0,0)}},Ht.prototype.toString=function(t){return this.join(" ")},Ht.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty,o=1/(t*r-e*n),s=r*o,l=-e*o,u=-n*o,c=t*o;return new Ht(s,l,u,c,-s*i-u*a,-l*i-c*a)},Ht.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new mn(e,n)},Ht.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new mn(t.x+t.w,t.y+t.h));return new vn(e.x,e.y,n.x-e.x,n.y-e.y)},Ht.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,a=this.ty;return new Ht(t,e,n,r,i,a)},d.Matrix=Ht;var Gt=d.matrixMult=function(t,e){return e.multiply(t)},Vt=new Ht(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Vt;var Wt=function(t,e){if(!Nt[t]){var n=(e instanceof Pt?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);e.id=n,Nt[t]=n,Rt[n]=e,Ft.publish("addPattern",e)}};d.ShadingPattern=Pt,d.TilingPattern=kt,d.addShadingPattern=function(t,e){return E("addShadingPattern()"),Wt(t,e),this},d.beginTilingPattern=function(t){E("beginTilingPattern()"),yn(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},d.endTilingPattern=function(t,e){E("endTilingPattern()"),e.stream=X[U].join("\n"),Wt(t,e),Ft.publish("endTilingPattern",e),jt.pop().restore()};var Xt,Yt=d.__private__.newObject=function(){var t=Qt();return Kt(t,!0),t},Qt=d.__private__.newObjectDeferred=function(){return j++,H[j]=function(){return V},j},Kt=function(t,e){return e="boolean"==typeof e&&e,H[t]=V,e&&tt(t+" 0 obj"),t},Jt=d.__private__.newAdditionalObject=function(){var t={objId:Qt(),content:""};return W.push(t),t},$t=Qt(),te=Qt(),ee=d.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},ne=d.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,i=t.ch2,a=t.ch3,o=t.ch4,s="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new ot(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var u=parseInt(n.substr(1),16);n=u>>16&255,i=u>>8&255,a=255&u}if(void 0===i||void 0===o&&n===i&&i===a)if("string"==typeof n)e=n+" "+s[0];else if(2===t.precision)e=P(n/255)+" "+s[0];else e=k(n/255)+" "+s[0];else if(void 0===o||"object"===(0,r.Z)(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof n)e=[n,i,a,s[1]].join(" ");else if(2===t.precision)e=[P(n/255),P(i/255),P(a/255),s[1]].join(" ");else e=[k(n/255),k(i/255),k(a/255),s[1]].join(" ")}else if("string"==typeof n)e=[n,i,a,o,s[2]].join(" ");else if(2===t.precision)e=[P(n),P(i),P(a),P(o),s[2]].join(" ");else e=[k(n),k(i),k(a),k(o),s[2]].join(" ");return e},re=d.__private__.getFilters=function(){return s},ie=d.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||re(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,a=e.length,o=t.objectId,s=function(t){return t};if(null!==h&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(s=Re.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var u=t.additionalKeyValues||[],c=(l=void 0!==Lt.API.processDataByFilters?Lt.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(u.push({key:"Length",value:l.data.length}),!0===i&&u.push({key:"Length1",value:a})),0!=c.length)if(c.split("/").length-1==1)u.push({key:"Filter",value:c});else{u.push({key:"Filter",value:"["+c+"]"});for(var f=0;f<u.length;f+=1)if("DecodeParms"===u[f].key){for(var A=[],d=0;d<l.reverseChain.split("/").length-1;d+=1)A.push("null");A.push(u[f].value),u[f].value="["+A.join(" ")+"]"}}tt("<<");for(var p=0;p<u.length;p++)tt("/"+u[p].key+" "+u[p].value);tt(">>"),0!==l.data.length&&(tt("stream"),tt(s(l.data)),tt("endstream"))},ae=d.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;Kt(r,!0),tt("<</Type /Page"),tt("/Parent "+t.rootDictionaryObjId+" 0 R"),tt("/Resources "+t.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(M(t.mediaBox.bottomLeftX))+" "+parseFloat(M(t.mediaBox.bottomLeftY))+" "+M(t.mediaBox.topRightX)+" "+M(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&tt("/CropBox ["+M(t.cropBox.bottomLeftX)+" "+M(t.cropBox.bottomLeftY)+" "+M(t.cropBox.topRightX)+" "+M(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&tt("/BleedBox ["+M(t.bleedBox.bottomLeftX)+" "+M(t.bleedBox.bottomLeftY)+" "+M(t.bleedBox.topRightX)+" "+M(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&tt("/TrimBox ["+M(t.trimBox.bottomLeftX)+" "+M(t.trimBox.bottomLeftY)+" "+M(t.trimBox.topRightX)+" "+M(t.trimBox.topRightY)+"]"),null!==t.artBox&&tt("/ArtBox ["+M(t.artBox.bottomLeftX)+" "+M(t.artBox.bottomLeftY)+" "+M(t.artBox.topRightX)+" "+M(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&tt("/UserUnit "+t.userUnit),Ft.publish("putPage",{objId:r,pageContext:qt[e],pageNumber:e,page:n}),tt("/Contents "+i+" 0 R"),tt(">>"),tt("endobj");var a=n.join("\n");return _===b&&(a+="\nQ"),Kt(i,!0),ie({data:a,filters:re(),objectId:i}),tt("endobj"),r},oe=d.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=Bt;t++)qt[t].objId=Qt(),qt[t].contentsObjId=Qt();for(t=1;t<=Bt;t++)n.push(ae({number:t,data:X[t],objId:qt[t].objId,contentsObjId:qt[t].contentsObjId,mediaBox:qt[t].mediaBox,cropBox:qt[t].cropBox,bleedBox:qt[t].bleedBox,trimBox:qt[t].trimBox,artBox:qt[t].artBox,userUnit:qt[t].userUnit,rootDictionaryObjId:$t,resourceDictionaryObjId:te}));Kt($t,!0),tt("<</Type /Pages");var r="/Kids [";for(e=0;e<Bt;e++)r+=n[e]+" 0 R ";tt(r+"]"),tt("/Count "+Bt),tt(">>"),tt("endobj"),Ft.publish("postPutPages")},se=function(t){Ft.publish("putFont",{font:t,out:tt,newObject:Yt,putStream:ie}),!0!==t.isAlreadyPutted&&(t.objectNumber=Yt(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+St(t.postScriptName)),tt("/Subtype /Type1"),"string"==typeof t.encoding&&tt("/Encoding /"+t.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},le=function(t){t.objectNumber=Yt();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[M(t.x),M(t.y),M(t.x+t.width),M(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");ie({data:n,additionalKeyValues:e,objectId:t.objectNumber}),tt("endobj")},ue=function(t,e){e||(e=21);var n=Yt(),r=function(t,e){var n,r=[],i=1/(e-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=t[0].offset){var a={offset:0,color:t[0].color};t.unshift(a)}if(1!=t[t.length-1].offset){var o={offset:1,color:t[t.length-1].color};t.push(o)}for(var s="",l=0,u=0;u<r.length;u++){for(n=r[u];n>t[l+1].offset;)l++;var c=t[l].offset,h=(n-c)/(t[l+1].offset-c),f=t[l].color,A=t[l+1].color;s+=Z(Math.round((1-h)*f[0]+h*A[0]).toString(16))+Z(Math.round((1-h)*f[1]+h*A[1]).toString(16))+Z(Math.round((1-h)*f[2]+h*A[2]).toString(16))}return s.trim()}(t.colors,e),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+e+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),tt("endobj"),t.objectNumber=Yt(),tt("<< /ShadingType "+t.type),tt("/ColorSpace /DeviceRGB");var a="/Coords ["+M(parseFloat(t.coords[0]))+" "+M(parseFloat(t.coords[1]))+" ";2===t.type?a+=M(parseFloat(t.coords[2]))+" "+M(parseFloat(t.coords[3])):a+=M(parseFloat(t.coords[2]))+" "+M(parseFloat(t.coords[3]))+" "+M(parseFloat(t.coords[4]))+" "+M(parseFloat(t.coords[5])),tt(a+="]"),t.matrix&&tt("/Matrix ["+t.matrix.toString()+"]"),tt("/Function "+n+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},ce=function(t,e){var n=Qt(),r=Yt();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+t.boundingBox.map(M).join(" ")+"]"}),i.push({key:"XStep",value:M(t.xStep)}),i.push({key:"YStep",value:M(t.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),t.matrix&&i.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),ie({data:t.stream,additionalKeyValues:i,objectId:t.objectNumber}),tt("endobj")},he=function(t){for(var e in t.objectNumber=Yt(),tt("<<"),t)switch(e){case"opacity":tt("/ca "+P(t[e]));break;case"stroke-opacity":tt("/CA "+P(t[e]))}tt(">>"),tt("endobj")},fe=function(t){Kt(t.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in tt("/Font <<"),xt)xt.hasOwnProperty(t)&&(!1===f||!0===f&&A.hasOwnProperty(t))&&tt("/"+t+" "+xt[t].objectNumber+" 0 R");tt(">>")}(),function(){if(Object.keys(Rt).length>0){for(var t in tt("/Shading <<"),Rt)Rt.hasOwnProperty(t)&&Rt[t]instanceof Pt&&Rt[t].objectNumber>=0&&tt("/"+t+" "+Rt[t].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),tt(">>")}}(),function(t){if(Object.keys(Rt).length>0){for(var e in tt("/Pattern <<"),Rt)Rt.hasOwnProperty(e)&&Rt[e]instanceof d.TilingPattern&&Rt[e].objectNumber>=0&&Rt[e].objectNumber<t&&tt("/"+e+" "+Rt[e].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),tt(">>")}}(t.objectOid),function(){if(Object.keys(Ot).length>0){var t;for(t in tt("/ExtGState <<"),Ot)Ot.hasOwnProperty(t)&&Ot[t].objectNumber>=0&&tt("/"+t+" "+Ot[t].objectNumber+" 0 R");Ft.publish("putGStateDict"),tt(">>")}}(),function(){for(var t in tt("/XObject <<"),zt)zt.hasOwnProperty(t)&&zt[t].objectNumber>=0&&tt("/"+t+" "+zt[t].objectNumber+" 0 R");Ft.publish("putXobjectDict"),tt(">>")}(),tt(">>"),tt("endobj")},Ae=function(){var t=[];(function(){for(var t in xt)xt.hasOwnProperty(t)&&(!1===f||!0===f&&A.hasOwnProperty(t))&&se(xt[t])})(),function(){var t;for(t in Ot)Ot.hasOwnProperty(t)&&he(Ot[t])}(),function(){for(var t in zt)zt.hasOwnProperty(t)&&le(zt[t])}(),function(t){var e;for(e in Rt)Rt.hasOwnProperty(e)&&(Rt[e]instanceof Pt?ue(Rt[e]):Rt[e]instanceof kt&&ce(Rt[e],t))}(t),Ft.publish("putResources"),t.forEach(fe),fe({resourcesOid:te,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},de=function(t){Tt[t.fontName]=Tt[t.fontName]||{},Tt[t.fontName][t.fontStyle]=t.id},pe=function(t,e,n,r,i){var a={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Ft.publish("addFont",{font:a,instance:this}),xt[a.id]=a,de(a),a.id},me=d.__private__.pdfEscape=d.pdfEscape=function(t,e){return function(t,e){var n,r,i,a,o,s,l,u,c;if(i=(e=e||{}).sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&xt[vt].metadata&&xt[vt].metadata[i]&&xt[vt].metadata[i].encoding&&(a=xt[vt].metadata[i].encoding,!o&&xt[vt].encoding&&(o=xt[vt].encoding),!o&&a.codePages&&(o=a.codePages[0]),"string"==typeof o&&(o=a[o]),o)){for(l=!1,s=[],n=0,r=t.length;n<r;n++)(u=o[t.charCodeAt(n)])?s.push(String.fromCharCode(u)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((c=(u=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(c),s.push(u-(c<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ve=d.__private__.beginPage=function(t){X[++Bt]=[],qt[Bt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},be(Bt),J(X[U])},ge=function(t,e){var r,i,o;switch(n=e||n,"string"==typeof t&&(r=g(t.toLowerCase()),Array.isArray(r)&&(i=r[0],o=r[1])),Array.isArray(t)&&(i=t[0]*gt,o=t[1]*gt),isNaN(i)&&(i=a[0],o=a[1]),(i>14400||o>14400)&&($.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),o=Math.min(14400,o)),a=[i,o],n.substr(0,1)){case"l":o>i&&(a=[o,i]);break;case"p":i>o&&(a=[o,i])}ve(a),Je(Qe),tt(sn),0!==An&&tt(An+" J"),0!==dn&&tt(dn+" j"),Ft.publish("addPage",{pageNumber:Bt})},ye=function(t){t>0&&t<=Bt&&(X.splice(t,1),qt.splice(t,1),Bt--,U>Bt&&(U=Bt),this.setPage(U))},be=function(t){t>0&&t<=Bt&&(U=t)},_e=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return X.length-1},xe=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:xt[vt].fontName,e=void 0!==e?e:xt[vt].fontStyle,r=t.toLowerCase(),void 0!==Tt[r]&&void 0!==Tt[r][e]?i=Tt[r][e]:void 0!==Tt[t]&&void 0!==Tt[t][e]?i=Tt[t][e]:!1===n.disableWarning&&$.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=Tt.times[e])&&(i=Tt.times.normal),i},we=d.__private__.putInfo=function(){var t=Yt(),e=function(t){return t};for(var n in null!==h&&(e=Re.encryptor(t,0)),tt("<<"),tt("/Producer ("+me(e("jsPDF "+Lt.version))+")"),mt)mt.hasOwnProperty(n)&&mt[n]&&tt("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+me(e(mt[n]))+")");tt("/CreationDate ("+me(e(R))+")"),tt(">>"),tt("endobj")},Se=d.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||$t;switch(Yt(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+e+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+lt;"%"===n.substr(n.length-1)&&(lt=parseInt(lt)/100),"number"==typeof lt&&tt("/OpenAction [3 0 R /XYZ null null "+P(lt)+"]")}switch(At||(At="continuous"),At){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}ht&&tt("/PageMode /"+ht),Ft.publish("putCatalog"),tt(">>"),tt("endobj")},Me=d.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(j+1)),tt("/Root "+j+" 0 R"),tt("/Info "+(j-1)+" 0 R"),null!==h&&tt("/Encrypt "+Re.oid+" 0 R"),tt("/ID [ <"+N+"> <"+N+"> ]"),tt(">>")},Ee=d.__private__.putHeader=function(){tt("%PDF-"+p),tt("%\xba\xdf\xac\xe0")},Te=d.__private__.putXRef=function(){var t="0000000000";tt("xref"),tt("0 "+(j+1)),tt("0000000000 65535 f ");for(var e=1;e<=j;e++)"function"==typeof H[e]?tt((t+H[e]()).slice(-10)+" 00000 n "):void 0!==H[e]?tt((t+H[e]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},Pe=d.__private__.buildDocument=function(){j=0,V=0,G=[],H=[],W=[],$t=Qt(),te=Qt(),J(G),Ft.publish("buildDocument"),Ee(),oe(),function(){Ft.publish("putAdditionalObjects");for(var t=0;t<W.length;t++){var e=W[t];Kt(e.objId,!0),tt(e.content),tt("endobj")}Ft.publish("postPutAdditionalObjects")}(),Ae(),null!==h&&(Re.oid=Yt(),tt("<<"),tt("/Filter /Standard"),tt("/V "+Re.v),tt("/R "+Re.r),tt("/U <"+Re.toHexString(Re.U)+">"),tt("/O <"+Re.toHexString(Re.O)+">"),tt("/P "+Re.P),tt(">>"),tt("endobj")),we(),Se();var t=V;return Te(),Me(),tt("startxref"),tt(""+t),tt("%%EOF"),J(X[U]),G.join("\n")},ke=d.__private__.getBlob=function(t){return new Blob([nt(t)],{type:"application/pdf"})},Le=d.output=d.__private__.output=(Xt=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return Pe();case"save":d.save(e.filename);break;case"arraybuffer":return nt(Pe());case"blob":return ke(Pe());case"bloburi":case"bloburl":if(void 0!==K.URL&&"function"==typeof K.URL.createObjectURL)return K.URL&&K.URL.createObjectURL(ke(Pe()))||void 0;$.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Pe();try{n=it(r)}catch(t){n=it(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(K)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(i=e.pdfObjectUrl,a="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",s=K.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(K)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',u=K.open();if(null!==u){u.document.write(l);var c=this;u.document.documentElement.querySelector("#pdfViewer").onload=function(){u.document.title=e.filename,u.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return u}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(K))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',f=K.open();if(null!==f&&(f.document.write(h),f.document.title=e.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return K.document.location.href=this.output("datauristring",e);default:return null}},Xt.foo=function(){try{return Xt.apply(this,arguments)}catch(Xt){var t=Xt.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+Xt.message;if(!K.console)throw new Error(e);K.console.error(e,Xt),K.alert&&alert(e)}},Xt.foo.bar=Xt,Xt.foo),Ce=function(t){return!0===Array.isArray(Ut)&&Ut.indexOf(t)>-1};switch(i){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=1==Ce("px_scaling")?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);gt=i}var Re=null;q(),I();var Ne=d.__private__.getPageInfo=d.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[t].objId,pageNumber:t,pageContext:qt[t]}},Oe=d.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in qt)if(qt[e].objId===t)break;return Ne(e)},Ie=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:qt[U].objId,pageNumber:U,pageContext:qt[U]}};d.addPage=function(){return ge.apply(this,arguments),this},d.setPage=function(){return be.apply(this,arguments),J.call(this,X[U]),this},d.insertPage=function(t){return this.addPage(),this.movePage(U,t),this},d.movePage=function(t,e){var n,r;if(t>e){n=X[t],r=qt[t];for(var i=t;i>e;i--)X[i]=X[i-1],qt[i]=qt[i-1];X[e]=n,qt[e]=r,this.setPage(e)}else if(t<e){n=X[t],r=qt[t];for(var a=t;a<e;a++)X[a]=X[a+1],qt[a]=qt[a+1];X[e]=n,qt[e]=r,this.setPage(e)}return this},d.deletePage=function(){return ye.apply(this,arguments),this},d.__private__.text=d.text=function(t,e,n,i,a){var o,s,l,u,c,h,f,d,p,m=(i=i||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var v=n;n=e,e=t,t=v}if(arguments[3]instanceof Ht==0?(l=arguments[4],u=arguments[5],"object"===(0,r.Z)(f=arguments[3])&&null!==f||("string"==typeof l&&(u=l,l=null),"string"==typeof f&&(u=f,f=null),"number"==typeof f&&(l=f,f=null),i={flags:f,angle:l,align:u})):(E("The transform parameter of text() with a Matrix value"),p=a),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return m;var g,y="",x="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Ye,w=m.internal.scaleFactor;function S(t){return t=t.split("\t").join(Array(i.TabLen||9).join(" ")),me(t,f)}function T(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function P(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,a=t.concat(),o=[],s=a.length;s--;)"string"==typeof(r=a.shift())?o.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=e(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var k=!1,C=!0;if("string"==typeof t)k=!0;else if(Array.isArray(t)){var R=t.concat();s=[];for(var N,O=R.length;O--;)("string"!=typeof(N=R.shift())||Array.isArray(N)&&"string"!=typeof N[0])&&(C=!1);k=C}if(!1===k)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var I=st/m.internal.scaleFactor,D=I*(x-1);switch(i.baseline){case"bottom":n-=D;break;case"top":n+=I-D;break;case"hanging":n+=I-2*D;break;case"middle":n+=I/2-D}if((h=i.maxWidth||0)>0&&("string"==typeof t?t=m.splitTextToSize(t,h):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce((function(t,e){return t.concat(m.splitTextToSize(e,h))}),[]))),o={text:t,x:e,y:n,options:i,mutex:{pdfEscape:me,activeFontKey:vt,fonts:xt,activeFontSize:st}},Ft.publish("preProcessText",o),t=o.text,l=(i=o.options).angle,p instanceof Ht==0&&l&&"number"==typeof l){l*=Math.PI/180,0===i.rotationDirection&&(l=-l),_===b&&(l=-l);var B=Math.cos(l),q=Math.sin(l);p=new Ht(B,q,-q,B,0,0)}else l&&l instanceof Ht&&(p=l);_!==b||p||(p=Vt),void 0!==(c=i.charSpace||hn)&&(y+=M(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d=i.horizontalScale)&&(y+=M(100*d)+" Tz\n"),i.lang;var F=-1,U=void 0!==i.renderingMode?i.renderingMode:i.stroke,z=m.internal.getCurrentPageInfo().pageContext;switch(U){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var Z=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==F?y+=F+" Tr\n":-1!==Z&&(y+="0 Tr\n"),-1!==F&&(z.usedRenderingMode=F),u=i.align||"left";var j,H=st*x,G=m.internal.pageSize.getWidth(),V=xt[vt];c=i.charSpace||hn,h=i.maxWidth||0,f=Object.assign({autoencode:!0,noBOM:!0},i.flags);var W=[];if("[object Array]"===Object.prototype.toString.call(t)){var X;s=T(t),"left"!==u&&(j=s.map((function(t){return m.getStringUnitWidth(t,{font:V,charSpace:c,fontSize:st,doKerning:!1})*st/w})));var Y,Q=0;if("right"===u){e-=j[0],t=[],O=s.length;for(var K=0;K<O;K++)0===K?(Y=nn(e),X=rn(n)):(Y=L(Q-j[K]),X=-H),t.push([s[K],Y,X]),Q=j[K]}else if("center"===u){e-=j[0]/2,t=[],O=s.length;for(var J=0;J<O;J++)0===J?(Y=nn(e),X=rn(n)):(Y=L((Q-j[J])/2),X=-H),t.push([s[J],Y,X]),Q=j[J]}else if("left"===u){t=[],O=s.length;for(var $=0;$<O;$++)t.push(s[$])}else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[],O=s.length,h=0!==h?h:G;for(var et=0;et<O;et++)X=0===et?rn(n):-H,Y=0===et?nn(e):0,et<O-1?W.push(M(L((h-j[et])/(s[et].split(" ").length-1)))):W.push(0),t.push([s[et],Y,X])}}!0===("boolean"==typeof i.R2L?i.R2L:ct)&&(t=P(t,(function(t,e,n){return[t.split("").reverse().join(""),e,n]}))),o={text:t,x:e,y:n,options:i,mutex:{pdfEscape:me,activeFontKey:vt,fonts:xt,activeFontSize:st}},Ft.publish("postProcessText",o),t=o.text,g=o.mutex.isHex||!1;var nt=xt[vt].encoding;"WinAnsiEncoding"!==nt&&"StandardEncoding"!==nt||(t=P(t,(function(t,e,n){return[S(t),e,n]}))),s=T(t),t=[];for(var rt,it,at,ot=Array.isArray(s[0])?1:0,lt="",ut=function(t,e,n){var r="";return n instanceof Ht?(n="number"==typeof i.angle?Gt(n,new Ht(1,0,0,1,t,e)):Gt(new Ht(1,0,0,1,t,e),n),_===b&&(n=Gt(new Ht(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=M(t)+" "+M(e)+" Td\n",r},ht=0;ht<s.length;ht++){switch(lt="",ot){case 1:at=(g?"<":"(")+s[ht][0]+(g?">":")"),rt=parseFloat(s[ht][1]),it=parseFloat(s[ht][2]);break;case 0:at=(g?"<":"(")+s[ht]+(g?">":")"),rt=nn(e),it=rn(n)}void 0!==W&&void 0!==W[ht]&&(lt=W[ht]+" Tw\n"),0===ht?t.push(lt+ut(rt,it,p)+at):0===ot?t.push(lt+at):1===ot&&t.push(lt+ut(rt,it,p)+at)}t=0===ot?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var ft="BT\n/";return ft+=vt+" "+st+" Tf\n",ft+=M(st*x)+" TL\n",ft+=un+"\n",ft+=y,ft+=t,tt(ft+="ET"),A[vt]=!0,m};var De=d.__private__.clip=d.clip=function(t){return tt("evenodd"===t?"W*":"W"),this};d.clipEvenOdd=function(){return De("evenodd")},d.__private__.discardPath=d.discardPath=function(){return tt("n"),this};var Be=d.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(t){return Be(t)&&(c=t),this};var qe=d.__private__.getStyle=d.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Fe=d.close=function(){return tt("h"),this};d.stroke=function(){return tt("S"),this},d.fill=function(t){return Ue("f",t),this},d.fillEvenOdd=function(t){return Ue("f*",t),this},d.fillStroke=function(t){return Ue("B",t),this},d.fillStrokeEvenOdd=function(t){return Ue("B*",t),this};var Ue=function(t,e){"object"===(0,r.Z)(e)?je(e,t):tt(t)},ze=function(t){null===t||_===b&&void 0===t||(t=qe(t),tt(t))};function Ze(t,e,n,r,i){var a=new kt(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var o=t+"$$"+this.cloneIndex+++"$$";return Wt(o,a),a}var je=function(t,e){var n=Nt[t.key],r=Rt[n];if(r instanceof Pt)tt("q"),tt(He(e)),r.gState&&d.setGState(r.gState),tt(t.matrix.toString()+" cm"),tt("/"+n+" sh"),tt("Q");else if(r instanceof kt){var i=new Ht(1,0,0,-1,0,wn());t.matrix&&(i=i.multiply(t.matrix||Vt),n=Ze.call(r,t.key,t.boundingBox,t.xStep,t.yStep,i).id),tt("q"),tt("/Pattern cs"),tt("/"+n+" scn"),r.gState&&d.setGState(r.gState),tt(e),tt("Q")}},He=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ge=d.moveTo=function(t,e){return tt(M(L(t))+" "+M(C(e))+" m"),this},Ve=d.lineTo=function(t,e){return tt(M(L(t))+" "+M(C(e))+" l"),this},We=d.curveTo=function(t,e,n,r,i,a){return tt([M(L(t)),M(C(e)),M(L(n)),M(C(r)),M(L(i)),M(C(a)),"c"].join(" ")),this};d.__private__.line=d.line=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Be(i))throw new Error("Invalid arguments passed to jsPDF.line");return _===y?this.lines([[n-t,r-e]],t,e,[1,1],i||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},d.__private__.lines=d.lines=function(t,e,n,r,i,a){var o,s,l,u,c,h,f,A,d,p,m,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),r=r||[1,1],a=a||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Be(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ge(e,n),o=r[0],s=r[1],u=t.length,p=e,m=n,l=0;l<u;l++)2===(c=t[l]).length?(p=c[0]*o+p,m=c[1]*s+m,Ve(p,m)):(h=c[0]*o+p,f=c[1]*s+m,A=c[2]*o+p,d=c[3]*s+m,p=c[4]*o+p,m=c[5]*s+m,We(h,f,A,d,p,m));return a&&Fe(),ze(i),this},d.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Ge(r[0],r[1]);break;case"l":Ve(r[0],r[1]);break;case"c":We.apply(this,r);break;case"h":Fe()}}return this},d.__private__.rect=d.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Be(i))throw new Error("Invalid arguments passed to jsPDF.rect");return _===y&&(r=-r),tt([M(L(t)),M(C(e)),M(L(n)),M(L(r)),"re"].join(" ")),ze(i),this},d.__private__.triangle=d.triangle=function(t,e,n,r,i,a,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Be(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,a-r],[t-i,e-a]],t,e,[1,1],o,!0),this},d.__private__.roundedRect=d.roundedRect=function(t,e,n,r,i,a,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a)||!Be(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*i,0],[i*s,0,i,a-a*s,i,a],[0,r-2*a],[0,a*s,-i*s,a,-i,a],[2*i-n,0],[-i*s,0,-i,-a*s,-i,-a],[0,2*a-r],[0,-a*s,i*s,-a,i,-a]],t+i,e,[1,1],o,!0),this},d.__private__.ellipse=d.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Be(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Ge(t+n,e),We(t+n,e-o,t+a,e-r,t,e-r),We(t-a,e-r,t-n,e-o,t-n,e),We(t-n,e+o,t-a,e+r,t,e+r),We(t+a,e+r,t+n,e+o,t+n,e),ze(i),this},d.__private__.circle=d.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Be(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},d.setFont=function(t,e,n){return n&&(e=S(e,n)),vt=xe(t,e,{disableWarning:!1}),this};var Xe=d.__private__.getFont=d.getFont=function(){return xt[xe.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var t,e,n={};for(t in Tt)if(Tt.hasOwnProperty(t))for(e in n[t]=[],Tt[t])Tt[t].hasOwnProperty(e)&&n[t].push(e);return n},d.addFont=function(t,e,n,r,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=S(n,r)),pe.call(this,t,e,n,i=i||"Identity-H")};var Ye,Qe=t.lineWidth||.200025,Ke=d.__private__.getLineWidth=d.getLineWidth=function(){return Qe},Je=d.__private__.setLineWidth=d.setLineWidth=function(t){return Qe=t,tt(M(L(t))+" w"),this};d.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map((function(t){return M(L(t))})).join(" "),e=M(L(e)),tt("["+t+"] "+e+" d"),this};var $e=d.__private__.getLineHeight=d.getLineHeight=function(){return st*Ye};d.__private__.getLineHeight=d.getLineHeight=function(){return st*Ye};var tn=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Ye=t),this},en=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ye};tn(t.lineHeight);var nn=d.__private__.getHorizontalCoordinate=function(t){return L(t)},rn=d.__private__.getVerticalCoordinate=function(t){return _===b?t:qt[U].mediaBox.topRightY-qt[U].mediaBox.bottomLeftY-L(t)},an=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(t){return M(nn(t))},on=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(t){return M(rn(t))},sn=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ee(sn)},d.__private__.setStrokeColor=d.setDrawColor=function(t,e,n,r){return sn=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),tt(sn),this};var ln=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ee(ln)},d.__private__.setFillColor=d.setFillColor=function(t,e,n,r){return ln=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),tt(ln),this};var un=t.textColor||"0 g",cn=d.__private__.getTextColor=d.getTextColor=function(){return ee(un)};d.__private__.setTextColor=d.setTextColor=function(t,e,n,r){return un=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var hn=t.charSpace,fn=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(hn||0)};d.__private__.setCharSpace=d.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hn=t,this};var An=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return An=e,tt(e+" J"),this};var dn=0;d.__private__.setLineJoin=d.setLineJoin=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dn=e,tt(e+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(M(L(t))+" M"),this},d.GState=Et,d.setGState=function(t){(t="string"==typeof t?Ot[It[t]]:pn(null,t)).equals(Dt)||(tt("/"+t.id+" gs"),Dt=t)};var pn=function(t,e){if(!t||!It[t]){var n=!1;for(var r in Ot)if(Ot.hasOwnProperty(r)&&Ot[r].equals(e)){n=!0;break}if(n)e=Ot[r];else{var i="GS"+(Object.keys(Ot).length+1).toString(10);Ot[i]=e,e.id=i}return t&&(It[t]=e.id),Ft.publish("addGState",e),e}};d.addGState=function(t,e){return pn(t,e),this},d.saveGraphicsState=function(){return tt("q"),Ct.push({key:vt,size:st,color:un}),this},d.restoreGraphicsState=function(){tt("Q");var t=Ct.pop();return vt=t.key,st=t.size,un=t.color,Dt=null,this},d.setCurrentTransformationMatrix=function(t){return tt(t.toString()+" cm"),this},d.comment=function(t){return tt("#"+t),this};var mn=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},vn=function(t,e,n,r){mn.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(t){isNaN(t)||(a=parseFloat(t))}}),this},gn=function(){this.page=Bt,this.currentPage=U,this.pages=X.slice(0),this.pagesContext=qt.slice(0),this.x=yt,this.y=bt,this.matrix=_t,this.width=_n(U),this.height=wn(U),this.outputDestination=Q,this.id="",this.objectNumber=-1};gn.prototype.restore=function(){Bt=this.page,U=this.currentPage,qt=this.pagesContext,X=this.pages,yt=this.x,bt=this.y,_t=this.matrix,xn(U,this.width),Sn(U,this.height),Q=this.outputDestination};var yn=function(t,e,n,r,i){jt.push(new gn),Bt=U=0,X=[],yt=t,bt=e,_t=i,ve([n,r])};for(var bn in d.beginFormObject=function(t,e,n,r,i){return yn(t,e,n,r,i),this},d.endFormObject=function(t){return function(t){if(Zt[t])jt.pop().restore();else{var e=new gn,n="Xo"+(Object.keys(zt).length+1).toString(10);e.id=n,Zt[t]=n,zt[n]=e,Ft.publish("addFormObject",e),jt.pop().restore()}}(t),this},d.doFormObject=function(t,e){var n=zt[Zt[t]];return tt("q"),tt(e.toString()+" cm"),tt("/"+n.id+" Do"),tt("Q"),this},d.getFormObject=function(t){var e=zt[Zt[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},d.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(at(ke(Pe()),t),"function"==typeof at.unload&&K.setTimeout&&setTimeout(at.unload,911),this):new Promise((function(e,n){try{var r=at(ke(Pe()),t);"function"==typeof at.unload&&K.setTimeout&&setTimeout(at.unload,911),e(r)}catch(t){n(t.message)}}))},Lt.API)Lt.API.hasOwnProperty(bn)&&("events"===bn&&Lt.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(Ft,Lt.API.events):d[bn]=Lt.API[bn]);var _n=d.getPageWidth=function(t){return(qt[t=t||U].mediaBox.topRightX-qt[t].mediaBox.bottomLeftX)/gt},xn=d.setPageWidth=function(t,e){qt[t].mediaBox.topRightX=e*gt+qt[t].mediaBox.bottomLeftX},wn=d.getPageHeight=function(t){return(qt[t=t||U].mediaBox.topRightY-qt[t].mediaBox.bottomLeftY)/gt},Sn=d.setPageHeight=function(t,e){qt[t].mediaBox.topRightY=e*gt+qt[t].mediaBox.bottomLeftY};return d.internal={pdfEscape:me,getStyle:qe,getFont:Xe,getFontSize:ut,getCharSpace:fn,getTextColor:cn,getLineHeight:$e,getLineHeightFactor:en,getLineWidth:Ke,write:et,getHorizontalCoordinate:nn,getVerticalCoordinate:rn,getCoordinateString:an,getVerticalCoordinateString:on,collections:{},newObject:Yt,newAdditionalObject:Jt,newObjectDeferred:Qt,newObjectDeferredBegin:Kt,getFilters:re,putStream:ie,events:Ft,scaleFactor:gt,pageSize:{getWidth:function(){return _n(U)},setWidth:function(t){xn(U,t)},getHeight:function(){return wn(U)},setHeight:function(t){Sn(U,t)}},encryptionOptions:h,encryption:Re,getEncryptor:function(t){return null!==h?Re.encryptor(t,0):function(t){return t}},output:Le,getNumberOfPages:_e,pages:X,out:tt,f2:P,f3:k,getPageInfo:Ne,getPageInfoByObjId:Oe,getCurrentPageInfo:Ie,getPDFVersion:m,Point:mn,Rectangle:vn,Matrix:Ht,hasHotfix:Ce},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return _n(U)},set:function(t){xn(U,t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return wn(U)},set:function(t){Sn(U,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=rt.length;e<n;e++){var r=pe.call(this,t[e][0],t[e][1],t[e][2],rt[e][3],!0);!1===f&&(A[r]=!0);var i=t[e][0].split("-");de({id:r,fontName:i[0],fontStyle:i[1]||""})}Ft.publish("addFonts",{fonts:xt,dictionary:Tt})}.call(d,rt),vt="F1",ge(a,n),Ft.publish("initialized"),d}wt.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},wt.prototype.toHexString=function(t){return t.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},wt.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},wt.prototype.processOwnerPassword=function(t,e){return _t(gt(e).substr(0,5),t)},wt.prototype.encryptor=function(t,e){var n=gt(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return _t(n,t)}},Et.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||(0,r.Z)(t)!==(0,r.Z)(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return 0===i},Lt.API={events:[]},Lt.version="2.5.1";var Ct=Lt.API,Rt=1,Nt=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ot=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},It=function(t){return t.toFixed(2)},Dt=function(t){return t.toFixed(5)};Ct.__acroform__={};var Bt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qt=function(t){return t*Rt},Ft=function(t){var e=new ne,n=me.internal.getHeight(t)||0,r=me.internal.getWidth(t)||0;return e.BBox=[0,0,Number(It(r)),Number(It(n))],e},Ut=Ct.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},zt=Ct.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Zt=Ct.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},jt=Ct.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Zt(t,e-1)},Ht=Ct.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ut(t,e-1)},Gt=Ct.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zt(t,e-1)},Vt=Ct.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(It(l.lowerLeft_X)),Number(It(l.lowerLeft_Y)),Number(It(l.upperRight_X)),Number(It(l.upperRight_Y))]},Wt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Xt(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+It(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ft(t);return a.scope=t.scope,a.stream=e.join("\n"),a}},Xt=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map((function(t){return t.split("\n")})):i.map((function(t){return[t]}));var a=n,o=me.internal.getHeight(t)||0;o=o<0?-o:o;var s=me.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(e,n,r){if(e+1<i.length){var a=n+" "+i[e+1][0];return Yt(a,t,r).width<=s-4}return!1};a++;t:for(;a>0;){e="",a--;var u,c,h=Yt("3",t,a).height,f=t.multiline?o-a:(o-h)/2,A=f+=2,d=0,p=0,m=0;if(a<=0){e="(...) Tj\n",e+="% Width of Text: "+Yt(e,t,a=12).width+", FieldWidth:"+s+"\n";break}for(var v="",g=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(1!==i[y].length&&m!==i[y].length-1){if((h+2)*(g+2)+2>o)continue t;v+=i[y][m],b=!0,p=y,y--}else{v=" "==(v+=i[y][m]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var _=parseInt(y),x=l(_,v,a),w=y>=i.length-1;if(x&&!w){v+=" ",m=0;continue}if(x||w){if(w)p=_;else if(t.multiline&&(h+2)*(g+2)+2>o)continue t}else{if(!t.multiline)continue t;if((h+2)*(g+2)+2>o)continue t;p=_}}for(var S="",M=d;M<=p;M++){var E=i[M];if(t.multiline){if(M===p){S+=E[m]+" ",m=(m+1)%E.length;continue}if(M===d){S+=E[E.length-1]+" ";continue}}S+=E[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,c=Yt(S,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;default:u=2}e+=It(u)+" "+It(A)+" Td\n",e+="("+Nt(S)+") Tj\n",e+=-It(u)+" 0 Td\n",A=-(a+2),c=0,d=b?p:p+1,g++,v=""}break}return r.text=e,r.fontSize=a,r},Yt=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Qt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kt=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find((function(t){return t.type===n.type&&t.object===n.object}))&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Jt=function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(ie.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rt=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new re,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})),t.internal.events.subscribe("buildDocument",(function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&Kt(r,t)}}(t)})),t.internal.events.subscribe("putCatalog",(function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)})),t.internal.events.subscribe("postPutPages",(function(e){!function(t,e){var n=!t;for(var i in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(i)){var a=t[i],o=[],s=a.Rect;if(a.Rect&&(a.Rect=Vt(a.Rect,e)),e.internal.newObjectDeferredBegin(a.objId,!0),a.DA=me.createDefaultAppearanceStream(a),"object"===(0,r.Z)(a)&&"function"==typeof a.getKeyValueListForStream&&(o=a.getKeyValueListForStream()),a.Rect=s,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=Wt(a);o.push({key:"AP",value:"<</N "+l+">>"}),e.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var u="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var h=a.appearanceStreamContent[c];if(u+="/"+c+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var f=h[i];"function"==typeof f&&(f=f.call(e,a)),u+="/"+i+" "+f+" ",e.internal.acroformPlugin.xForms.indexOf(f)>=0||e.internal.acroformPlugin.xForms.push(f)}}else"function"==typeof(f=h)&&(f=f.call(e,a)),u+="/"+i+" "+f,e.internal.acroformPlugin.xForms.indexOf(f)>=0||e.internal.acroformPlugin.xForms.push(f);u+=">>"}o.push({key:"AP",value:"<<\n"+u+">>"})}e.internal.putStream({additionalKeyValues:o,objectId:a.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,a=t[n];e.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,r.Z)(a)&&"function"==typeof a.putStream&&a.putStream(),delete t[i]}}(e.internal.acroformPlugin.xForms,e)}(e,t)})),t.internal.acroformPlugin.isInitialized=!0}},$t=Ct.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(t){return t};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(0!==o&&(a+=" "),(0,r.Z)(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":"/"!==t[o].substr(0,1)?(void 0!==e&&n&&(i=n.internal.getEncryptor(e)),a+="("+Nt(i(t[o].toString()))+")"):a+=t[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},te=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Nt(r(t))+")"},ee=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ee.prototype.toString=function(){return this.objId+" 0 R"},ee.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ee.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)}));for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:$t(i,this.objId,this.scope)}):i instanceof ee?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var ne=function(){ee.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};Bt(ne,ee);var re=function(){ee.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Nt(e(t))+")"}},set:function(e){t=e}})};Bt(re,ee);var ie=function t(){ee.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(e,3))},set:function(t){!0===Boolean(t)?this.F=Ht(e,3):this.F=Gt(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof fe)return;a="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Nt(e(a))+")"},set:function(t){a=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(t){a=t}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/Rt:u},set:function(t){u=t}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){c=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof fe||this instanceof de))return te(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ue==0?te(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof ue==0?"("===t.substr(0,1)?Ot(t.substr(1,t.length-2)):Ot(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ue==1?Ot(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof ue==1?"/"+t:t}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ue==0?te(A,this.objId,this.scope):A},set:function(t){t=t.toString(),A=this instanceof ue==0?"("===t.substr(0,1)?Ot(t.substr(1,t.length-2)):Ot(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ue==1?Ot(A.substr(1,A.length-1)):A},set:function(t){t=t.toString(),A=this instanceof ue==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){t=Boolean(t),p=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(t){d=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,1):this.Ff=Gt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,2):this.Ff=Gt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,3):this.Ff=Gt(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Bt(ie,ee);var ae=function(){ie.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $t(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,18):this.Ff=Gt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=Ht(this.Ff,19):this.Ff=Gt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Ht(this.Ff,20),e.sort()):this.Ff=Gt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,22):this.Ff=Gt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,23):this.Ff=Gt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,27):this.Ff=Gt(this.Ff,27)}}),this.hasAppearanceStream=!1};Bt(ae,ie);var oe=function(){ae.call(this),this.fontName="helvetica",this.combo=!1};Bt(oe,ae);var se=function(){oe.call(this),this.combo=!0};Bt(se,oe);var le=function(){se.call(this),this.edit=!0};Bt(le,se);var ue=function(){ie.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,15):this.Ff=Gt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,16):this.Ff=Gt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,17):this.Ff=Gt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,26):this.Ff=Gt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Nt(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===(0,r.Z)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};Bt(ue,ie);var ce=function(){ue.call(this),this.pushButton=!0};Bt(ce,ue);var he=function(){ue.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};Bt(he,ue);var fe=function(){var t,e;ie.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),i)n.push("/"+e+" ("+Nt(t(i[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===(0,r.Z)(t)&&(i=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bt(fe,ie),he.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},he.prototype.createOption=function(t){var e=new fe;return e.Parent=this,e.optionName=t,this.Kids.push(e),ve.call(this.scope,e),e};var Ae=function(){ue.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=me.CheckBox.createAppearanceStream()};Bt(Ae,ue);var de=function(){ie.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,13):this.Ff=Gt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,21):this.Ff=Gt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,23):this.Ff=Gt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,24):this.Ff=Gt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,25):this.Ff=Gt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,26):this.Ff=Gt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bt(de,ie);var pe=function(){de.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(jt(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=Ht(this.Ff,14):this.Ff=Gt(this.Ff,14)}}),this.password=!0};Bt(pe,de);var me={CheckBox:{createAppearanceStream:function(){return{N:{On:me.CheckBox.YesNormal},D:{On:me.CheckBox.YesPushDown,Off:me.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Xt(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+It(me.internal.getWidth(t))+" "+It(me.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+It(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=Ft(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=me.internal.getHeight(t),o=me.internal.getWidth(t),s=Xt(t,t.caption);return i.push("1 g"),i.push("0 0 "+It(o)+" "+It(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+It(o-1)+" "+It(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+It(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(me.internal.getWidth(t))+" "+It(me.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:me.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=me.RadioButton.Circle.YesNormal,e.D[t]=me.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ft(t);e.scope=t.scope;var n=[],r=me.internal.getWidth(t)<=me.internal.getHeight(t)?me.internal.getWidth(t)/4:me.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=me.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Dt(me.internal.getWidth(t)/2)+" "+Dt(me.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=[],r=me.internal.getWidth(t)<=me.internal.getHeight(t)?me.internal.getWidth(t)/4:me.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*me.internal.Bezier_C).toFixed(5)),o=Number((r*me.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Dt(me.internal.getWidth(t)/2)+" "+Dt(me.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Dt(me.internal.getWidth(t)/2)+" "+Dt(me.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=[],r=me.internal.getWidth(t)<=me.internal.getHeight(t)?me.internal.getWidth(t)/4:me.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*me.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Dt(me.internal.getWidth(t)/2)+" "+Dt(me.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:me.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=me.RadioButton.Cross.YesNormal,e.D[t]=me.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ft(t);e.scope=t.scope;var n=[],r=me.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+It(me.internal.getWidth(t)-2)+" "+It(me.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(It(r.x1.x)+" "+It(r.x1.y)+" m"),n.push(It(r.x2.x)+" "+It(r.x2.y)+" l"),n.push(It(r.x4.x)+" "+It(r.x4.y)+" m"),n.push(It(r.x3.x)+" "+It(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=me.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+It(me.internal.getWidth(t))+" "+It(me.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+It(me.internal.getWidth(t)-2)+" "+It(me.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(It(n.x1.x)+" "+It(n.x1.y)+" m"),r.push(It(n.x2.x)+" "+It(n.x2.y)+" l"),r.push(It(n.x4.x)+" "+It(n.x4.y)+" m"),r.push(It(n.x3.x)+" "+It(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=Ft(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(me.internal.getWidth(t))+" "+It(me.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};me.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=me.internal.getWidth(t),n=me.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},me.internal.getWidth=function(t){var e=0;return"object"===(0,r.Z)(t)&&(e=qt(t.Rect[2])),e},me.internal.getHeight=function(t){var e=0;return"object"===(0,r.Z)(t)&&(e=qt(t.Rect[3])),e};var ve=Ct.addField=function(t){if(Jt(this,t),!(t instanceof ie))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ct.AcroFormChoiceField=ae,Ct.AcroFormListBox=oe,Ct.AcroFormComboBox=se,Ct.AcroFormEditBox=le,Ct.AcroFormButton=ue,Ct.AcroFormPushButton=ce,Ct.AcroFormRadioButton=he,Ct.AcroFormCheckBox=Ae,Ct.AcroFormTextField=de,Ct.AcroFormPasswordField=pe,Ct.AcroFormAppearance=me,Ct.AcroForm={ChoiceField:ae,ListBox:oe,ComboBox:se,EditBox:le,Button:ue,PushButton:ce,RadioButton:he,CheckBox:Ae,TextField:de,PasswordField:pe,Appearance:me},Lt.AcroForm={ChoiceField:ae,ListBox:oe,ComboBox:se,EditBox:le,Button:ue,PushButton:ce,RadioButton:he,CheckBox:Ae,TextField:de,PasswordField:pe,Appearance:me};Lt.AcroForm;function ge(t){return t.reduce((function(t,e,n){return t[e]=n,t}),{})}!function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(t,r){var i,a,o,s,l,u=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(w(t))for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==t[a]){s=!1;break}if(!0===s){u=l;break}}else for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==t.charCodeAt(a)){s=!1;break}if(!0===s){u=l;break}}return u===e&&r!==e&&(u=r),u},a=function t(e){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.width}),a.push({key:"Height",value:e.height}),e.colorSpace===v.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===v.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var o="",s=0,l=e.transparency.length;s<l;s++)o+=e.transparency[s]+" "+e.transparency[s]+" ";a.push({key:"Mask",value:"["+o+"]"})}void 0!==e.sMask&&a.push({key:"SMask",value:e.objectId+1+" 0 R"});var u=void 0!==e.filter?["/"+e.filter]:void 0;if(r({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var c="/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,h={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:c,data:e.sMask};"filter"in e&&(h.filter=e.filter),t.call(this,h)}if(e.colorSpace===v.INDEXED){var f=this.internal.newObject();r({data:M(new Uint8Array(e.palette)),objectId:f}),n("endobj")}},o=function(){var t=this.internal.collections.addImage_images;for(var e in t)a.call(this,t[e])},s=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var t=this.internal.collections.addImage_images;return l.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},f=function(t){return"object"===(0,r.Z)(t)&&1===t.nodeType},A=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return rt(unescape(r).split("base64,").pop());var i=t.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return rt(e.toDataURL(a,1).split("base64,").pop())}},d=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},m=function(t,e,n,r,i,a){var o=p.call(this,n,r,i),s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=u.call(this);if(n=o[0],r=o[1],c[i.index]=i,a){a*=Math.PI/180;var h=Math.cos(a),f=Math.sin(a),A=function(t){return t.toFixed(4)},d=[A(h),A(f),A(-1*f),A(h),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,s(t),l(e+r),"cm"].join(" ")),this.internal.write(d.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(t),l(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(w(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},_=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},x=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return x()&&t instanceof ArrayBuffer};var w=t.__addimage__.isArrayBufferView=function(t){return x()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},M=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=w(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,i,a,o,s,u,c,h;if("number"==typeof arguments[1]?(n=e,i=arguments[1],a=arguments[2],o=arguments[3],s=arguments[4],u=arguments[5],c=arguments[6],h=arguments[7]):(n=arguments[1],i=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5],u=arguments[6],c=arguments[7],h=arguments[8]),"object"===(0,r.Z)(t=arguments[0])&&!f(t)&&"imageData"in t){var A=t;t=A.imageData,n=A.format||n||e,i=A.x||i||0,a=A.y||a||0,o=A.w||A.width||o,s=A.h||A.height||s,u=A.alias||u,c=A.compression||c,h=A.rotation||A.angle||h}var d=this.internal.getFilters();if(void 0===c&&-1!==d.indexOf("FlateEncode")&&(c="SLOW"),isNaN(i)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=E.call(this,t,n,u,c);return m.call(this,i,a,o,s,p,h),this};var E=function(n,r,a,o){var s,l,u;if("string"==typeof n&&i(n)===e){n=unescape(n);var p=T(n,!1);(""!==p||void 0!==(p=t.loadFile(n,!0)))&&(n=p)}if(f(n)&&(n=A(n,r)),r=i(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(u=a)||0===u.length)&&(a=function(t){return"string"==typeof t||w(t)?y(t):w(t.data)?y(t.data):null}(n)),(s=d.call(this,a))||(x()&&(n instanceof Uint8Array||"RGBA"===r||(l=n,n=S(n))),s=this["process"+r.toUpperCase()](n,c.call(this),a,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:g.NONE}(o),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},T=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,i="";if("string"==typeof t){r=null!==(n=_(t))?n.data:t;try{i=rt(r)}catch(t){if(e)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(n){var r,a,o="";if(f(n)&&(n=A(n)),"string"==typeof n&&i(n)===e&&(""===(o=T(n,!1))&&(o=t.loadFile(n)||""),n=o),a=i(n),!h(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(!x()||n instanceof Uint8Array||(n=S(n)),!(r=this["process"+a.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}(Lt.API),function(t){var e=function(t){if(void 0!==t&&""!=t)return!0};Lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(t){for(var n,r,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,u=!1,c=0;c<l.length&&!u;c++)switch((n=l[c]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(d.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+f(m(v))+") >>",d.content=i;var g=d.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+g,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(A(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var _=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,r,i){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(t),y:s(e),w:o(t+n),h:s(e+r)},options:i,type:"link"})},t.textWithLink=function(t,e,n,r){var i,a,o=this.getTextWidth(t),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var l=this.splitTextToSize(t,a).length;i=Math.ceil(s*l)}else a=o,i=s;return this.text(t,e,n,r),n+=.2*s,"center"===r.align&&(e-=o/2),"right"===r.align&&(e-=o),this.link(e,n-s,a,i,r),o},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(Lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},o=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return o(t)&&a(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return o(t)&&i.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return o(t)&&a(t)&&e[t.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return o(t)&&a(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return o(t)&&a(t)&&e[t.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return o(t)&&a(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i="",a=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(a++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i+=String.fromCharCode(r),r=n,a=0),e===t.length-1&&(r=n,i+=t.charAt(e-(a-1)),e-=a-1,a=0)):(r=n,i+=t.charAt(e-a),e-=a,a=0);return i};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var f=t.__arabicParser__.getCorrectForm=function(t,e,n){return o(t)?!1===a(t)?-1:!u(t)||!o(e)&&!o(n)||!o(n)&&s(e)||s(t)&&!o(e)||s(t)&&l(e)||s(t)&&s(e)?0:c(t)&&o(e)&&!s(e)&&o(n)&&u(n)?3:s(t)||!o(n)?1:2:-1},A=function(t){var n=0,r=0,i=0,a="",s="",l="",u=(t=t||"").split("\\s+"),c=[];for(n=0;n<u.length;n+=1){for(c.push(""),r=0;r<u[n].length;r+=1)a=u[n][r],s=u[n][r-1],l=u[n][r+1],o(a)?(i=f(a,s,l),c[n]+=-1!==i?String.fromCharCode(e[a.charCodeAt(0)][i]):a):c[n]+=a;c[n]=h(c[n])}return c.join(" ")},d=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([A(e[r][0]),e[r][1],e[r][2]]):n.push([A(e[r])]);t=n}else t=A(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",d])}(Lt.API),Lt.API.autoPrint=function(t){var e;if("javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}));return this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(t){a=t}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(t){o=t}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){i.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),r=e.font||this.getFont(),a=e.scaleFactor||this.internal.scaleFactor,o=0,s=0,l=0,u=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var c=e.maxWidth;c>0?"string"==typeof t?t=this.splitTextToSize(t,c):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce((function(t,e){return t.concat(u.splitTextToSize(e,c))}),[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)o<(l=this.getStringUnitWidth(t[h],{font:r})*n)&&(o=l);return 0!==o&&(s=t.length),{w:o/=a,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var t;t=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var r=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===t.lineNumber?(t.x=(r.x||0)+(r.width||0),t.y=r.y||0):r.y+r.height+t.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=s.top,u&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=r.y+r.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-a,t.y+a,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+a,{align:"center",baseline:"top",maxWidth:t.width-a-a}):this.text(t.text,t.x+a,t.y+a,{align:"left",baseline:"top",maxWidth:t.width-a-a})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,u,c,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var f,A,d,p,m=[],v=[],g=[],y={},b={},_=[],x=[],w=(h=h||{}).autoSize||!1,S=!1!==h.printHeaders,M=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},e),T="number"==typeof h.padding?h.padding:3,P=h.headerBackgroundColor||"#c8c8c8",k=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=k,this.setFontSize(M),null==c)v=m=Object.keys(u[0]),g=m.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===(0,r.Z)(c[0]))for(m=c.map((function(t){return t.name})),v=c.map((function(t){return t.prompt||t.name||""})),g=c.map((function(t){return t.align||"left"})),f=0;f<c.length;f+=1)b[c[f].name]=c[f].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(v=m=c,g=m.map((function(){return"left"})));if(w||Array.isArray(c)&&"string"==typeof c[0])for(f=0;f<m.length;f+=1){for(y[p=m[f]]=u.map((function(t){return t[p]})),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=y[p],this.setFont(void 0,"normal"),d=0;d<A.length;d+=1)_.push(this.getTextDimensions(A[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,_)+T+T,_=[]}if(S){var L={};for(f=0;f<m.length;f+=1)L[m[f]]={},L[m[f]].text=v[f],L[m[f]].align=g[f];var C=l.call(this,L,b);x=m.map((function(e){return new o(t,n,b[e],C,L[e].text,void 0,L[e].align)})),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var R=c.reduce((function(t,e){return t[e.name]=e.align,t}),{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var N=l.call(this,u[f],b);for(d=0;d<m.length;d+=1){var O=u[f][m[d]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:d,data:O},this),s.call(this,new o(t,n,b[m[d]],N,O,f+2,R[m[d]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var l=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(t).map((function(r){var i=t[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,e[r]-n-n)}),this).map((function(t){return this.getLineHeightFactor()*t.length*r/i+n+n}),this).reduce((function(t,e){return Math.max(t,e)}),0)};t.setTableHeaderRow=function(t){i.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){r=this.internal.__cell__.tableHeaderRow[u].clone(),e&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=t;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,r),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Lt.API);var ye={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},be=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_e=ge(be),xe=[100,200,300,400,500,600,700,800,900],we=ge(xe);function Se(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return ye[t=t||"normal"]?t:"normal"}(t.style),r=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),i=function(t){return"number"==typeof _e[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Me(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Ee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Te={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pe(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ke(t){return t.trimLeft()}function Le(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var Re,Ne,Oe,Ie,De=["times"];!function(t){var e,n,i,a,o,s,l,u,c,h=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new u,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new s,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new s,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,c=new h}]);var f=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(t){isNaN(t)||(a=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=t}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(t){s=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof h&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(t){u=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=A(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=A(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;function d(t,e){if(null===f){var n=function(t){var e=[];return Object.keys(t).forEach((function(n){t[n].forEach((function(t){var r=null;switch(t){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:t},e.push(r))}))})),e}(t.getFontList());f=function(t){for(var e={},n=0;n<t.length;++n){var r=Se(t[n]),i=r.family,a=r.stretch,o=r.style,s=r.weight;e[i]=e[i]||{},e[i][a]=e[i][a]||{},e[i][a][o]=e[i][a][o]||{},e[i][a][o][s]=r}return e}(n.concat(e))}return f}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(t){f=null,p=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],a=(e[5],e[6]),o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(t){var e,n,r=[],i=t.trim();if(""===i)return De;if(i in Te)return[Te[i]];for(;""!==i;){switch(n=null,e=(i=ke(i)).charAt(0)){case'"':case"'":n=Le(i.substring(1),e);break;default:n=Ce(i)}if(null===n)return De;if(r.push(n[0]),""!==(i=ke(n[1]))&&","!==i.charAt(0))return De;i=i.replace(/^,/,"")}return r}(a);if(this.fontFaces){var l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Ee,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=Se(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Pe(a)+"' and default family '"+r+"'.");if(o=function(t,e){if(e[t])return e[t];var n=_e[t],r=n<=_e.normal?-1:1,i=Me(e,be,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+t);return i}(a.stretch,o),o=function(t,e){if(e[t])return e[t];for(var n=ye[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(a.style,o),!(o=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=we[t],r=Me(e,xe,n,t<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+t);return r}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Pe(a)+"'.");return o}(d(this.pdf,this.fontFaces),s.map((function(t){return{family:t,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var c="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<s.length;f++){if(void 0!==this.pdf.internal.getFont(s[f],u,{noFallback:!0,disableWarning:!0})){c=s[f];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(s[f],"bold",{noFallback:!0,disableWarning:!0}))c=s[f],u="bold";else if(void 0!==this.pdf.internal.getFont(s[f],"normal",{noFallback:!0,disableWarning:!0})){c=s[f],u="normal";break}}if(""===c)for(var A=0;A<s.length;A++)if(h[s[A]]){c=h[s[A]];break}c=""===c?"Times":c,this.pdf.setFont(c,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};f.prototype.setLineDash=function(t){this.lineDash=t},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw $.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(t,e)},f.prototype.closePath=function(){var t=new s(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===(0,r.Z)(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new s(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(t.x,t.y)},f.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw $.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw $.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(n,r)),a=this.ctx.transform.applyToPoint(new s(t,e));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},f.prototype.bezierCurveTo=function(t,e,n,r,i,a){if(isNaN(i)||isNaN(a)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw $.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(i,a)),l=this.ctx.transform.applyToPoint(new s(t,e)),u=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:u.x,y2:u.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},f.prototype.arc=function(t,e,n,r,i,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw $.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(t,e));t=o.x,e=o.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),u=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:a})},f.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},f.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw $.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},f.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw $.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},f.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw $.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},f.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw $.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},f.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},f.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==a)e=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var o=new ot(t);t=o.ok?o.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};f.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw $.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!d.call(this)){var i=I(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:n,scale:a,angle:i,align:this.textAlign,maxWidth:r})}},f.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw $.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=I(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:n,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},f.prototype.measureText=function(t){if("string"!=typeof t)throw $.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},f.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw $.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new u(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},f.prototype.rotate=function(t){if(isNaN(t))throw $.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new u(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},f.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw $.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new u(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},f.prototype.transform=function(t,e,n,r,i,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(a))throw $.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new u(t,e,n,r,i,a);this.ctx.transform=this.ctx.transform.multiply(o)},f.prototype.setTransform=function(t,e,n,r,i,a){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new u(t,e,n,r,i,a)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(t,e,n,r,i,a,o,s,c){var h=this.pdf.getImageProperties(t),f=1,A=1,d=1,p=1;void 0!==r&&void 0!==s&&(d=s/r,p=c/i,f=h.width/r*s/r,A=h.height/i*c/i),void 0===a&&(a=e,o=n,e=0,n=0),void 0!==r&&void 0===s&&(s=r,c=i),void 0===r&&void 0===s&&(s=h.width,c=h.height);for(var g,_=this.ctx.transform.decompose(),w=I(_.rotate.shx),S=new u,M=(S=(S=(S=S.multiply(_.translate)).multiply(_.skew)).multiply(_.scale)).applyToRectangle(new l(a-e*d,o-n*p,r*f,i*A)),E=v.call(this,M),T=[],P=0;P<E.length;P+=1)-1===T.indexOf(E[P])&&T.push(E[P]);if(b(T),this.autoPaging)for(var k=T[0],L=T[T.length-1],C=k;C<L+1;C++){this.pdf.setPage(C);var R=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],N=1===C?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],B=1===C?0:O+(C-2)*D;if(0!==this.ctx.clip_path.length){var q=this.path;g=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(g,this.posX+this.margin[3],-B+N+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=q}var F=JSON.parse(JSON.stringify(M));F=y([F],this.posX+this.margin[3],-B+N+this.ctx.prevPageLastElemOffset)[0];var U=(C>k||C<L)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,D,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",F.x,F.y,F.w,F.h,null,null,w),U&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",M.x,M.y,M.w,M.h,null,null,w)};var v=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+i)/n)+1);break;case"arc":r.push(Math.floor((t.y+i-t.radius)/n)+1),r.push(Math.floor((t.y+i+t.radius)/n)+1);break;case"qct":var a=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"bct":var o=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"rect":r.push(Math.floor((t.y+i)/n)+1),r.push(Math.floor((t.y+t.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)g.call(this);return r},g=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=a},y=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;default:t[r].x+=e,t[r].y+=n}return t},b=function(t){return t.sort((function(t,e){return t-e}))},_=function(t,e){for(var n,r,i=this.fillStyle,a=this.strokeStyle,o=this.lineCap,s=this.lineWidth,l=Math.abs(s*this.ctx.transform.scaleX),u=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),f=[],A=0;A<h.length;A++)if(void 0!==h[A].x)for(var d=v.call(this,h[A]),p=0;p<d.length;p+=1)-1===f.indexOf(d[p])&&f.push(d[p]);for(var _=0;_<f.length;_++)for(;this.pdf.internal.getNumberOfPages()<f[_];)g.call(this);if(b(f),this.autoPaging)for(var w=f[0],S=f[f.length-1],M=w;M<S+1;M++){this.pdf.setPage(M),this.fillStyle=i,this.strokeStyle=a,this.lineCap=o,this.lineWidth=l,this.lineJoin=u;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===M?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],k=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=1===M?0:P+(M-2)*k;if(0!==this.ctx.clip_path.length){var C=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-L+T+this.ctx.prevPageLastElemOffset),x.call(this,t,!0),this.path=C}if(r=JSON.parse(JSON.stringify(c)),this.path=y(r,this.posX+this.margin[3],-L+T+this.ctx.prevPageLastElemOffset),!1===e||0===M){var R=(M>w||M<S)&&m.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,k,null).clip().discardPath()),x.call(this,t,e),R&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=l,x.call(this,t,e),this.lineWidth=s;this.path=c},x=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!d.call(this))){for(var n,r,i=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(n=[s.x-a[o-1].x,s.y-a[o-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(s);break}break;case"bct":n=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],i[i.length-1].deltas.push(n);break;case"qct":var u=a[o-1].x+2/3*(s.x1-a[o-1].x),c=a[o-1].y+2/3*(s.y1-a[o-1].y),h=s.x+2/3*(s.x1-s.x),f=s.y+2/3*(s.y1-s.y),A=s.x,m=s.y;n=[u-a[o-1].x,c-a[o-1].y,h-a[o-1].x,f-a[o-1].y,A-a[o-1].x,m-a[o-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=e?null:"stroke"===t?"stroke":"fill";for(var v=!1,g=0;g<i.length;g++)if(i[g].arc)for(var y=i[g].abs,b=0;b<y.length;b++){var _=y[b];"arc"===_.type?M.call(this,_.x,_.y,_.radius,_.startAngle,_.endAngle,_.counterclockwise,void 0,e,!v):L.call(this,_.x,_.y),v=!0}else if(!0===i[g].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[g].begin){var x=i[g].start.x,w=i[g].start.y;C.call(this,i[g].deltas,x,w),v=!0}r&&E.call(this,r),e&&T.call(this)}},w=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},S=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(t,e,n,r,i,a,o,s,l){for(var u=N.call(this,n,r,i,a),c=0;c<u.length;c++){var h=u[c];0===c&&(l?P.call(this,h.x1+t,h.y1+e):L.call(this,h.x1+t,h.y1+e)),R.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?T.call(this):E.call(this,o)},E=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(t,e){this.pdf.internal.out(n(t)+" "+i(e)+" m")},k=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=w.call(this,t.y),i=S.call(this,r)-n.h,a=this.ctx.transform.applyToPoint(new s(t.x,r)),o=this.ctx.transform.decompose(),c=new u;c=(c=(c=c.multiply(o.translate)).multiply(o.skew)).multiply(o.scale);for(var h,f,A,d=this.ctx.transform.applyToRectangle(new l(t.x,r,n.w,n.h)),p=c.applyToRectangle(new l(t.x,i,n.w,n.h)),g=v.call(this,p),_=[],M=0;M<g.length;M+=1)-1===_.indexOf(g[M])&&_.push(g[M]);if(b(_),this.autoPaging)for(var E=_[0],T=_[_.length-1],P=E;P<T+1;P++){this.pdf.setPage(P);var k=1===P?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[2],R=C-this.margin[0],N=this.pdf.internal.pageSize.width-this.margin[1],O=N-this.margin[3],I=1===P?0:L+(P-2)*R;if(0!==this.ctx.clip_path.length){var D=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(h,this.posX+this.margin[3],-1*I+k),x.call(this,"fill",!0),this.path=D}var B=y([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-I+k+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*t.scale),A=this.lineWidth,this.lineWidth=A*t.scale);var q="text"!==this.autoPaging;if(q||B.y+B.h<=C){if(q||B.y>=k&&B.x<=N){var F=q?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||N-B.x)[0],U=y([JSON.parse(JSON.stringify(d))],this.posX+this.margin[3],-I+k+this.ctx.prevPageLastElemOffset)[0],z=q&&(P>E||P<T)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,R,null).clip().discardPath()),this.pdf.text(F,U.x,U.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),z&&this.pdf.restoreGraphicsState()}}else B.y<C&&(this.ctx.prevPageLastElemOffset+=C-B.y);t.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=A)}else t.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*t.scale),A=this.lineWidth,this.lineWidth=A*t.scale),this.pdf.text(t.text,a.x+this.posX,a.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=A)},L=function(t,e,r,a){r=r||0,a=a||0,this.pdf.internal.out(n(t+r)+" "+i(e+a)+" l")},C=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},R=function(t,n,r,i,s,l,u,c){this.pdf.internal.out([e(a(r+t)),e(o(i+n)),e(a(s+t)),e(o(l+n)),e(a(u+t)),e(o(c+n)),"c"].join(" "))},N=function(t,e,n,r){for(var i=2*Math.PI,a=Math.PI/2;e>n;)e-=i;var o=Math.abs(n-e);o<i&&r&&(o=i-o);for(var s=[],l=r?-1:1,u=e;o>1e-5;){var c=u+l*Math.min(o,a);s.push(O.call(this,t,u,c)),o-=Math.abs(c-u),u=c}return s},O=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),a=t*Math.sin(r),o=i,s=-a,l=o*o+s*s,u=l+o*i+s*a,c=4/3*(Math.sqrt(2*l*u)-u)/(o*a-s*i),h=o-c*s,f=s+c*o,A=h,d=-f,p=r+e,m=Math.cos(p),v=Math.sin(p);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*m-f*v,y2:h*v+f*m,x3:A*m-d*v,y3:A*v+d*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},I=function(t){return 180*t/Math.PI},D=function(t,e,n,r,i,a){var o=t+.5*(n-t),s=e+.5*(r-e),u=i+.5*(n-i),c=a+.5*(r-a),h=Math.min(t,i,o,u),f=Math.max(t,i,o,u),A=Math.min(e,a,s,c),d=Math.max(e,a,s,c);return new l(h,A,f-h,d-A)},B=function(t,e,n,r,i,a,o,s){var u,c,h,f,A,d,p,m,v,g,y,b,_,x,w=n-t,S=r-e,M=i-n,E=a-r,T=o-i,P=s-a;for(c=0;c<41;c++)v=(p=(h=t+(u=c/40)*w)+u*((A=n+u*M)-h))+u*(A+u*(i+u*T-A)-p),g=(m=(f=e+u*S)+u*((d=r+u*E)-f))+u*(d+u*(a+u*P-d)-m),0==c?(y=v,b=g,_=v,x=g):(y=Math.min(y,v),b=Math.min(b,g),_=Math.max(_,v),x=Math.max(x,g));return new l(Math.round(y),Math.round(b),Math.round(_-y),Math.round(x-b))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Lt.API),function(t){var e=function(t){var e,n,r,i,a,o,s,l,u,c;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;i>r;r+=4)0!==(a=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(o=(a=((a=((a=((a=(a-(c=a%85))/85)-(u=a%85))/85)-(l=a%85))/85)-(s=a%85))/85)%85,n.push(o+33,s+33,l+33,u+33,c+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,i,a,o=String,s="length",l=255,u="charCodeAt",c="slice",h="replace";for(t[c](-2),t=t[c](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,a=(t+=e="uuuuu"[c](t[s]%5||5))[s];a>i;i+=5)n=52200625*(t[u](i)-33)+614125*(t[u](i+1)-33)+7225*(t[u](i+2)-33)+85*(t[u](i+3)-33)+(t[u](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[s]),o.fromCharCode.apply(o,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=Y(e)).reduce((function(t,e){return t+String.fromCharCode(e)}),"")};t.processDataByFilters=function(t,a){var o=0,s=t||"",l=[];for("string"==typeof(a=a||[])&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=e(s),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:s,reverseChain:l.reverse().join(" ")}}}(Lt.API),(Ie=Lt.API).loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,i=0,a=function(t){var e=t.length,n=[],r=String.fromCharCode;for(i=0;i<e;i+=1)n.push(r(255&t.charCodeAt(i)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),e&&200===r.status)return a(r.responseText)}(t,e,n)}catch(t){}return r}(t,e,n)},Ie.loadImageFile=Ie.loadFile,function(t){function e(){return(K.html2canvas?Promise.resolve(K.html2canvas):n.e(498).then(n.t.bind(n,5498,23))).catch((function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))})).then((function(t){return t.default?t.default:t}))}function i(){return(K.DOMPurify?Promise.resolve(K.DOMPurify):n.e(703).then(n.t.bind(n,8703,23))).catch((function(t){return Promise.reject(new Error("Could not load dompurify: "+t))})).then((function(t){return t.default?t.default:t}))}var a=function(t){var e=(0,r.Z)(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},o=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},s=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(t,e){return t.__proto__=e||s.prototype,t},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(t,e){return this.then((function(){switch(e=e||function(t){switch(a(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(i).then((function(e){return this.set({src:o("div",{innerHTML:t,dompurify:e})})}));case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",(function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then((function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then((function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var o=n[a],s=o.src.find((function(t){return"truetype"===t.format}));s&&e.addFont(s.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,e.context2d.save(!0),t(this.prop.container,i)})).then((function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},s.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(t,e)}))},s.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}}))},s.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(t){if("object"!==a(t))return this;var e=Object.keys(t||{}).map((function(e){if(e in s.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}}),this);return this.then((function(){return this.thenList(e)}))},s.prototype.get=function(t,e){return this.then((function(){var n=t in s.template.prop?this.prop[t]:this.opt[t];return e?e(n):n}))},s.prototype.setMargin=function(t){return this.then((function(){switch(a(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t})).then(this.setPageSize)},s.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then((function(){(t=t||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t}))},s.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,(function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,(function(e){return n.updateProgress(null,t),e})).then(t,e).then((function(t){return n.updateProgress(1),t}))}))},s.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),i=n.call(r,t,e);return s.convert(i,this.__proto__)},s.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},s.prototype.thenList=function(t){var e=this;return t.forEach((function(t){e=e.thenCore(t)})),e},s.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return s.convert(e,this)},s.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},s.prototype.error=function(t){return this.then((function(){throw new Error(t)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Lt.getPageSize=function(t,e,n){if("object"===(0,r.Z)(t)){var i=t;t=i.orientation,e=i.unit||e,n=i.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var a,o=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+e}var l,u=0,c=0;if(s.hasOwnProperty(o))u=s[o][1]/a,c=s[o][0]/a;else try{u=n[1],c=n[0]}catch(Ie){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>u&&(l=c,c=u,u=l);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",u>c&&(l=c,c=u,u=l)}return{width:c,height:u,unit:e,k:a,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(Se):null;var n=new s(e);return e.worker?n:n.from(t).doCallback()}}(Lt.API),Lt.API.addJS=function(t){return Oe=t,this.internal.events.subscribe("postPutResources",(function(){Re=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Re+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ne=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Oe+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Re&&void 0!==Ne&&this.internal.out("/Names <</JavaScript "+Re+" 0 R>>")})),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),i=0;i<r.length;i++){var a=r[i],o=n.exec(a);if(null!=o){var s=o[1];t.internal.newObjectDeferredBegin(s,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(i=0;i<l;i++){var c=t.internal.newObject();u.push(c);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<u.length;i++)t.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var o=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<e.children.length;s++)this.renderItems(e.children[s])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(Lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,i,a,o){var s,l=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(s=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),i=t.length,a={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=r,-1!==e.indexOf(t.charCodeAt(o+1))){n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),a={width:256*t.charCodeAt(o+7)+t.charCodeAt(o+8),height:n,numcomponents:t.charCodeAt(o+9)};break}r=256*t.charCodeAt(o+2)+t.charCodeAt(o+3)}return a}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return u}}(Lt.API);var Be,qe,Fe,Ue,ze,Ze=function(){var t,e,n;function r(t){var e,n,r,i,a,o,s,l,u,c,h,f,A,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(e=this.readUInt32(),u=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),i=this.readUInt16()||100,o.delay=1e3*a/i,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,e-=4),t=(null!=o?o.data:void 0)||this.imgData,f=0;0<=e?f<e:f>e;0<=e?++f:--f)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((c=r-this.transparency.indexed.length)>0)for(A=0;0<=c?A<c:A>c;0<=c?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(h=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,h.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,i=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function a(a,o,s,l){var u,c,h,f,A,d,p,m,v,g,y,b,_,x,w,S,M,E,T,P,k,L=Math.ceil((i.width-a)/s),C=Math.ceil((i.height-o)/l),R=i.width==L&&i.height==C;for(x=e*L,b=R?n:new Uint8Array(x*C),d=t.length,_=0,c=0;_<C&&r<d;){switch(t[r++]){case 0:for(f=M=0;M<x;f=M+=1)b[c++]=t[r++];break;case 1:for(f=E=0;E<x;f=E+=1)u=t[r++],A=f<e?0:b[c-e],b[c++]=(u+A)%256;break;case 2:for(f=T=0;T<x;f=T+=1)u=t[r++],h=(f-f%e)/e,w=_&&b[(_-1)*x+h*e+f%e],b[c++]=(w+u)%256;break;case 3:for(f=P=0;P<x;f=P+=1)u=t[r++],h=(f-f%e)/e,A=f<e?0:b[c-e],w=_&&b[(_-1)*x+h*e+f%e],b[c++]=(u+Math.floor((A+w)/2))%256;break;case 4:for(f=k=0;k<x;f=k+=1)u=t[r++],h=(f-f%e)/e,A=f<e?0:b[c-e],0===_?w=S=0:(w=b[(_-1)*x+h*e+f%e],S=h&&b[(_-1)*x+(h-1)*e+f%e]),p=A+w-S,m=Math.abs(p-A),g=Math.abs(p-w),y=Math.abs(p-S),v=m<=g&&m<=y?A:g<=y?w:S,b[c++]=(u+v)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!R){var N=((o+_*l)*i.width+a)*e,O=_*x;for(f=0;f<L;f+=1){for(var I=0;I<e;I+=1)n[N++]=b[O++];N+=(s-1)*e}}_++}}return t=Q(t),1==i.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),n},r.prototype.decodePalette=function(){var t,e,n,r,i,a,o,s,l;for(n=this.palette,a=this.transparency.indexed||[],i=new Uint8Array((a.length||0)+n.length),r=0,t=0,e=o=0,s=n.length;o<s;e=o+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=a[t++])?l:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,a,o,s,l,u,c,h,f;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),u=(i=t.data||t).length,o=c||e,a=s=0,1===r)for(;a<u;)l=c?4*e[a/4]:s,h=o[l++],i[a++]=h,i[a++]=h,i[a++]=h,i[a++]=n?o[l++]:255,s=l;else for(;a<u;)l=c?4*e[a/4]:s,i[a++]=o[l++],i[a++]=o[l++],i[a++]=o[l++],i[a++]=n?o[l++]:255,s=l},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var i=function(){if("[object Window]"===Object.prototype.toString.call(K)){try{e=K.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return i(),t=function(t){var r;if(!0===i())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,i,a,o,s,l,u;if(this.animation){for(u=[],r=o=0,s=(l=this.animation.frames).length;o<s;r=++o)n=l[r],i=e.createImageData(n.width,n.height),a=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,a),n.imageData=i,u.push(n.image=t(i));return u}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,a,o,s=this;return n=0,o=this.animation,i=o.numFrames,r=o.frames,a=o.numPlays,(e=function(){var o,l;if(o=n++%i,l=r[o],s.renderFrame(t,o),i>1&&n/i<a)return s.animation._timeout=setTimeout(e,l.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();function je(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],h=0,f=null,A=0,d=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,d=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var p=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],0==(1&p)&&(f=null),A=p>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++],_=b>>6&1,x=1<<1+(7&b),w=s,S=l,M=!1;b>>7&&(M=!0,w=e,S=x,e+=3*x);var E=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}c.push({x:m,y:v,width:g,height:y,has_local_palette:M,palette_offset:w,palette_size:S,data_offset:E,data_length:e-E,transparent_index:f,interlaced:!!_,delay:h,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),a=i.width*i.height,o=new Uint8Array(a);He(t,i.data_offset,o,a);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var u=i.width,c=n-u,h=u,f=4*(i.y*n+i.x),A=4*((i.y+i.height)*n+i.x),d=f,p=4*c;!0===i.interlaced&&(p+=4*n*7);for(var m=8,v=0,g=o.length;v<g;++v){var y=o[v];if(0===h&&(h=u,(d+=p)>=A&&(p=4*c+4*n*(m-1),d=f+(u+c)*(m<<1),m>>=1)),y===l)d+=4;else{var b=t[s+3*y],_=t[s+3*y+1],x=t[s+3*y+2];r[d++]=x,r[d++]=_,r[d++]=b,r[d++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),a=i.width*i.height,o=new Uint8Array(a);He(t,i.data_offset,o,a);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var u=i.width,c=n-u,h=u,f=4*(i.y*n+i.x),A=4*((i.y+i.height)*n+i.x),d=f,p=4*c;!0===i.interlaced&&(p+=4*n*7);for(var m=8,v=0,g=o.length;v<g;++v){var y=o[v];if(0===h&&(h=u,(d+=p)>=A&&(p=4*c+4*n*(m-1),d=f+(u+c)*(m<<1),m>>=1)),y===l)d+=4;else{var b=t[s+3*y],_=t[s+3*y+1],x=t[s+3*y+2];r[d++]=b,r[d++]=_,r[d++]=x,r[d++]=255}--h}}}function He(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,h=0,f=0,A=t[e++],d=new Int32Array(4096),p=null;;){for(;c<16&&0!==A;)h|=t[e++]<<c,c+=8,1===A?A=t[e++]:--A;if(c<l)break;var m=h&u;if(h>>=l,c-=l,m!==a){if(m===o)break;for(var v=m<s?m:p,g=0,y=v;y>a;)y=d[y]>>8,++g;var b=y;if(f+g+(v!==m?1:0)>r)return void $.log("Warning, gif stream longer than expected.");n[f++]=b;var _=f+=g;for(v!==m&&(n[f++]=b),y=v;g--;)y=d[y],n[--_]=255&y,y>>=8;null!==p&&s<4096&&(d[s++]=p<<8|b,s>=u+1&&l<12&&(++l,u=u<<1|1)),p=m}else s=o+1,u=(1<<(l=i+1))-1,p=null}return f!==r&&$.log("Warning, gif stream shorter than expected."),n}function Ge(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),f=new Array(65535),A=new Array(64),d=new Array(64),p=[],m=0,v=7,g=new Array(64),y=new Array(64),b=new Array(64),_=new Array(256),x=new Array(2048),w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(t,e){for(var n=0,r=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=t[a];o++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=a,r++,n++;n*=2}return i}function N(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(O(255),O(0)):O(m),v=7,m=0)}function O(t){p.push(t)}function I(t){O(t>>8&255),O(255&t)}function D(t,e,n,r,i){for(var a,o=i[0],s=i[240],l=function(t,e){var n,r,i,a,o,s,l,u,c,h,f=0;for(c=0;c<8;++c){n=t[f],r=t[f+1],i=t[f+2],a=t[f+3],o=t[f+4],s=t[f+5],l=t[f+6];var d=n+(u=t[f+7]),p=n-u,m=r+l,v=r-l,g=i+s,y=i-s,b=a+o,_=a-o,x=d+b,w=d-b,S=m+g,M=m-g;t[f]=x+S,t[f+4]=x-S;var E=.707106781*(M+w);t[f+2]=w+E,t[f+6]=w-E;var T=.382683433*((x=_+y)-(M=v+p)),P=.5411961*x+T,k=1.306562965*M+T,L=.707106781*(S=y+v),C=p+L,R=p-L;t[f+5]=R+P,t[f+3]=R-P,t[f+1]=C+k,t[f+7]=C-k,f+=8}for(f=0,c=0;c<8;++c){n=t[f],r=t[f+8],i=t[f+16],a=t[f+24],o=t[f+32],s=t[f+40],l=t[f+48];var N=n+(u=t[f+56]),O=n-u,I=r+l,D=r-l,B=i+s,q=i-s,F=a+o,U=a-o,z=N+F,Z=N-F,j=I+B,H=I-B;t[f]=z+j,t[f+32]=z-j;var G=.707106781*(H+Z);t[f+16]=Z+G,t[f+48]=Z-G;var V=.382683433*((z=U+q)-(H=D+O)),W=.5411961*z+V,X=1.306562965*H+V,Y=.707106781*(j=q+D),Q=O+Y,K=O-Y;t[f+40]=K+W,t[f+24]=K-W,t[f+8]=Q+X,t[f+56]=Q-X,f++}for(c=0;c<64;++c)h=t[c]*e[c],A[c]=h>0?h+.5|0:h-.5|0;return A}(t,e),u=0;u<64;++u)d[w[u]]=l[u];var c=d[0]-n;n=d[0],0==c?N(r[0]):(N(r[f[a=32767+c]]),N(h[a]));for(var p=63;p>0&&0==d[p];)p--;if(0==p)return N(o),n;for(var m,v=1;v<=p;){for(var g=v;0==d[v]&&v<=p;)++v;var y=v-g;if(y>=16){m=y>>4;for(var b=1;b<=m;++b)N(s);y&=15}a=32767+d[v],N(i[(y<<4)+f[a]]),N(h[a]),v++}return 63!=p&&N(o),n}function B(t){t=Math.min(Math.max(t,1),100),a!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),s[w[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var h=o((i[a]*t+50)/100);h=Math.min(Math.max(h,1),255),l[w[a]]=h}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],A=0,d=0;d<8;d++)for(var p=0;p<8;p++)u[A]=1/(s[w[A]]*f[d]*f[p]*8),c[A]=1/(l[w[A]]*f[d]*f[p]*8),A++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t)}this.encode=function(t,a){a&&B(a),p=new Array,m=0,v=7,I(65496),I(65504),I(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),I(1),I(1),O(0),O(0),function(){I(65499),I(132),O(0);for(var t=0;t<64;t++)O(s[t]);O(1);for(var e=0;e<64;e++)O(l[e])}(),function(t,e){I(65472),I(17),O(8),I(e),I(t),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(t.width,t.height),function(){I(65476),I(418),O(0);for(var t=0;t<16;t++)O(S[t+1]);for(var e=0;e<=11;e++)O(M[e]);O(16);for(var n=0;n<16;n++)O(E[n+1]);for(var r=0;r<=161;r++)O(T[r]);O(1);for(var i=0;i<16;i++)O(P[i+1]);for(var a=0;a<=11;a++)O(k[a]);O(17);for(var o=0;o<16;o++)O(L[o+1]);for(var s=0;s<=161;s++)O(C[s])}(),I(65498),I(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var o=0,h=0,f=0;m=0,v=7,this.encode.displayName="_encode_";for(var A,d,_,w,R,q,F,U,z,Z=t.data,j=t.width,H=t.height,G=4*j,V=0;V<H;){for(A=0;A<G;){for(R=G*V+A,F=-1,U=0,z=0;z<64;z++)q=R+(U=z>>3)*G+(F=4*(7&z)),V+U>=H&&(q-=G*(V+1+U-H)),A+F>=G&&(q-=A+F-G+4),d=Z[q++],_=Z[q++],w=Z[q++],g[z]=(x[d]+x[_+256>>0]+x[w+512>>0]>>16)-128,y[z]=(x[d+768>>0]+x[_+1024>>0]+x[w+1280>>0]>>16)-128,b[z]=(x[d+1280>>0]+x[_+1536>>0]+x[w+1792>>0]>>16)-128;o=D(g,u,o,e,r),h=D(y,c,h,n,i),f=D(b,c,f,n,i),A+=32}V+=8}if(v>=0){var W=[];W[1]=v+1,W[0]=(1<<v+1)-1,N(W)}return I(65497),new Uint8Array(p)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}(),e=R(S,M),n=R(P,k),r=R(E,T),i=R(L,C),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)f[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)f[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),B(t)}function Ve(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function We(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,i){for(var a=0;a<i;a++)t[e+a]=n[r+a]}function i(t,e,n,r){for(var i=0;i<r;i++)t[e+i]=n}function a(t){return new Int32Array(t)}function o(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function s(t,e){var n=[];return function t(n,r,i){for(var a=i[r],o=0;o<a&&(n.push(i.length>r+1?[]:new e),!(i.length<r+1));o++)t(n[o],r+1,i)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function u(t,n,r,i,a){e(!(i%r));do{t[n+(i-=r)]=a}while(0<i)}function c(t,n,r,i,o){if(e(2328>=o),512>=o)var s=a(512);else if(null==(s=a(o)))return 0;return function(t,n,r,i,o,s){var c,f,A=n,d=1<<r,p=a(16),m=a(16);for(e(0!=o),e(null!=i),e(null!=t),e(0<r),f=0;f<o;++f){if(15<i[f])return 0;++p[i[f]]}if(p[0]==o)return 0;for(m[1]=0,c=1;15>c;++c){if(p[c]>1<<c)return 0;m[c+1]=m[c]+p[c]}for(f=0;f<o;++f)c=i[f],0<i[f]&&(s[m[c]++]=f);if(1==m[15])return(i=new h).g=0,i.value=s[0],u(t,A,1,d,i),d;var v,g=-1,y=d-1,b=0,_=1,x=1,w=1<<r;for(f=0,c=1,o=2;c<=r;++c,o<<=1){if(_+=x<<=1,0>(x-=p[c]))return 0;for(;0<p[c];--p[c])(i=new h).g=c,i.value=s[f++],u(t,A+b,o,w,i),b=l(b,c)}for(c=r+1,o=2;15>=c;++c,o<<=1){if(_+=x<<=1,0>(x-=p[c]))return 0;for(;0<p[c];--p[c]){if(i=new h,(b&y)!=g){for(A+=w,v=1<<(g=c)-r;15>g&&!(0>=(v-=p[g]));)++g,v<<=1;d+=w=1<<(v=g-r),t[n+(g=b&y)].g=v+r,t[n+g].value=A-n-g}i.g=c-r,i.value=s[f++],u(t,A+(b>>r),o,w,i),b=l(b,c)}}return _!=2*m[15]-1?0:d}(t,n,r,i,o,s)}function h(){this.value=this.g=0}function f(){this.value=this.g=0}function A(){this.G=o(5,h),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fn,f)}function d(t,n,r,i){e(null!=t),e(null!=n),e(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+i,t.Zc=4<=i?r+i-4+1:r,E(t)}function p(t,e){for(var n=0;0<e--;)n|=P(t,128)<<e;return n}function m(t,e){var n=p(t,e);return T(t)?-n:n}function v(t,n,r,i){var a,o=0;for(e(null!=t),e(null!=n),e(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),a=0;a<i;++a)o+=n[r+a]<<8*a;t.Ra=o,t.bb=i,t.oa=n,t.pa=r}function g(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Zn-8>>>0,++t.bb,t.u-=8;w(t)&&(t.h=1,t.u=0)}function y(t,n){if(e(0<=n),!t.h&&n<=zn){var r=x(t)&Un[n];return t.u+=n,g(t),r}return t.h=1,t.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(t){return t.Ra>>>(t.u&Zn-1)>>>0}function w(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Zn}function S(t,e){t.u=e,t.h=w(t)}function M(t){t.u>=jn&&(e(t.u>=jn),g(t))}function E(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function T(t){return p(t,1)}function P(t,e){var n=t.Ca;0>t.b&&E(t);var r=t.b,i=n*e>>>8,a=(t.I>>>r>i)+0;for(a?(n-=i,t.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Hn[r],t.b-=r,t.Ca=(n<<r)-1,a}function k(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255}function L(t,e){return t[e+0]<<0|t[e+1]<<8}function C(t,e){return L(t,e)|t[e+2]<<16}function R(t,e){return L(t,e)|L(t,e+2)<<16}function N(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=a(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function O(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function D(t,n,r,i){e(null!=r),e(null!=i);var a=r[0],o=i[0];return 0==a&&(a=(t*o+n/2)/n),0==o&&(o=(n*a+t/2)/t),0>=a||0>=o?0:(r[0]=a,i[0]=o,1)}function B(t,e){return t+(1<<e)-1>>>e}function q(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function F(e,n){t[n]=function(n,r,i,a,o,s,l){var u;for(u=0;u<o;++u){var c=t[e](s[l+u-1],i,a+u);s[l+u]=q(n[r+u],c)}}}function U(){this.ud=this.hd=this.jd=0}function z(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function Z(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function j(t,e){return Z(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function G(t,e,n,r,i,a,o){for(r=a[o-1],n=0;n<i;++n)a[o+n]=r=q(t[e+n],r)}function V(t,e,n,r,i){var a;for(a=0;a<n;++a){var o=t[e+a],s=o>>8&255,l=16711935&(l=(l=16711935&o)+((s<<16)+s));r[i+a]=(4278255360&o)+l>>>0}}function W(t,e){e.jd=t>>0&255,e.hd=t>>8&255,e.ud=t>>16&255}function X(t,e,n,r,i,a){var o;for(o=0;o<r;++o){var s=e[n+o],l=s>>>8,u=s,c=255&(c=(c=s>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));u=255&(u=(u+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(c<<24>>24)>>>5)),i[a+o]=(4278255360&s)+(c<<16)+u}}function Y(e,n,r,i,a){t[n]=function(t,e,n,r,o,s,l,u,c){for(r=l;r<u;++r)for(l=0;l<c;++l)o[s++]=a(n[i(t[e++])])},t[e]=function(e,n,o,s,l,u,c){var h=8>>e.b,f=e.Ea,A=e.K[0],d=e.w;if(8>h)for(e=(1<<e.b)-1,d=(1<<h)-1;n<o;++n){var p,m=0;for(p=0;p<f;++p)p&e||(m=i(s[l++])),u[c++]=a(A[m&d]),m>>=h}else t["VP8LMapColor"+r](s,l,A,d,u,c,n,o,f)}}function Q(t,e,n,r,i){for(n=e+n;e<n;){var a=t[e++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=a>>0&255}}function K(t,e,n,r,i){for(n=e+n;e<n;){var a=t[e++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=a>>0&255,r[i++]=a>>24&255}}function J(t,e,n,r,i){for(n=e+n;e<n;){var a=(o=t[e++])>>16&240|o>>12&15,o=o>>0&240|o>>28&15;r[i++]=a,r[i++]=o}}function $(t,e,n,r,i){for(n=e+n;e<n;){var a=(o=t[e++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=a,r[i++]=o}}function tt(t,e,n,r,i){for(n=e+n;e<n;){var a=t[e++];r[i++]=a>>0&255,r[i++]=a>>8&255,r[i++]=a>>16&255}}function et(t,e,n,i,a,o){if(0==o)for(n=e+n;e<n;)k(i,((o=t[e++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else r(i,a,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==jr||t==Hr||t==Gr||t==Vr}function it(){this.eb=[],this.size=this.A=this.fb=0}function at(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new at,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ct(t,e){var n=t.T,i=e.ba.f.RGBA,a=i.eb,o=i.fb+t.ka*i.A,s=vi[e.ba.S],l=t.y,u=t.O,c=t.f,h=t.N,f=t.ea,A=t.W,d=e.cc,p=e.dc,m=e.Mc,v=e.Nc,g=t.ka,y=t.ka+t.T,b=t.U,_=b+1>>1;for(0==g?s(l,u,null,null,c,h,f,A,c,h,f,A,a,o,null,null,b):(s(e.ec,e.fc,l,u,d,p,m,v,c,h,f,A,a,o-i.A,a,o,b),++n);g+2<y;g+=2)d=c,p=h,m=f,v=A,h+=t.Rc,A+=t.Rc,o+=2*i.A,s(l,(u+=2*t.fa)-t.fa,l,u,d,p,m,v,c,h,f,A,a,o-i.A,a,o,b);return u+=t.fa,t.j+y<t.o?(r(e.ec,e.fc,l,u,b),r(e.cc,e.dc,c,h,_),r(e.Mc,e.Nc,f,A,_),n--):1&y||s(l,u,null,null,c,h,f,A,c,h,f,A,a,o+i.A,null,null,b),n}function ht(t,n,r){var i=t.F,a=[t.J];if(null!=i){var o=t.U,s=n.ba.S,l=s==Ur||s==Gr;n=n.ba.f.RGBA;var u=[0],c=t.ka;u[0]=t.T,t.Kb&&(0==c?--u[0]:(--c,a[0]-=t.width),t.j+t.ka+t.T==t.o&&(u[0]=t.o-t.j-c));var h=n.eb;c=n.fb+c*n.A,t=Mr(i,a[0],t.width,o,u,h,c+(l?0:3),n.A),e(r==u),t&&rt(s)&&wr(h,c,l,o,u,n.A)}return 0}function ft(t){var e=t.ma,n=e.ba.S,r=11>n,i=n==Br||n==Fr||n==Ur||n==zr||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Dn(e.Oa,t,i?11:12))return 0;if(i&&rt(n)&&yn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ut,t.Kb){if(n=t.U+1>>1,e.memory=a(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ct,yn()}}else alert("todo:EmitYUV");i&&(e.Jb=ht,r&&vn())}if(r&&!Ci){for(t=0;256>t;++t)Ri[t]=89858*(t-128)+Ei>>Mi,Ii[t]=-22014*(t-128)+Ei,Oi[t]=-45773*(t-128),Ni[t]=113618*(t-128)+Ei>>Mi;for(t=Ti;t<Pi;++t)e=76283*(t-16)+Ei>>Mi,Di[t-Ti]=Gt(e,255),Bi[t-Ti]=Gt(e+8>>4,15);Ci=1}return 1}function At(t){var n=t.ma,r=t.U,i=t.T;return e(!(1&t.ka)),0>=r||0>=i?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function dt(t){t.ma.memory=null}function pt(t,e,n,r){return 47!=y(t,8)?0:(e[0]=y(t,14)+1,n[0]=y(t,14)+1,r[0]=y(t,1),0!=y(t,3)?0:!t.h)}function mt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+y(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=Jr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function gt(t,e,n){var r=x(n),i=t[e+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=x(n),e+=t[e].value,e+=r&(1<<i)-1),S(n,n.u+t[e].g),t[e].value}function yt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function bt(t,n,r){var i=t.xc;return e((n=0==i?0:t.vc[t.md*(r>>i)+(n>>i)])<t.Wb),t.Ya[n]}function _t(t,n,i,a){var o=t.ab,s=t.c*n,l=t.C;n=l+n;var u=i,c=a;for(a=t.Ta,i=t.Ua;0<o--;){var h=t.gc[o],f=l,A=n,d=u,p=c,m=(c=a,u=i,h.Ea);switch(e(f<A),e(A<=h.nc),h.hc){case 2:Wn(d,p,(A-f)*m,c,u);break;case 0:var v=f,g=A,y=c,b=u,_=(E=h).Ea;0==v&&(Gn(d,p,null,null,1,y,b),G(d,p+1,0,0,_-1,y,b+1),p+=_,b+=_,++v);for(var x=1<<E.b,w=x-1,S=B(_,E.b),M=E.K,E=E.w+(v>>E.b)*S;v<g;){var T=M,P=E,k=1;for(Vn(d,p,y,b-_,1,y,b);k<_;){var L=(k&~w)+x;L>_&&(L=_),(0,Jn[T[P++]>>8&15])(d,p+ +k,y,b+k-_,L-k,y,b+k),k=L}p+=_,b+=_,++v&w||(E+=S)}A!=h.nc&&r(c,u-m,c,u+(A-f-1)*m,m);break;case 1:for(m=d,g=p,_=(d=h.Ea)-(b=d&~(y=(p=1<<h.b)-1)),v=B(d,h.b),x=h.K,h=h.w+(f>>h.b)*v;f<A;){for(w=x,S=h,M=new U,E=g+b,T=g+d;g<E;)W(w[S++],M),$n(M,m,g,p,c,u),g+=p,u+=p;g<T&&(W(w[S++],M),$n(M,m,g,_,c,u),g+=_,u+=_),++f&y||(h+=v)}break;case 3:if(d==c&&p==u&&0<h.b){for(g=c,d=m=u+(A-f)*m-(b=(A-f)*B(h.Ea,h.b)),p=c,y=u,v=[],b=(_=b)-1;0<=b;--b)v[b]=p[y+b];for(b=_-1;0<=b;--b)g[d+b]=v[b];Xn(h,f,A,c,m,c,u)}else Xn(h,f,A,d,p,c,u)}u=a,c=i}c!=i&&r(a,i,u,c,s)}function xt(t,n){var r=t.V,i=t.Ba+t.c*t.C,a=n-t.C;if(e(n<=t.l.o),e(16>=a),0<a){var o=t.l,s=t.Ta,l=t.Ua,u=o.width;if(_t(t,a,r,i),a=l=[l],e((r=t.C)<(i=n)),e(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var c=o.j-r;r=o.j,a[0]+=c*u}if(r>=i?r=0:(a[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(l=l[0],11>(r=t.ca).S){var h=r.f.RGBA,f=(i=r.S,a=o.U,o=o.T,c=h.eb,h.A),A=o;for(h=h.fb+t.Ma*h.A;0<A--;){var d=s,p=l,m=a,v=c,g=h;switch(i){case Dr:tr(d,p,m,v,g);break;case Br:er(d,p,m,v,g);break;case jr:er(d,p,m,v,g),wr(v,g,0,m,1,0);break;case qr:ir(d,p,m,v,g);break;case Fr:et(d,p,m,v,g,1);break;case Hr:et(d,p,m,v,g,1),wr(v,g,0,m,1,0);break;case Ur:et(d,p,m,v,g,0);break;case Gr:et(d,p,m,v,g,0),wr(v,g,1,m,1,0);break;case zr:nr(d,p,m,v,g);break;case Vr:nr(d,p,m,v,g),Sr(v,g,m,1,0);break;case Zr:rr(d,p,m,v,g);break;default:e(0)}l+=u,h+=f}t.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function wt(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function St(t,n,r,i,a,o){if(0!=t.Z){var s=t.qd,l=t.rd;for(e(null!=mi[t.Z]);n<r;++n)mi[t.Z](s,l,i,a,i,a,o),s=i,l=a,a+=o;t.qd=s,t.rd=l}}function Mt(t,n){var r=t.l.ma,i=0==r.Z||1==r.Z?t.l.j:t.C;if(i=t.C<i?i:t.C,e(n<=t.l.o),n>i){var a=t.l.width,o=r.ca,s=r.tb+a*i,l=t.V,u=t.Ba+t.c*i,c=t.gc;e(1==t.ab),e(3==c[0].hc),Qn(c[0],i,n,l,u,o,s),St(r,i,n,o,s,a)}t.C=t.Ma=n}function Et(t,n,r,i,a,o,s){var l=t.$/i,u=t.$%i,c=t.m,h=t.s,f=r+t.$,A=f;a=r+i*a;var d=r+i*o,p=280+h.ua,m=t.Pb?l:16777216,v=0<h.ua?h.Wa:null,g=h.wc,y=f<d?bt(h,u,l):null;e(t.C<o),e(d<=a);var b=!1;t:for(;;){for(;b||f<d;){var _=0;if(l>=m){var E=f-r;e((m=t).Pb),m.wd=m.m,m.xd=E,0<m.s.ua&&O(m.s.Wa,m.s.vb),m=l+ti}if(u&g||(y=bt(h,u,l)),e(null!=y),y.Qb&&(n[f]=y.qb,b=!0),!b)if(M(c),y.jc){_=c,E=n;var T=f,P=y.pd[x(_)&Fn-1];e(y.jc),256>P.g?(S(_,_.u+P.g),E[T]=P.value,_=0):(S(_,_.u+P.g-256),e(256<=P.value),_=P.value),0==_&&(b=!0)}else _=gt(y.G[0],y.H[0],c);if(c.h)break;if(b||256>_){if(!b)if(y.nd)n[f]=(y.qb|_<<8)>>>0;else{if(M(c),b=gt(y.G[1],y.H[1],c),M(c),E=gt(y.G[2],y.H[2],c),T=gt(y.G[3],y.H[3],c),c.h)break;n[f]=(T<<24|b<<16|_<<8|E)>>>0}if(b=!1,++f,++u>=i&&(u=0,++l,null!=s&&l<=o&&!(l%16)&&s(t,l),null!=v))for(;A<f;)_=n[A++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else if(280>_){if(_=mt(_-256,c),E=gt(y.G[4],y.H[4],c),M(c),E=vt(i,E=mt(E,c)),c.h)break;if(f-r<E||a-f<_)break t;for(T=0;T<_;++T)n[f+T]=n[f+T-E];for(f+=_,u+=_;u>=i;)u-=i,++l,null!=s&&l<=o&&!(l%16)&&s(t,l);if(e(f<=a),u&g&&(y=bt(h,u,l)),null!=v)for(;A<f;)_=n[A++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else{if(!(_<p))break t;for(b=_-280,e(null!=v);A<f;)_=n[A++],v.X[(506832829*_&4294967295)>>>v.Mb]=_;_=f,e(!(b>>>(E=v).Xa)),n[_]=E.X[b],b=!0}b||e(c.h==w(c))}if(t.Pb&&c.h&&f<a)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&O(t.s.vb,t.s.Wa);else{if(c.h)break t;null!=s&&s(t,l>o?o:l),t.a=0,t.$=f-r}return 1}return t.a=3,0}function Tt(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Pt(){var e=new sn;return null==e?null:(e.a=0,e.xb=pi,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Wn=V,$n=X,tr=Q,er=K,nr=J,rr=$,ir=tt,t.VP8LMapColor32b=Yn,t.VP8LMapColor8b=Kn,e)}function kt(t,n,r,s,l){var u=1,f=[t],d=[n],p=s.m,m=s.s,v=null,g=0;t:for(;;){if(r)for(;u&&y(p,1);){var b=f,_=d,w=s,E=1,T=w.m,P=w.gc[w.ab],k=y(T,2);if(w.Oc&1<<k)u=0;else{switch(w.Oc|=1<<k,P.hc=k,P.Ea=b[0],P.nc=_[0],P.K=[null],++w.ab,e(4>=w.ab),k){case 0:case 1:P.b=y(T,3)+2,E=kt(B(P.Ea,P.b),B(P.nc,P.b),0,w,P.K),P.K=P.K[0];break;case 3:var L,C=y(T,8)+1,R=16<C?0:4<C?1:2<C?2:3;if(b[0]=B(P.Ea,R),P.b=R,L=E=kt(C,1,0,w,P.K)){var O,I=C,D=P,F=1<<(8>>D.b),U=a(F);if(null==U)L=0;else{var z=D.K[0],Z=D.w;for(U[0]=D.K[0][0],O=1;O<1*I;++O)U[O]=q(z[Z+O],U[O-1]);for(;O<4*F;++O)U[O]=0;D.K[0]=null,D.K[0]=U,L=1}}E=L;break;case 2:break;default:e(0)}u=E}}if(f=f[0],d=d[0],u&&y(p,1)&&!(u=1<=(g=y(p,4))&&11>=g)){s.a=3;break t}var j;if(j=u)e:{var H,G,V,W=s,X=f,Y=d,Q=g,K=r,J=W.m,$=W.s,tt=[null],et=1,nt=0,rt=$r[Q];n:for(;;){if(K&&y(J,1)){var it=y(J,3)+2,at=B(X,it),ot=B(Y,it),st=at*ot;if(!kt(at,ot,0,W,tt))break n;for(tt=tt[0],$.xc=it,H=0;H<st;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if(J.h)break n;for(G=0;5>G;++G){var ut=Yr[G];!G&&0<Q&&(ut+=1<<Q),nt<ut&&(nt=ut)}var ct=o(et*rt,h),ht=et,ft=o(ht,A);if(null==ft)var At=null;else e(65536>=ht),At=ft;var dt=a(nt);if(null==At||null==dt||null==ct){W.a=1;break n}var pt=ct;for(H=V=0;H<et;++H){var mt=At[H],vt=mt.G,gt=mt.H,bt=0,_t=1,xt=0;for(G=0;5>G;++G){ut=Yr[G],vt[G]=pt,gt[G]=V,!G&&0<Q&&(ut+=1<<Q);r:{var wt,St=ut,Mt=W,Pt=dt,Lt=pt,Ct=V,Rt=0,Nt=Mt.m,Ot=y(Nt,1);if(i(Pt,0,0,St),Ot){var It=y(Nt,1)+1,Dt=y(Nt,1),Bt=y(Nt,0==Dt?1:8);Pt[Bt]=1,2==It&&(Pt[Bt=y(Nt,8)]=1);var qt=1}else{var Ft=a(19),Ut=y(Nt,4)+4;if(19<Ut){Mt.a=3;var zt=0;break r}for(wt=0;wt<Ut;++wt)Ft[Kr[wt]]=y(Nt,3);var Zt=void 0,jt=void 0,Ht=Mt,Gt=Ft,Vt=St,Wt=Pt,Xt=0,Yt=Ht.m,Qt=8,Kt=o(128,h);i:for(;c(Kt,0,7,Gt,19);){if(y(Yt,1)){var Jt=2+2*y(Yt,3);if((Zt=2+y(Yt,Jt))>Vt)break i}else Zt=Vt;for(jt=0;jt<Vt&&Zt--;){M(Yt);var $t=Kt[0+(127&x(Yt))];S(Yt,Yt.u+$t.g);var te=$t.value;if(16>te)Wt[jt++]=te,0!=te&&(Qt=te);else{var ee=16==te,ne=te-16,re=Xr[ne],ie=y(Yt,Wr[ne])+re;if(jt+ie>Vt)break i;for(var ae=ee?Qt:0;0<ie--;)Wt[jt++]=ae}}Xt=1;break i}Xt||(Ht.a=3),qt=Xt}(qt=qt&&!Nt.h)&&(Rt=c(Lt,Ct,8,Pt,St)),qt&&0!=Rt?zt=Rt:(Mt.a=3,zt=0)}if(0==zt)break n;if(_t&&1==Qr[G]&&(_t=0==pt[V].g),bt+=pt[V].g,V+=zt,3>=G){var oe,se=dt[0];for(oe=1;oe<ut;++oe)dt[oe]>se&&(se=dt[oe]);xt+=se}}if(mt.nd=_t,mt.Qb=0,_t&&(mt.qb=(vt[3][gt[3]+0].value<<24|vt[1][gt[1]+0].value<<16|vt[2][gt[2]+0].value)>>>0,0==bt&&256>vt[0][gt[0]+0].value&&(mt.Qb=1,mt.qb+=vt[0][gt[0]+0].value<<8)),mt.jc=!mt.Qb&&6>xt,mt.jc){var le,ue=mt;for(le=0;le<Fn;++le){var ce=le,he=ue.pd[ce],fe=ue.G[0][ue.H[0]+ce];256<=fe.value?(he.g=fe.g+256,he.value=fe.value):(he.g=0,he.value=0,ce>>=yt(fe,8,he),ce>>=yt(ue.G[1][ue.H[1]+ce],16,he),ce>>=yt(ue.G[2][ue.H[2]+ce],0,he),yt(ue.G[3][ue.H[3]+ce],24,he))}}}$.vc=tt,$.Wb=et,$.Ya=At,$.yc=ct,j=1;break e}j=0}if(!(u=j)){s.a=3;break t}if(0<g){if(m.ua=1<<g,!N(m.Wa,g)){s.a=1,u=0;break t}}else m.ua=0;var Ae=s,de=f,pe=d,me=Ae.s,ve=me.xc;if(Ae.c=de,Ae.i=pe,me.md=B(de,ve),me.wc=0==ve?-1:(1<<ve)-1,r){s.xb=di;break t}if(null==(v=a(f*d))){s.a=1,u=0;break t}u=(u=Et(s,v,0,f,d,d,null))&&!p.h;break t}return u?(null!=l?l[0]=v:(e(null==v),e(r)),s.$=0,r||Tt(m)):Tt(m),u}function Lt(t,n){var r=t.c*t.i,i=r+n+16*n;return e(t.c<=n),t.V=a(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Ct(t,n){var r=t.C,i=n-r,a=t.V,o=t.Ba+t.c*r;for(e(n<=t.l.o);0<i;){var s=16<i?16:i,l=t.l.ma,u=t.l.width,c=u*s,h=l.ca,f=l.tb+u*r,A=t.Ta,d=t.Ua;_t(t,s,a,o),Er(A,d,h,f,c),St(l,r,r+s,h,f,u),i-=s,a+=s*t.c,r+=s}e(r==n),t.C=t.Ma=n}function Rt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function It(){this.Yb=function(){var t=[];return function t(e,n,r){for(var i=r[n],a=0;a<i&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));a++)t(e[a],n+1,r)}(t,0,[3,11]),t}()}function Dt(){this.jb=a(3),this.Wc=s([4,8],It),this.Xc=s([4,17],It)}function Bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function qt(){this.ld=this.La=this.dd=this.tc=0}function Ft(){this.Na=this.la=0}function Ut(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new qt),this.Y=0,this.ya=Array(new zt),this.aa=0,this.l=new Vt}function jt(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Rt,this.Kc=new Nt,this.ed=new Bt,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new Zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,Ut),this.Pa=new Dt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jt),this.Hd=0,this.rb=Array(new Ft),this.sb=0,this.wa=Array(new qt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zt),this.L=this.aa=0,this.gd=s([4,2],qt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gt(t,e){return 0>t?0:t>e?e:t}function Vt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ri||(ri=Kt)),t}function Xt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Yt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Qt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return Xt(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,o=n.ha;if(4>o)return Xt(t,7,"Truncated header.");var s=r[a+0]|r[a+1]<<8|r[a+2]<<16,l=t.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Xt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Xt(t,4,"Frame not displayable.");a+=3,o-=3;var u=t.Kc;if(l.Rb){if(7>o)return Xt(t,7,"cannot parse picture header");if(!Yt(r,a,o))return Xt(t,3,"Bad code word");u.c=16383&(r[a+4]<<8|r[a+3]),u.Td=r[a+4]>>6,u.i=16383&(r[a+6]<<8|r[a+5]),u.Ud=r[a+6]>>6,a+=7,o-=7,t.za=u.c+15>>4,t.Ub=u.i+15>>4,n.width=u.c,n.height=u.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=t.Pa).jb,0,255,s.jb.length),e(null!=(s=t.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(l.ub>o)return Xt(t,7,"bad partition length");d(s=t.m,r,a,l.ub),a+=l.ub,o-=l.ub,l.Rb&&(u.Ld=T(s),u.Kd=T(s)),u=t.Qa;var c,h=t.Pa;if(e(null!=s),e(null!=u),u.Cb=T(s),u.Cb){if(u.Bb=T(s),T(s)){for(u.Fb=T(s),c=0;4>c;++c)u.Zb[c]=T(s)?m(s,7):0;for(c=0;4>c;++c)u.Lb[c]=T(s)?m(s,6):0}if(u.Bb)for(c=0;3>c;++c)h.jb[c]=T(s)?p(s,8):255}else u.Bb=0;if(s.Ka)return Xt(t,3,"cannot parse segment header");if((u=t.ed).zd=T(s),u.Tb=p(s,6),u.wb=p(s,3),u.Pc=T(s),u.Pc&&T(s)){for(h=0;4>h;++h)T(s)&&(u.vd[h]=m(s,6));for(h=0;4>h;++h)T(s)&&(u.od[h]=m(s,6))}if(t.L=0==u.Tb?0:u.zd?1:2,s.Ka)return Xt(t,3,"cannot parse filter header");var f=o;if(o=c=a,a=c+f,u=f,t.Xb=(1<<p(t.m,2))-1,f<3*(h=t.Xb))r=7;else{for(c+=3*h,u-=3*h,f=0;f<h;++f){var A=r[o+0]|r[o+1]<<8|r[o+2]<<16;A>u&&(A=u),d(t.Jc[+f],r,c,A),c+=A,u-=A,o+=3}d(t.Jc[+h],r,c,u),r=c<a?0:5}if(0!=r)return Xt(t,r,"cannot parse partitions");for(r=p(c=t.m,7),o=T(c)?m(c,4):0,a=T(c)?m(c,4):0,u=T(c)?m(c,4):0,h=T(c)?m(c,4):0,c=T(c)?m(c,4):0,f=t.Qa,A=0;4>A;++A){if(f.Cb){var v=f.Zb[A];f.Fb||(v+=r)}else{if(0<A){t.pb[A]=t.pb[0];continue}v=r}var g=t.pb[A];g.Sc[0]=ei[Gt(v+o,127)],g.Sc[1]=ni[Gt(v+0,127)],g.Eb[0]=2*ei[Gt(v+a,127)],g.Eb[1]=101581*ni[Gt(v+u,127)]>>16,8>g.Eb[1]&&(g.Eb[1]=8),g.Qc[0]=ei[Gt(v+h,117)],g.Qc[1]=ni[Gt(v+c,127)],g.lc=v+c}if(!l.Rb)return Xt(t,4,"Not a key frame.");for(T(s),l=t.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(a=0;3>a;++a)for(u=0;11>u;++u)h=P(s,ui[r][o][a][u])?p(s,8):si[r][o][a][u],l.Wc[r][o].Yb[a][u]=h;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ci[o]]}return t.kc=T(s),t.kc&&(t.Bd=p(s,8)),t.cb=1}function Kt(t,e,n,r,i,a,o){var s=e[i].Yb[n];for(n=0;16>i;++i){if(!P(t,s[n+0]))return i;for(;!P(t,s[n+1]);)if(s=e[++i].Yb[0],n=0,16==i)return 16;var l=e[i+1].Yb;if(P(t,s[n+2])){var u=t,c=0;if(P(u,(f=s)[(h=n)+3]))if(P(u,f[h+6])){for(s=0,h=2*(c=P(u,f[h+8]))+(f=P(u,f[h+9+c])),c=0,f=ii[h];f[s];++s)c+=c+P(u,f[s]);c+=3+(8<<h)}else P(u,f[h+7])?(c=7+2*P(u,165),c+=P(u,145)):c=5+P(u,159);else c=P(u,f[h+4])?3+P(u,f[h+5]):2;s=l[2]}else c=1,s=l[1];l=o+ai[i],0>(u=t).b&&E(u);var h,f=u.b,A=(h=u.Ca>>1)-(u.I>>f)>>31;--u.b,u.Ca+=A,u.Ca|=1,u.I-=(h+1&A)<<f,a[l]=((c^A)-A)*r[(0<i)+0]}return 16}function Jt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,i(t.zc,0,0,t.zc.length),t.ja=0}function $t(t,n){if(null==t)return 0;if(null==n)return Xt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Qt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var s=Fi[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-s>>4,t.zb=n.j-s>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+s>>4,t.Hb=n.va+15+s>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(s=0;4>s;++s){var u;if(t.Qa.Cb){var c=t.Qa.Lb[s];t.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(u=0;1>=u;++u){var h=t.gd[s][u],f=c;if(l.Pc&&(f+=l.vd[0],u&&(f+=l.od[0])),0<(f=0>f?0:63<f?63:f)){var A=f;0<l.wb&&(A=4<l.wb?A>>2:A>>1)>9-l.wb&&(A=9-l.wb),1>A&&(A=1),h.dd=A,h.tc=2*f+A,h.ld=40<=f?2:15<=f?1:0}else h.tc=0;h.La=u}}}s=0}else Xt(t,6,"Frame setup failed"),s=t.a;if(s=0==s){if(s){t.$c=0,0<t.Aa||(t.Ic=zi);t:{s=t.Ic,l=4*(A=t.za);var d=32*A,p=A+1,m=0<t.L?A*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*A;if((h=l+832+(u=3*(16*s+Fi[t.L])/2*d)+(c=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)s=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=a(h),t.Fc=0,null==t.Ec){s=Xt(t,1,"no memory during frame initialization.");break t}t.Vb=h}h=t.Ec,f=t.Fc,t.Ac=h,t.Bc=f,f+=l,t.Gd=o(d,jt),t.Hd=0,t.rb=o(p+1,Ft),t.sb=1,t.wa=m?o(m,qt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=A),e(!0),t.oc=h,t.pc=f,f+=832,t.ya=o(v,zt),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=A),t.R=16*A,t.B=8*A,A=(d=Fi[t.L])*t.R,d=d/2*t.B,t.sa=h,t.ta=f+A,t.qa=t.sa,t.ra=t.ta+16*s*t.R+d,t.Ha=t.qa,t.Ia=t.ra+8*s*t.B+d,t.$c=0,f+=u,t.mb=c?h:null,t.nb=c?f:null,e(f+c<=t.Fc+t.Vb),Jt(t),i(t.Ac,t.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Cr){for(s=-255;255>=s;++s)Tr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Pr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)kr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Lr[255+s]=0>s?0:255<s?255:s;Cr=1}ar=ue,or=ae,lr=oe,ur=se,cr=le,sr=ie,hr=Xe,fr=Ye,Ar=Je,dr=$e,pr=Qe,mr=Ke,vr=tn,gr=en,yr=Ze,br=je,_r=He,xr=Ge,fi[0]=Se,fi[1]=he,fi[2]=xe,fi[3]=we,fi[4]=Me,fi[5]=Te,fi[6]=Ee,fi[7]=Pe,fi[8]=Le,fi[9]=ke,hi[0]=ve,hi[1]=Ae,hi[2]=de,hi[3]=pe,hi[4]=ge,hi[5]=ye,hi[6]=be,Ai[0]=Oe,Ai[1]=fe,Ai[2]=Ce,Ai[3]=Re,Ai[4]=De,Ai[5]=Ie,Ai[6]=Be,s=1}else s=0}s&&(s=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var o,s=t.Jc[t.M&t.Xb],l=t.m,u=t;for(o=0;o<u.za;++o){var c=l,h=u,f=h.Ac,A=h.Bc+4*o,d=h.zc,p=h.ya[h.aa+o];if(h.Qa.Bb?p.$b=P(c,h.Pa.jb[0])?2+P(c,h.Pa.jb[2]):P(c,h.Pa.jb[1]):p.$b=0,h.kc&&(p.Ad=P(c,h.Bd)),p.Za=!P(c,145)+0,p.Za){var m=p.Ob,v=0;for(h=0;4>h;++h){var g,y=d[0+h];for(g=0;4>g;++g){y=li[f[A+g]][y];for(var b=oi[P(c,y[0])];0<b;)b=oi[2*b+P(c,y[b])];y=-b,f[A+g]=y}r(m,v,f,A,4),v+=4,d[0+h]=y}}else y=P(c,156)?P(c,128)?1:3:P(c,163)?2:0,p.Ob[0]=y,i(f,A,y,4),i(d,0,y,4);p.Dd=P(c,142)?P(c,114)?P(c,183)?1:3:2:0}if(u.m.Ka)return Xt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(u=s,c=(l=t).rb[l.sb-1],f=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],A=l.kc?o.Ad:0)c.la=f.la=0,o.Za||(c.Na=f.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var _,x;if(c=f,f=u,A=l.Pa.Xc,d=l.ya[l.aa+l.ja],p=l.pb[d.$b],h=d.ad,m=0,v=l.rb[l.sb-1],y=g=0,i(h,m,0,384),d.Za)var w=0,S=A[3];else{b=a(16);var M=c.Na+v.Na;if(M=ri(f,A[1],M,p.Eb,0,b,0),c.Na=v.Na=(0<M)+0,1<M)ar(b,0,h,m);else{var E=b[0]+3>>3;for(b=0;256>b;b+=16)h[m+b]=E}w=1,S=A[0]}var T=15&c.la,k=15&v.la;for(b=0;4>b;++b){var L=1&k;for(E=x=0;4>E;++E)T=T>>1|(L=(M=ri(f,S,M=L+(1&T),p.Sc,w,h,m))>w)<<7,x=x<<2|(3<M?3:1<M?2:0!=h[m+0]),m+=16;T>>=4,k=k>>1|L<<7,g=(g<<8|x)>>>0}for(S=T,w=k>>4,_=0;4>_;_+=2){for(x=0,T=c.la>>4+_,k=v.la>>4+_,b=0;2>b;++b){for(L=1&k,E=0;2>E;++E)M=L+(1&T),T=T>>1|(L=0<(M=ri(f,A[2],M,p.Qc,0,h,m)))<<3,x=x<<2|(3<M?3:1<M?2:0!=h[m+0]),m+=16;T>>=2,k=k>>1|L<<5}y|=x<<4*_,S|=T<<4<<_,w|=(240&k)<<_}c.la=S,v.la=w,d.Hc=g,d.Gc=y,d.ia=43690&y?0:p.ia,A=!(g|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!A),u.Ka)return Xt(t,7,"Premature end-of-file encountered.")}if(Jt(t),l=n,u=1,o=(s=t).D,c=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)t:{if(o.M=s.M,o.uc=c,On(s,o),u=1,o=(x=s.D).Nb,c=(y=Fi[s.L])*s.R,f=y/2*s.B,b=16*o*s.R,E=8*o*s.B,A=s.sa,d=s.ta-c+b,p=s.qa,h=s.ra-f+E,m=s.Ha,v=s.Ia-f+E,k=0==(T=x.M),g=T>=s.Va-1,2==s.Aa&&On(s,x),x.uc)for(L=(M=s).D.M,e(M.D.uc),x=M.yb;x<M.Hb;++x){w=x,S=L;var C=(R=(z=M).D).Nb;_=z.R;var R=R.wa[R.Y+w],N=z.sa,O=z.ta+16*C*_+16*w,I=R.dd,D=R.tc;if(0!=D)if(e(3<=D),1==z.L)0<w&&br(N,O,_,D+4),R.La&&xr(N,O,_,D),0<S&&yr(N,O,_,D+4),R.La&&_r(N,O,_,D);else{var B=z.B,q=z.qa,F=z.ra+8*C*B+8*w,U=z.Ha,z=z.Ia+8*C*B+8*w;C=R.ld,0<w&&(fr(N,O,_,D+4,I,C),dr(q,F,U,z,B,D+4,I,C)),R.La&&(mr(N,O,_,D,I,C),gr(q,F,U,z,B,D,I,C)),0<S&&(hr(N,O,_,D+4,I,C),Ar(q,F,U,z,B,D+4,I,C)),R.La&&(pr(N,O,_,D,I,C),vr(q,F,U,z,B,D,I,C))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*T,T=16*(T+1),k?(l.y=s.sa,l.O=s.ta+b,l.f=s.qa,l.N=s.ra+E,l.ea=s.Ha,l.W=s.Ia+E):(x-=y,l.y=A,l.O=d,l.f=p,l.N=h,l.ea=m,l.W=v),g||(T-=y),T>l.o&&(T=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&x<T&&(l.J=fn(s,l,x,T-x),l.F=s.mb,null==l.F&&0==l.F.length)){u=Xt(s,3,"Could not decode alpha data.");break t}x<l.j&&(y=l.j-x,x=l.j,e(!(1&y)),l.O+=s.R*y,l.N+=s.B*(y>>1),l.W+=s.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),x<T&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=T-x,u=l.put(l))}o+1!=s.Ic||g||(r(s.sa,s.ta-c,A,d+16*s.R,c),r(s.qa,s.ra-f,p,h+8*s.B,f),r(s.Ha,s.Ia-f,m,v+8*s.B,f))}if(!u)return Xt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),s&=1}return s?(t.cb=0,s):0}function te(t,e,n,r,i){i=t[e+n+32*r]+(i>>3),t[e+n+32*r]=-256&i?0>i?0:255:i}function ee(t,e,n,r,i,a){te(t,e,0,n,r+i),te(t,e,1,n,r+a),te(t,e,2,n,r-a),te(t,e,3,n,r-i)}function ne(t){return(20091*t>>16)+t}function re(t,e,n,r){var i,o=0,s=a(16);for(i=0;4>i;++i){var l=t[e+0]+t[e+8],u=t[e+0]-t[e+8],c=(35468*t[e+4]>>16)-ne(t[e+12]),h=ne(t[e+4])+(35468*t[e+12]>>16);s[o+0]=l+h,s[o+1]=u+c,s[o+2]=u-c,s[o+3]=l-h,o+=4,e++}for(i=o=0;4>i;++i)l=(t=s[o+0]+4)+s[o+8],u=t-s[o+8],c=(35468*s[o+4]>>16)-ne(s[o+12]),te(n,r,0,0,l+(h=ne(s[o+4])+(35468*s[o+12]>>16))),te(n,r,1,0,u+c),te(n,r,2,0,u-c),te(n,r,3,0,l-h),o++,r+=32}function ie(t,e,n,r){var i=t[e+0]+4,a=35468*t[e+4]>>16,o=ne(t[e+4]),s=35468*t[e+1]>>16;ee(n,r,0,i+o,t=ne(t[e+1]),s),ee(n,r,1,i+a,t,s),ee(n,r,2,i-a,t,s),ee(n,r,3,i-o,t,s)}function ae(t,e,n,r,i){re(t,e,n,r),i&&re(t,e+16,n,r+4)}function oe(t,e,n,r){or(t,e+0,n,r,1),or(t,e+32,n,r+128,1)}function se(t,e,n,r){var i;for(t=t[e+0]+4,i=0;4>i;++i)for(e=0;4>e;++e)te(n,r,e,i,t)}function le(t,e,n,r){t[e+0]&&ur(t,e+0,n,r),t[e+16]&&ur(t,e+16,n,r+4),t[e+32]&&ur(t,e+32,n,r+128),t[e+48]&&ur(t,e+48,n,r+128+4)}function ue(t,e,n,r){var i,o=a(16);for(i=0;4>i;++i){var s=t[e+0+i]+t[e+12+i],l=t[e+4+i]+t[e+8+i],u=t[e+4+i]-t[e+8+i],c=t[e+0+i]-t[e+12+i];o[0+i]=s+l,o[8+i]=s-l,o[4+i]=c+u,o[12+i]=c-u}for(i=0;4>i;++i)s=(t=o[0+4*i]+3)+o[3+4*i],l=o[1+4*i]+o[2+4*i],u=o[1+4*i]-o[2+4*i],c=t-o[3+4*i],n[r+0]=s+l>>3,n[r+16]=c+u>>3,n[r+32]=s-l>>3,n[r+48]=c-u>>3,r+=64}function ce(t,e,n){var r,i=e-32,a=Or,o=255-t[i-1];for(r=0;r<n;++r){var s,l=a,u=o+t[e-1];for(s=0;s<n;++s)t[e+s]=l[u+t[i+s]];e+=32}}function he(t,e){ce(t,e,4)}function fe(t,e){ce(t,e,8)}function Ae(t,e){ce(t,e,16)}function de(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function pe(t,e){var n;for(n=16;0<n;--n)i(t,e,t[e-1],16),e+=32}function me(t,e,n){var r;for(r=0;16>r;++r)i(e,n+32*r,t,16)}function ve(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];me(r>>5,t,e)}function ge(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];me(r>>4,t,e)}function ye(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];me(r>>4,t,e)}function be(t,e){me(128,t,e)}function _e(t,e,n){return t+2*e+n+2>>2}function xe(t,e){var n,i=e-32;for(i=new Uint8Array([_e(t[i-1],t[i+0],t[i+1]),_e(t[i+0],t[i+1],t[i+2]),_e(t[i+1],t[i+2],t[i+3]),_e(t[i+2],t[i+3],t[i+4])]),n=0;4>n;++n)r(t,e+32*n,i,0,i.length)}function we(t,e){var n=t[e-1],r=t[e-1+32],i=t[e-1+64],a=t[e-1+96];k(t,e+0,16843009*_e(t[e-1-32],n,r)),k(t,e+32,16843009*_e(n,r,i)),k(t,e+64,16843009*_e(r,i,a)),k(t,e+96,16843009*_e(i,a,a))}function Se(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)i(t,e+32*n,r,4)}function Me(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],a=t[e-1-32],o=t[e+0-32],s=t[e+1-32],l=t[e+2-32],u=t[e+3-32];t[e+0+96]=_e(r,i,t[e-1+96]),t[e+1+96]=t[e+0+64]=_e(n,r,i),t[e+2+96]=t[e+1+64]=t[e+0+32]=_e(a,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=_e(o,a,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=_e(s,o,a),t[e+3+32]=t[e+2+0]=_e(l,s,o),t[e+3+0]=_e(u,l,s)}function Ee(t,e){var n=t[e+1-32],r=t[e+2-32],i=t[e+3-32],a=t[e+4-32],o=t[e+5-32],s=t[e+6-32],l=t[e+7-32];t[e+0+0]=_e(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=_e(n,r,i),t[e+2+0]=t[e+1+32]=t[e+0+64]=_e(r,i,a),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=_e(i,a,o),t[e+3+32]=t[e+2+64]=t[e+1+96]=_e(a,o,s),t[e+3+64]=t[e+2+96]=_e(o,s,l),t[e+3+96]=_e(s,l,l)}function Te(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],a=t[e-1-32],o=t[e+0-32],s=t[e+1-32],l=t[e+2-32],u=t[e+3-32];t[e+0+0]=t[e+1+64]=a+o+1>>1,t[e+1+0]=t[e+2+64]=o+s+1>>1,t[e+2+0]=t[e+3+64]=s+l+1>>1,t[e+3+0]=l+u+1>>1,t[e+0+96]=_e(i,r,n),t[e+0+64]=_e(r,n,a),t[e+0+32]=t[e+1+96]=_e(n,a,o),t[e+1+32]=t[e+2+96]=_e(a,o,s),t[e+2+32]=t[e+3+96]=_e(o,s,l),t[e+3+32]=_e(s,l,u)}function Pe(t,e){var n=t[e+0-32],r=t[e+1-32],i=t[e+2-32],a=t[e+3-32],o=t[e+4-32],s=t[e+5-32],l=t[e+6-32],u=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+i+1>>1,t[e+2+0]=t[e+1+64]=i+a+1>>1,t[e+3+0]=t[e+2+64]=a+o+1>>1,t[e+0+32]=_e(n,r,i),t[e+1+32]=t[e+0+96]=_e(r,i,a),t[e+2+32]=t[e+1+96]=_e(i,a,o),t[e+3+32]=t[e+2+96]=_e(a,o,s),t[e+3+64]=_e(o,s,l),t[e+3+96]=_e(s,l,u)}function ke(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],a=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+i+1>>1,t[e+2+32]=t[e+0+64]=i+a+1>>1,t[e+1+0]=_e(n,r,i),t[e+3+0]=t[e+1+32]=_e(r,i,a),t[e+3+32]=t[e+1+64]=_e(i,a,a),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=a}function Le(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],a=t[e-1+96],o=t[e-1-32],s=t[e+0-32],l=t[e+1-32],u=t[e+2-32];t[e+0+0]=t[e+2+32]=n+o+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=i+r+1>>1,t[e+0+96]=a+i+1>>1,t[e+3+0]=_e(s,l,u),t[e+2+0]=_e(o,s,l),t[e+1+0]=t[e+3+32]=_e(n,o,s),t[e+1+32]=t[e+3+64]=_e(r,n,o),t[e+1+64]=t[e+3+96]=_e(i,r,n),t[e+1+96]=_e(a,i,r)}function Ce(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Re(t,e){var n;for(n=0;8>n;++n)i(t,e,t[e-1],8),e+=32}function Ne(t,e,n){var r;for(r=0;8>r;++r)i(e,n+32*r,t,8)}function Oe(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Ne(r>>4,t,e)}function Ie(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Ne(r>>3,t,e)}function De(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Ne(r>>3,t,e)}function Be(t,e){Ne(128,t,e)}function qe(t,e,n){var r=t[e-n],i=t[e+0],a=3*(i-r)+Rr[1020+t[e-2*n]-t[e+n]],o=Nr[112+(a+4>>3)];t[e-n]=Or[255+r+Nr[112+(a+3>>3)]],t[e+0]=Or[255+i-o]}function Fe(t,e,n,r){var i=t[e+0],a=t[e+n];return Ir[255+t[e-2*n]-t[e-n]]>r||Ir[255+a-i]>r}function Ue(t,e,n,r){return 4*Ir[255+t[e-n]-t[e+0]]+Ir[255+t[e-2*n]-t[e+n]]<=r}function ze(t,e,n,r,i){var a=t[e-3*n],o=t[e-2*n],s=t[e-n],l=t[e+0],u=t[e+n],c=t[e+2*n],h=t[e+3*n];return 4*Ir[255+s-l]+Ir[255+o-u]>r?0:Ir[255+t[e-4*n]-a]<=i&&Ir[255+a-o]<=i&&Ir[255+o-s]<=i&&Ir[255+h-c]<=i&&Ir[255+c-u]<=i&&Ir[255+u-l]<=i}function Ze(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Ue(t,e+r,n,i)&&qe(t,e+r,n)}function je(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Ue(t,e+r*n,1,i)&&qe(t,e+r*n,1)}function He(t,e,n,r){var i;for(i=3;0<i;--i)Ze(t,e+=4*n,n,r)}function Ge(t,e,n,r){var i;for(i=3;0<i;--i)je(t,e+=4,n,r)}function Ve(t,e,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(ze(t,e,n,a,o))if(Fe(t,e,n,s))qe(t,e,n);else{var l=t,u=e,c=n,h=l[u-2*c],f=l[u-c],A=l[u+0],d=l[u+c],p=l[u+2*c],m=27*(g=Rr[1020+3*(A-f)+Rr[1020+h-d]])+63>>7,v=18*g+63>>7,g=9*g+63>>7;l[u-3*c]=Or[255+l[u-3*c]+g],l[u-2*c]=Or[255+h+v],l[u-c]=Or[255+f+m],l[u+0]=Or[255+A-m],l[u+c]=Or[255+d-v],l[u+2*c]=Or[255+p-g]}e+=r}}function We(t,e,n,r,i,a,o,s){for(a=2*a+1;0<i--;){if(ze(t,e,n,a,o))if(Fe(t,e,n,s))qe(t,e,n);else{var l=t,u=e,c=n,h=l[u-c],f=l[u+0],A=l[u+c],d=Nr[112+(4+(p=3*(f-h))>>3)],p=Nr[112+(p+3>>3)],m=d+1>>1;l[u-2*c]=Or[255+l[u-2*c]+m],l[u-c]=Or[255+h+p],l[u+0]=Or[255+f-d],l[u+c]=Or[255+A-m]}e+=r}}function Xe(t,e,n,r,i,a){Ve(t,e,n,1,16,r,i,a)}function Ye(t,e,n,r,i,a){Ve(t,e,1,n,16,r,i,a)}function Qe(t,e,n,r,i,a){var o;for(o=3;0<o;--o)We(t,e+=4*n,n,1,16,r,i,a)}function Ke(t,e,n,r,i,a){var o;for(o=3;0<o;--o)We(t,e+=4,1,n,16,r,i,a)}function Je(t,e,n,r,i,a,o,s){Ve(t,e,i,1,8,a,o,s),Ve(n,r,i,1,8,a,o,s)}function $e(t,e,n,r,i,a,o,s){Ve(t,e,1,i,8,a,o,s),Ve(n,r,1,i,8,a,o,s)}function tn(t,e,n,r,i,a,o,s){We(t,e+4*i,i,1,8,a,o,s),We(n,r+4*i,i,1,8,a,o,s)}function en(t,e,n,r,i,a,o,s){We(t,e+4,1,i,8,a,o,s),We(n,r+4,1,i,8,a,o,s)}function nn(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function an(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new h}function sn(){this.xb=this.a=0,this.l=new Vt,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,an),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(t,e,n,r,i,a,o){for(t=null==t?0:t[e+0],e=0;e<o;++e)i[a+e]=t+n[r+e]&255,t=i[a+e]}function cn(t,e,n,r,i,a,o){var s;if(null==t)un(null,null,n,r,i,a,o);else for(s=0;s<o;++s)i[a+s]=t[e+s]+n[r+s]&255}function hn(t,e,n,r,i,a,o){if(null==t)un(null,null,n,r,i,a,o);else{var s,l=t[e+0],u=l,c=l;for(s=0;s<o;++s)u=c+(l=t[e+s])-u,c=n[r+s]+(-256&u?0>u?0:255:u)&255,u=l,i[a+s]=c}}function fn(t,n,i,o){var s=n.width,l=n.o;if(e(null!=t&&null!=n),0>i||0>=o||i+o>l)return null;if(!t.Cc){if(null==t.ga){var u;if(t.ga=new ln,(u=null==t.ga)||(u=n.width*n.o,e(0==t.Gb.length),t.Gb=a(u),t.Uc=0,null==t.Gb?u=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,u=1),u=!u),!u){u=t.ga;var c=t.Fa,h=t.P,f=t.qc,A=t.mb,d=t.nb,p=h+1,m=f-1,g=u.l;if(e(null!=c&&null!=A&&null!=n),mi[0]=null,mi[1]=un,mi[2]=cn,mi[3]=hn,u.ca=A,u.tb=d,u.c=n.width,u.i=n.height,e(0<u.c&&0<u.i),1>=f)n=0;else if(u.$a=c[h+0]>>0&3,u.Z=c[h+0]>>2&3,u.Lc=c[h+0]>>4&3,h=c[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)n=0;else if(g.put=At,g.ac=ft,g.bc=dt,g.ma=u,g.width=n.width,g.height=n.height,g.Da=n.Da,g.v=n.v,g.va=n.va,g.j=n.j,g.o=n.o,u.$a)t:{e(1==u.$a),n=Pt();e:for(;;){if(null==n){n=0;break t}if(e(null!=u),u.mc=n,n.c=u.c,n.i=u.i,n.l=u.l,n.l.ma=u,n.l.width=u.c,n.l.height=u.i,n.a=0,v(n.m,c,p,m),!kt(u.c,u.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&wt(n.s)?(u.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(u.ic=0,n=Lt(n,u.c)),!n)break e;n=1;break t}u.mc=null,n=0}else n=m>=u.c*u.i;u=!n}if(u)return null;1!=t.ga.Lc?t.Ga=0:o=l-i}e(null!=t.ga),e(i+o<=l);t:{if(n=(c=t.ga).c,l=c.l.o,0==c.$a){if(p=t.rc,m=t.Vc,g=t.Fa,h=t.P+1+i*n,f=t.mb,A=t.nb+i*n,e(h<=t.P+t.qc),0!=c.Z)for(e(null!=mi[c.Z]),u=0;u<o;++u)mi[c.Z](p,m,g,h,f,A,n),p=f,m=A,A+=n,h+=n;else for(u=0;u<o;++u)r(f,A,g,h,n),p=f,m=A,A+=n,h+=n;t.rc=p,t.Vc=m}else{if(e(null!=c.mc),n=i+o,e(null!=(u=c.mc)),e(n<=u.i),u.C>=n)n=1;else if(c.ic||vn(),c.ic){c=u.V,p=u.Ba,m=u.c;var y=u.i,b=(g=1,h=u.$/m,f=u.$%m,A=u.m,d=u.s,u.$),_=m*y,x=m*n,S=d.wc,E=b<x?bt(d,f,h):null;e(b<=_),e(n<=y),e(wt(d));e:for(;;){for(;!A.h&&b<x;){if(f&S||(E=bt(d,f,h)),e(null!=E),M(A),256>(y=gt(E.G[0],E.H[0],A)))c[p+b]=y,++b,++f>=m&&(f=0,++h<=n&&!(h%16)&&Mt(u,h));else{if(!(280>y)){g=0;break e}y=mt(y-256,A);var T,P=gt(E.G[4],E.H[4],A);if(M(A),!(b>=(P=vt(m,P=mt(P,A)))&&_-b>=y)){g=0;break e}for(T=0;T<y;++T)c[p+b+T]=c[p+b+T-P];for(b+=y,f+=y;f>=m;)f-=m,++h<=n&&!(h%16)&&Mt(u,h);b<x&&f&S&&(E=bt(d,f,h))}e(A.h==w(A))}Mt(u,h>n?n:h);break e}!g||A.h&&b<_?(g=0,u.a=A.h?5:3):u.$=b,n=g}else n=Et(u,u.V,u.Ba,u.c,u.i,n,Ct);if(!n){o=0;break t}}i+o>=l&&(t.Cc=1),o=1}if(!o)return null;if(t.Cc&&(null!=(o=t.ga)&&(o.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+i*s}function An(t,e,n,r,i,a){for(;0<i--;){var o,s=t,l=e+(n?1:0),u=t,c=e+(n?0:3);for(o=0;o<r;++o){var h=u[c+4*o];255!=h&&(h*=32897,s[l+4*o+0]=s[l+4*o+0]*h>>23,s[l+4*o+1]=s[l+4*o+1]*h>>23,s[l+4*o+2]=s[l+4*o+2]*h>>23)}e+=a}}function dn(t,e,n,r,i){for(;0<r--;){var a;for(a=0;a<n;++a){var o=t[e+2*a+0],s=15&(u=t[e+2*a+1]),l=4369*s,u=(240&u|u>>4)*l>>16;t[e+2*a+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,t[e+2*a+1]=240&u|s}e+=i}}function pn(t,e,n,r,i,a,o,s){var l,u,c=255;for(u=0;u<i;++u){for(l=0;l<r;++l){var h=t[e+l];a[o+4*l]=h,c&=h}e+=n,o+=s}return 255!=c}function mn(t,e,n,r,i){var a;for(a=0;a<i;++a)n[r+a]=t[e+a]>>8}function vn(){wr=An,Sr=dn,Mr=pn,Er=mn}function gn(n,r,i){t[n]=function(t,n,a,o,s,l,u,c,h,f,A,d,p,m,v,g,y){var b,_=y-1>>1,x=s[l+0]|u[c+0]<<16,w=h[f+0]|A[d+0]<<16;e(null!=t);var S=3*x+w+131074>>2;for(r(t[n+0],255&S,S>>16,p,m),null!=a&&(S=3*w+x+131074>>2,r(a[o+0],255&S,S>>16,v,g)),b=1;b<=_;++b){var M=s[l+b]|u[c+b]<<16,E=h[f+b]|A[d+b]<<16,T=x+M+w+E+524296,P=T+2*(M+w)>>3;S=P+x>>1,x=(T=T+2*(x+E)>>3)+M>>1,r(t[n+2*b-1],255&S,S>>16,p,m+(2*b-1)*i),r(t[n+2*b-0],255&x,x>>16,p,m+(2*b-0)*i),null!=a&&(S=T+w>>1,x=P+E>>1,r(a[o+2*b-1],255&S,S>>16,v,g+(2*b-1)*i),r(a[o+2*b+0],255&x,x>>16,v,g+(2*b+0)*i)),x=M,w=E}1&y||(S=3*x+w+131074>>2,r(t[n+y-1],255&S,S>>16,p,m+(y-1)*i),null!=a&&(S=3*w+x+131074>>2,r(a[o+y-1],255&S,S>>16,v,g+(y-1)*i)))}}function yn(){vi[Dr]=gi,vi[Br]=bi,vi[qr]=yi,vi[Fr]=_i,vi[Ur]=xi,vi[zr]=wi,vi[Zr]=Si,vi[jr]=bi,vi[Hr]=_i,vi[Gr]=xi,vi[Vr]=wi}function bn(t){return t&~Li?0>t?0:255:t>>ki}function _n(t,e){return bn((19077*t>>8)+(26149*e>>8)-14234)}function xn(t,e,n){return bn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function wn(t,e){return bn((19077*t>>8)+(33050*e>>8)-17685)}function Sn(t,e,n,r,i){r[i+0]=_n(t,n),r[i+1]=xn(t,e,n),r[i+2]=wn(t,e)}function Mn(t,e,n,r,i){r[i+0]=wn(t,e),r[i+1]=xn(t,e,n),r[i+2]=_n(t,n)}function En(t,e,n,r,i){var a=xn(t,e,n);e=a<<3&224|wn(t,e)>>3,r[i+0]=248&_n(t,n)|a>>5,r[i+1]=e}function Tn(t,e,n,r,i){var a=240&wn(t,e)|15;r[i+0]=240&_n(t,n)|xn(t,e,n)>>4,r[i+1]=a}function Pn(t,e,n,r,i){r[i+0]=255,Sn(t,e,n,r,i+1)}function kn(t,e,n,r,i){Mn(t,e,n,r,i),r[i+3]=255}function Ln(t,e,n,r,i){Sn(t,e,n,r,i),r[i+3]=255}function Gt(t,e){return 0>t?0:t>e?e:t}function Cn(e,n,r){t[e]=function(t,e,i,a,o,s,l,u,c){for(var h=u+(-2&c)*r;u!=h;)n(t[e+0],i[a+0],o[s+0],l,u),n(t[e+1],i[a+0],o[s+0],l,u+r),e+=2,++a,++s,u+=2*r;1&c&&n(t[e+0],i[a+0],o[s+0],l,u)}}function Rn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Nn(t,e,n,r,i){switch(t>>>30){case 3:or(e,n,r,i,0);break;case 2:sr(e,n,r,i);break;case 1:ur(e,n,r,i)}}function On(t,e){var n,a,o=e.M,s=e.Nb,l=t.oc,u=t.pc+40,c=t.oc,h=t.pc+584,f=t.oc,A=t.pc+600;for(n=0;16>n;++n)l[u+32*n-1]=129;for(n=0;8>n;++n)c[h+32*n-1]=129,f[A+32*n-1]=129;for(0<o?l[u-1-32]=c[h-1-32]=f[A-1-32]=129:(i(l,u-32-1,127,21),i(c,h-32-1,127,9),i(f,A-32-1,127,9)),a=0;a<t.za;++a){var d=e.ya[e.aa+a];if(0<a){for(n=-1;16>n;++n)r(l,u+32*n-4,l,u+32*n+12,4);for(n=-1;8>n;++n)r(c,h+32*n-4,c,h+32*n+4,4),r(f,A+32*n-4,f,A+32*n+4,4)}var p=t.Gd,m=t.Hd+a,v=d.ad,g=d.Hc;if(0<o&&(r(l,u-32,p[m].y,0,16),r(c,h-32,p[m].f,0,8),r(f,A-32,p[m].ea,0,8)),d.Za){var y=l,b=u-32+16;for(0<o&&(a>=t.za-1?i(y,b,p[m].y[15],4):r(y,b,p[m+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,g<<=2)y=l,b=u+qi[n],fi[d.Ob[n]](y,b),Nn(g,v,16*+n,y,b)}else if(y=Rn(a,o,d.Ob[0]),hi[y](l,u),0!=g)for(n=0;16>n;++n,g<<=2)Nn(g,v,16*+n,l,u+qi[n]);for(n=d.Gc,y=Rn(a,o,d.Dd),Ai[y](c,h),Ai[y](f,A),g=v,y=c,b=h,255&(d=n>>0)&&(170&d?lr(g,256,y,b):cr(g,256,y,b)),d=f,g=A,255&(n>>=8)&&(170&n?lr(v,320,d,g):cr(v,320,d,g)),o<t.Ub-1&&(r(p[m].y,0,l,u+480,16),r(p[m].f,0,c,h+224,8),r(p[m].ea,0,f,A+224,8)),n=8*s*t.B,p=t.sa,m=t.ta+16*a+16*s*t.R,v=t.qa,d=t.ra+8*a+n,g=t.Ha,y=t.Ia+8*a+n,n=0;16>n;++n)r(p,m+n*t.R,l,u+32*n,16);for(n=0;8>n;++n)r(v,d+n*t.B,c,h+32*n,8),r(g,y+n*t.B,f,A+32*n,8)}}function In(t,r,i,a,o,s,l,u,c){var h=[0],f=[0],A=0,d=null!=c?c.kd:0,p=null!=c?c:new rn;if(null==t||12>i)return 7;p.data=t,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];t:{var m=r,g=i,y=p.gb;if(e(null!=t),e(null!=g),e(null!=y),y[0]=0,12<=g[0]&&!n(t,m[0],"RIFF")){if(n(t,m[0]+8,"WEBP")){y=3;break t}var b=R(t,m[0]+4);if(12>b||4294967286<b){y=3;break t}if(d&&b>g[0]-8){y=7;break t}y[0]=b,m[0]+=12,g[0]-=12}y=0}if(0!=y)return y;for(b=0<p.gb[0],i=i[0];;){t:{var x=t;g=r,y=i;var w=h,S=f,M=m=[0];if((P=A=[A])[0]=0,8>y[0])y=7;else{if(!n(x,g[0],"VP8X")){if(10!=R(x,g[0]+4)){y=3;break t}if(18>y[0]){y=7;break t}var E=R(x,g[0]+8),T=1+C(x,g[0]+12);if(2147483648<=T*(x=1+C(x,g[0]+15))){y=3;break t}null!=M&&(M[0]=E),null!=w&&(w[0]=T),null!=S&&(S[0]=x),g[0]+=18,y[0]-=18,P[0]=1}y=0}}if(A=A[0],m=m[0],0!=y)return y;if(g=!!(2&m),!b&&A)return 3;if(null!=s&&(s[0]=!!(16&m)),null!=l&&(l[0]=g),null!=u&&(u[0]=0),l=h[0],m=f[0],A&&g&&null==c){y=0;break}if(4>i){y=7;break}if(b&&A||!b&&!A&&!n(t,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];t:{E=t,y=r,b=i;var P=p.gb;w=p.na,S=p.P,M=p.Sa,T=22,e(null!=E),e(null!=b),x=y[0];var k=b[0];for(e(null!=w),e(null!=M),w[0]=null,S[0]=null,M[0]=0;;){if(y[0]=x,b[0]=k,8>k){y=7;break t}var L=R(E,x+4);if(4294967286<L){y=3;break t}var N=8+L+1&-2;if(T+=N,0<P&&T>P){y=3;break t}if(!n(E,x,"VP8 ")||!n(E,x,"VP8L")){y=0;break t}if(k[0]<N){y=7;break t}n(E,x,"ALPH")||(w[0]=E,S[0]=x+8,M[0]=L),x+=N,k-=N}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=y)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];t:if(P=t,y=r,b=i,w=p.gb[0],S=p.Ja,M=p.xa,E=y[0],x=!n(P,E,"VP8 "),T=!n(P,E,"VP8L"),e(null!=P),e(null!=b),e(null!=S),e(null!=M),8>b[0])y=7;else{if(x||T){if(P=R(P,E+4),12<=w&&P>w-12){y=3;break t}if(d&&P>b[0]-8){y=7;break t}S[0]=P,y[0]+=8,b[0]-=8,M[0]=T}else M[0]=5<=b[0]&&47==P[E+0]&&!(P[E+4]>>5),S[0]=b[0];y=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=y)break;if(4294967286<p.Ja)return 3;if(null==u||g||(u[0]=p.xa?2:1),l=[l],m=[m],p.xa){if(5>i){y=7;break}u=l,d=m,g=s,null==t||5>i?t=0:5<=i&&47==t[r+0]&&!(t[r+4]>>5)?(b=[0],P=[0],w=[0],v(S=new _,t,r,i),pt(S,b,P,w)?(null!=u&&(u[0]=b[0]),null!=d&&(d[0]=P[0]),null!=g&&(g[0]=w[0]),t=1):t=0):t=0}else{if(10>i){y=7;break}u=m,null==t||10>i||!Yt(t,r+3,i-3)?t=0:(d=t[r+0]|t[r+1]<<8|t[r+2]<<16,g=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=p.Ja||!g||!t?t=0:(l&&(l[0]=g),u&&(u[0]=t),t=1))}if(!t)return 3;if(l=l[0],m=m[0],A&&(h[0]!=l||f[0]!=m))return 3;null!=c&&(c[0]=p,c.offset=r-c.w,e(4294967286>r-c.w),e(c.offset==c.ha-i));break}return 0==y||7==y&&A&&null==c?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=a&&(a[0]=l),null!=o&&(o[0]=m),0):y}function Dn(t,e,n){var r=e.width,i=e.height,a=0,o=0,s=r,l=i;if(e.Da=null!=t&&0<t.Da,e.Da&&(s=t.cd,l=t.bd,a=t.v,o=t.j,11>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=l||a+s>r||o+l>i))return 0;if(e.v=a,e.j=o,e.va=a+s,e.o=o+l,e.U=s,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!D(s,l,n=[t.ib],a=[t.hb]))return 0;e.ib=n[0],e.hb=a[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*i/4,e.Kb=0),1}function Bn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function qn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var i=n.cd,o=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=i||0>=o||s+i>t||l+o>e)return 2;t=i,e=o}if(n.da){if(!D(t,e,i=[n.ib],o=[n.hb]))return 2;t=i[0],e=o[0]}}r.width=t,r.height=e;t:{var u=r.width,c=r.height;if(t=r.S,0>=u||0>=c||!(t>=Dr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){s=o=i=e=0;var h=(l=u*Zi[t])*c;if(11>t||(o=(c+1)/2*(e=(u+1)/2),12==t&&(s=(i=u)*c)),null==(c=a(h+2*o+s))){t=1;break t}r.sd=c,11>t?((u=r.f.RGBA).eb=c,u.fb=0,u.A=l,u.size=h):((u=r.f.kb).y=c,u.O=0,u.fa=l,u.Fd=h,u.f=c,u.N=0+h,u.Ab=e,u.Cd=o,u.ea=c,u.W=0+h+o,u.Db=e,u.Ed=o,12==t&&(u.F=c,u.J=0+h+2*o),u.Tc=s,u.lb=i)}if(e=1,i=r.S,o=r.width,s=r.height,i>=Dr&&13>i)if(11>i)t=r.f.RGBA,e&=(l=Math.abs(t.A))*(s-1)+o<=t.size,e&=l>=o*Zi[i],e&=null!=t.eb;else{t=r.f.kb,l=(o+1)/2,h=(s+1)/2,u=Math.abs(t.fa),c=Math.abs(t.Ab);var f=Math.abs(t.Db),A=Math.abs(t.lb),d=A*(s-1)+o;e&=u*(s-1)+o<=t.Fd,e&=c*(h-1)+l<=t.Cd,e=(e&=f*(h-1)+l<=t.Ed)&u>=o&c>=l&f>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==i&&(e&=A>=o,e&=d<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=Bn(r)),t}var Fn=64,Un=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Zn=32,jn=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];F("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return z(z(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return z(t,e[n-1])},t.Predictor7=function(t,e,n){return z(t,e[n+0])},t.Predictor8=function(t,e,n){return z(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return z(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return z(z(t,e[n-1]),z(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=H(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(r>>16&255,t>>16&255,e>>16&255)+H(r>>8&255,t>>8&255,e>>8&255)+H(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(Z((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|Z((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|Z((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|Z((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(j((t=z(t,e[n+0]))>>24&255,r>>24&255)<<24|j(t>>16&255,r>>16&255)<<16|j(t>>8&255,r>>8&255)<<8|j(t>>0&255,r>>0&255))>>>0};var Gn=t.PredictorAdd0;t.PredictorAdd1=G,F("Predictor2","PredictorAdd2"),F("Predictor3","PredictorAdd3"),F("Predictor4","PredictorAdd4"),F("Predictor5","PredictorAdd5"),F("Predictor6","PredictorAdd6"),F("Predictor7","PredictorAdd7"),F("Predictor8","PredictorAdd8"),F("Predictor9","PredictorAdd9"),F("Predictor10","PredictorAdd10"),F("Predictor11","PredictorAdd11"),F("Predictor12","PredictorAdd12"),F("Predictor13","PredictorAdd13");var Vn=t.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",(function(t){return t>>8&255}),(function(t){return t})),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(t){return t}),(function(t){return t>>8&255}));var Wn,Xn=t.ColorIndexInverseTransform,Yn=t.MapARGB,Qn=t.VP8LColorIndexInverseTransformAlpha,Kn=t.MapAlpha,Jn=t.VP8LPredictorsAdd=[];Jn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var $n,tr,er,nr,rr,ir,ar,or,sr,lr,ur,cr,hr,fr,Ar,dr,pr,mr,vr,gr,yr,br,_r,xr,wr,Sr,Mr,Er,Tr=a(511),Pr=a(2041),kr=a(225),Lr=a(767),Cr=0,Rr=Pr,Nr=kr,Or=Lr,Ir=Tr,Dr=0,Br=1,qr=2,Fr=3,Ur=4,zr=5,Zr=6,jr=7,Hr=8,Gr=9,Vr=10,Wr=[2,3,7],Xr=[3,3,11],Yr=[280,256,256,256,40],Qr=[0,1,1,1,0],Kr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],fi=[],Ai=[],di=1,pi=2,mi=[],vi=[];gn("UpsampleRgbLinePair",Sn,3),gn("UpsampleBgrLinePair",Mn,3),gn("UpsampleRgbaLinePair",Ln,4),gn("UpsampleBgraLinePair",kn,4),gn("UpsampleArgbLinePair",Pn,4),gn("UpsampleRgba4444LinePair",Tn,2),gn("UpsampleRgb565LinePair",En,2);var gi=t.UpsampleRgbLinePair,yi=t.UpsampleBgrLinePair,bi=t.UpsampleRgbaLinePair,_i=t.UpsampleBgraLinePair,xi=t.UpsampleArgbLinePair,wi=t.UpsampleRgba4444LinePair,Si=t.UpsampleRgb565LinePair,Mi=16,Ei=1<<Mi-1,Ti=-227,Pi=482,ki=6,Li=(256<<ki)-1,Ci=0,Ri=a(256),Ni=a(256),Oi=a(256),Ii=a(256),Di=a(Pi-Ti),Bi=a(Pi-Ti);Cn("YuvToRgbRow",Sn,3),Cn("YuvToBgrRow",Mn,3),Cn("YuvToRgbaRow",Ln,4),Cn("YuvToBgraRow",kn,4),Cn("YuvToArgbRow",Pn,4),Cn("YuvToRgba4444Row",Tn,2),Cn("YuvToRgb565Row",En,2);var qi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fi=[0,2,8],Ui=[8,7,6,4,4,2,2,2,1,1,1,1],zi=1;this.WebPDecodeRGBA=function(t,n,r,i,a){var o=Br,s=new nn,l=new ot;s.ba=l,l.S=o,l.width=[l.width],l.height=[l.height];var u=l.width,c=l.height,h=new st;if(null==h||null==t)var f=2;else e(null!=h),f=In(t,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=f?u=0:(null!=u&&(u[0]=h.width[0]),null!=c&&(c[0]=h.height[0]),u=1),u){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=a&&(a[0]=l.height);t:{if(i=new Vt,(a=new rn).data=t,a.w=n,a.ha=r,a.kd=1,n=[0],e(null!=a),(0==(t=In(a.data,a.w,a.ha,null,null,null,n,null,a))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=s),i.data=a.data,i.w=a.w+a.offset,i.ha=a.ha-a.offset,i.put=At,i.ac=ft,i.bc=dt,i.ma=s,a.xa){if(null==(t=Pt())){s=1;break t}if(function(t,n){var r=[0],i=[0],a=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!pt(t.m,r,i,a)){t.a=3;break e}if(t.xb=pi,n.width=r[0],n.height=i[0],!kt(r[0],i[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,i)){if(i=0==(n=qn(i.width,i.height,s.Oa,s.ba))){e:{i=t;n:for(;;){if(null==i){i=0;break e}if(e(null!=i.s.yc),e(null!=i.s.Ya),e(0<i.s.Wb),e(null!=(r=i.l)),e(null!=(a=r.ma)),0!=i.xb){if(i.ca=a.ba,i.tb=a.tb,e(null!=i.ca),!Dn(a.Oa,r,Fr)){i.a=2;break n}if(!Lt(i,r.width))break n;if(r.da)break n;if((r.da||rt(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!N(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Et(i,i.V,i.Ba,i.c,i.i,r.o,xt))break n;a.Dc=i.Ma,i=1;break e}e(0!=i.a),i=0}i=!i}i&&(n=t.a)}else n=t.a}else{if(null==(t=new Wt)){s=1;break t}if(t.Fa=a.na,t.P=a.P,t.qc=a.Sa,Qt(t,i)){if(0==(n=qn(i.width,i.height,s.Oa,s.ba))){if(t.Aa=0,r=s.Oa,e(null!=(a=t)),null!=r){if(0<(u=0>(u=r.Md)?0:100<u?255:255*u/100)){for(c=h=0;4>c;++c)12>(f=a.pb[c]).lc&&(f.ia=u*Ui[0>f.lc?0:f.lc]>>3),h|=f.ia;h&&(alert("todo:VP8InitRandom"),a.ia=1)}a.Ga=r.Id,100<a.Ga?a.Ga=100:0>a.Ga&&(a.Ga=0)}$t(t,i)||(n=t.a)}}else n=t.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Bn(s.ba))}s=n}o=0!=s?null:11>o?l.f.RGBA.eb:l.f.kb.y}else o=null;return o};var Zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function c(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var f=[0],A=[0],d=[],p=new l,m=t,v=function(t,e){var n={},r=0,i=!1,a=0,o=0;if(n.frames=[],!function(t,e,n,r){for(var i=0;i<4;i++)if(t[e+i]!="RIFF".charCodeAt(i))return!0;return!1}(t,e)){var s,l;for(h(t,e+=4),e+=8;e<t.length;){var f=u(t,e),A=h(t,e+=4);e+=4;var d=A+(1&A);switch(f){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?o:e-8,v.src_size=a+A+8,r++,i&&(i=!1,a=0,o=0);break;case"VP8X":(v=n.header={}).feature_flags=t[e];var p=e+4;v.canvas_width=1+c(t,p),p+=3,v.canvas_height=1+c(t,p),p+=3;break;case"ALPH":i=!0,a=d+8,o=e-8;break;case"ANIM":(v=n.header).bgcolor=h(t,e),p=e+4,v.loop_count=(s=t)[(l=p)+0]<<0|s[l+1]<<8,p+=2;break;case"ANMF":var m,v;(v=n.frames[r]={}).offset_x=2*c(t,e),e+=3,v.offset_y=2*c(t,e),e+=3,v.width=1+c(t,e),e+=3,v.height=1+c(t,e),e+=3,v.duration=c(t,e),e+=3,m=t[e++],v.dispose=1&m,v.blend=m>>1&1}"ANMF"!=f&&(e+=d)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var g=v.header?v.header:null,y=v.frames?v.frames:null;if(g){g.loop_counter=g.loop_count,f=[g.canvas_height],A=[g.canvas_width];for(var b=0;b<y.length&&0!=y[b].blend;b++);}var _=y[0],x=p.WebPDecodeRGBA(m,_.src_off,_.src_size,A,f);_.rgba=x,_.imgwidth=A[0],_.imgheight=f[0];for(var w=0;w<A[0]*f[0]*4;w++)d[w]=x[w];return this.width=A,this.height=f,this.data=d,this}!function(t){var e=function(e,r,l,u){var c=4,h=a;switch(u){case t.image_compression.FAST:c=1,h=i;break;case t.image_compression.MEDIUM:c=6,h=o;break;case t.image_compression.SLOW:c=9,h=s}var f=Y(e=n(e,r,l,h),{level:c});return t.__addimage__.arrayBufferToBinaryString(f)},n=function(t,e,n,r){for(var i,a,o,s=t.length/e,l=new Uint8Array(t.length+s),h=u(),f=0;f<s;f+=1){if(o=f*e,i=t.subarray(o,o+e),r)l.set(r(i,n,a),o+f);else{for(var A,d=h.length,p=[];A<d;A+=1)p[A]=h[A](i,n,a);var m=c(p.concat());l.set(p[m],o+f)}a=i}return l},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},i=function(t,e){var n,r=[],i=t.length;r[0]=1;for(var a=0;a<i;a+=1)n=t[a-e]||0,r[a+1]=t[a]-n+256&255;return r},a=function(t,e,n){var r,i=[],a=t.length;i[0]=2;for(var o=0;o<a;o+=1)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},o=function(t,e,n){var r,i,a=[],o=t.length;a[0]=3;for(var s=0;s<o;s+=1)r=t[s-e]||0,i=n&&n[s]||0,a[s+1]=t[s]+256-(r+i>>>1)&255;return a},s=function(t,e,n){var r,i,a,o,s=[],u=t.length;s[0]=4;for(var c=0;c<u;c+=1)r=t[c-e]||0,i=n&&n[c]||0,a=n&&n[c-e]||0,o=l(r,i,a),s[c+1]=t[c]-o+256&255;return s},l=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n},u=function(){return[r,i,a,o,s]},c=function(t){var e=t.map((function(t){return t.reduce((function(t,e){return t+Math.abs(e)}),0)}));return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,i,a){var o,s,l,u,c,h,f,A,d,p,m,v,g,y,b,_=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Ze(n)).imgData,s=l.bits,o=l.colorSpace,c=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){d=(A=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,m=new Uint8Array(d*l.colors),p=new Uint8Array(d);var w,S=l.pixelBitlength-l.bits;for(y=0,b=0;y<d;y++){for(g=A[y],w=0;w<S;)m[b++]=g>>>w&255,w+=l.bits;p[y]=g>>>w&255}}if(16===l.bits){d=(A=new Uint32Array(l.decodePixels().buffer)).length,m=new Uint8Array(d*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(d*(32/l.pixelBitlength)),v=l.colors>1,y=0,b=0;for(var M=0;y<d;)g=A[y++],m[b++]=g>>>0&255,v&&(m[b++]=g>>>16&255,g=A[y++],m[b++]=g>>>0&255),p[M++]=g>>>16&255;s=8}a!==t.image_compression.NONE?(n=e(m,l.width*l.colors,l.colors,a),f=e(p,l.width,1,a)):(n=m,f=p,_=void 0)}if(3===l.colorType&&(o=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,T=0;for(y=0,d=E.length;y<d;++y)T+=E[y];if((T/=255)===d-1&&-1!==E.indexOf(0))u=[E.indexOf(0)];else if(T!==d){for(A=l.decodePixels(),p=new Uint8Array(A.length),y=0,d=A.length;y<d;y++)p[y]=E[A[y]];f=e(p,l.width,1)}}var P=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(a);return _===this.decode.FLATE_DECODE&&(x="/Predictor "+P+" "),x+="/Colors "+c+" /BitsPerComponent "+s+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:i,data:n,index:r,filter:_,decodeParameters:x,transparency:u,palette:h,sMask:f,predictor:P,width:l.width,height:l.height,bitsPerComponent:s,colorSpace:o}}}}(Lt.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new je(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new Ge(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(Lt.API),Ve.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ve.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){$.log("bit decode error:"+t)}},Ve.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Ve.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},Ve.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==t&&(this.pos+=4-t)}},Ve.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ve.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Ve.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ve.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Ve.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Ve(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Ge(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Lt.API),We.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new We(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Ge(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Lt.API),Lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],f=r[u+2],A=r[u+3];a[s++]=c,a[s++]=h,a[s++]=f,o[l++]=A}var d=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:d,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Lt.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Be=Lt.API,qe=Be.getCharWidthsArray=function(t,e){var n,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,u=l.fof?l.fof:1,c=e.kerning?e.kerning:a.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=!1!==e.doKerning,A=0,d=t.length,p=0,m=l[0]||u,v=[];for(n=0;n<d;n++)i=t.charCodeAt(n),"function"==typeof a.metadata.widthOfString?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(A=f&&"object"===(0,r.Z)(c[i])&&!isNaN(parseInt(c[i][p],10))?c[i][p]/h:0,v.push((l[i]||m)/u+A)),p=i;return v},Fe=Be.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Be.processArabic&&(t=Be.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:qe.apply(this,arguments).reduce((function(t,e){return t+e}),0)},Ue=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},ze=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],h=[c],f=n.textIndent||0,A=0,d=0,p=t.split(" "),m=qe.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),g=[];p.map((function(t){(t=t.split(/\s*\n/)).length>1?g=g.concat(t.map((function(t,e){return(e&&t.length?"\n":"")+t}))):g.push(t[0])})),p=g,l=Fe.apply(this,[v,n])}for(a=0,o=p.length;a<o;a++){var y=0;if(r=p[a],l&&"\n"==r[0]&&(r=r.substr(1),y=1),f+A+(d=(i=qe.apply(this,[r,n])).reduce((function(t,e){return t+e}),0))>e||y){if(d>e){for(s=Ue.apply(this,[r,i,e-(f+A),e]),c.push(s.shift()),c=[s.pop()];s.length;)h.push([s.shift()]);d=i.slice(r.length-(c[0]?c[0].length:0)).reduce((function(t,e){return t+e}),0)}else c=[r];h.push(c),f=d+l,A=m}else c.push(r),f+=A+d,A=m}return u=l?function(t,e){return(e?v:"")+t.join(" ")}:function(t){return t.join(" ")},h.map(u)},Be.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(ze.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[e[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=e[a];var o=function(t){return"0x"+parseInt(t,10).toString(16)},s=t.__fontmetrics__.compress=function(t){var e,n,a,l,u=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof e)e<0?(a=o(e).slice(3),l="-"):(a=o(e).slice(2),l=""),a=l+a.slice(0,-1)+i[a.slice(-1)];else{if("object"!==(0,r.Z)(e))throw new Error("Don't know what to do with value type "+(0,r.Z)(e)+".");a=s(e)}u.push(n+a)}return u.push("}"),u.join("")},l=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,i,a,o={},s=1,l=o,u=[],c="",h="",f=t.length-1,A=1;A<f;A+=1)"'"==(a=t[A])?e?(i=e.join(""),e=void 0):e=[]:e?e.push(a):"{"==a?(u.push([l,i]),l={},i=void 0):"}"==a?((r=u.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==a?s=-1:void 0===i?n.hasOwnProperty(a)?(c+=n[a],i=parseInt(c,16)*s,s=1,c=""):c+=a:n.hasOwnProperty(a)?(h+=n[a],l[i]=parseInt(h,16)*s,s=1,i=void 0,h=""):h+=a;return o},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=h.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(Lt.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?e(r):e(rt(r)),n.metadata=t.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Lt),function(t){function e(){return(K.canvg?Promise.resolve(K.canvg):n.e(513).then(n.bind(n,6513))).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}Lt.API.addSvgAsImage=function(t,n,r,i,a,o,s,l){if(isNaN(n)||isNaN(r))throw $.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw $.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then((function(e){return e.fromString(c,t,h)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(t){return t.render(h)})).then((function(){f.addImage(u.toDataURL("image/jpeg",1),n,r,i,a,s,l)}))}}(),Lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,a,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],c=0,h=0,f=0;function A(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var d=l.length;for(f=0;f<d;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if("object"===(0,r.Z)(t))for(a in t)if(o=t[a],A(l,a)&&void 0!==o){if("boolean"===n[a].type&&"boolean"==typeof o)n[a].value=o;else if("name"===n[a].type&&A(n[a].valueSet,o))n[a].value=o;else if("integer"===n[a].type&&Number.isInteger(o))n[a].value=o;else if("array"===n[a].type){for(c=0;c<o.length;c+=1)if(i=!0,1===o[c].length&&"number"==typeof o[c][0])u.push(String(o[c]-1));else if(o[c].length>1){for(h=0;h<o[c].length;h+=1)"number"!=typeof o[c][h]&&(i=!1);!0===i&&u.push([o[c][0]-1,o[c][1]-1].join(" "))}n[a].value="["+u.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+i.length+e.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],o=0,s=t.length;o<s;++o){if(n=e.metadata.characterToGlyph(t.charCodeAt(o)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(i[4-n.length],n)}return a.join("")},r=function(t){var e,n,r,i,a,o,s;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,s=(n=Object.keys(t).sort((function(t,e){return t-e}))).length;o<s;o++)e=n[o],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,a=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),u="",c=0;c<l.length;c++)u+=String.fromCharCode(l[c]);var h=a();o({data:u,addLength1:!0,objectId:h}),i("endobj");var f=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:f}),i("endobj");var A=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+St(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var d=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+St(n.fontName)),i("/FontDescriptor "+A+" 0 R"),i("/W "+t.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+f+" 0 R"),i("/BaseFont /"+St(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+d+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,a=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",u=0;u<s.length;u++)l+=String.fromCharCode(s[u]);var c=a();o({data:l,addLength1:!0,objectId:c}),i("endobj");var h=a();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=a();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+c+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+St(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=a();for(var A=0;A<n.metadata.hmtx.widths.length;A++)n.metadata.hmtx.widths[A]=parseInt(n.metadata.hmtx.widths[A]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+St(n.fontName)+"/FontDescriptor "+f+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]);var i=function(t){var e,r=t.text||"",i=t.x,a=t.y,o=t.options||{},s=t.mutex||{},l=s.pdfEscape,u=s.activeFontKey,c=s.fonts,h=u,f="",A=0,d="",p=c[h].encoding;if("Identity-H"!==c[h].encoding)return{text:r,x:i,y:a,options:o,mutex:s};for(d=r,h=u,Array.isArray(r)&&(d=r[0]),A=0;A<d.length;A+=1)c[h].metadata.hasOwnProperty("cmap")&&(e=c[h].metadata.cmap.unicode.codeMap[d[A].charCodeAt(0)]),e||d[A].charCodeAt(0)<256&&c[h].metadata.hasOwnProperty("Unicode")?f+=d[A]:f+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===p?m=l(f,h).split("").map((function(t){return t.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(m=n(f,c[h])),s.isHex=!0,{text:m,x:i,y:a,options:o,mutex:s}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var a=0;for(a=0;a<e.length;a+=1)Array.isArray(e[a])&&3===e[a].length?n.push([i(Object.assign({},r,{text:e[a][0]})).text,e[a][1],e[a][2]]):n.push(i(Object.assign({},r,{text:e[a]})).text);t.text=n}else t.text=i(Object.assign({},r,{text:e})).text}])}(Lt),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,a,o,s,l,u=e,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var g=function(t){var e=t.charCodeAt(),n=e>>8,r=A[n];return void 0!==r?u[256*r+(255&e)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},y=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=g(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,o,s){var l,u,c,h,f=e[s];switch(f){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(f="AN");break;case"AL":m=!0,f="R";break;case"WS":case"BN":f="N";break;case"CS":s<1||s+1>=e.length||"EN"!==(l=o[s-1])&&"AN"!==l||"EN"!==(u=e[s+1])&&"AN"!==u?f="N":m&&(u="AN"),f=u===l?u:"N";break;case"ES":f="EN"===(l=s>0?o[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){f="EN";break}if(m){f="N";break}for(c=s+1,h=e.length;c<h&&"ET"===e[c];)c++;f=c<h&&"EN"===e[c]?"EN":"N";break;case"NSM":if(i&&!a){for(h=e.length,c=s+1;c<h&&"NSM"===e[c];)c++;if(c<h){var A=t[s],d=A>=1425&&A<=2303||64286===A;if(l=e[c],d&&("R"===l||"AL"===l)){f="R";break}}}f=s<1||"B"===(l=e[s-1])?"N":o[s-1];break;case"B":m=!1,n=!0,f=v;break;case"S":r=!0,f="N"}return f},_=function(t,e,n){var r=t.split("");return n&&x(r,n,{hiLevel:v}),r.reverse(),e&&e.reverse(),r.join("")},x=function(t,e,i){var a,o,s,l,u,A=-1,d=t.length,p=0,y=[],_=v?h:c,x=[];for(m=!1,n=!1,r=!1,o=0;o<d;o++)x[o]=g(t[o]);for(s=0;s<d;s++){if(u=p,y[s]=b(t,x,y,s),a=240&(p=_[u][f[y[s]]]),p&=15,e[s]=l=_[p][5],a>0)if(16===a){for(o=A;o<s;o++)e[o]=1;A=-1}else A=-1;if(_[p][6])-1===A&&(A=s);else if(A>-1){for(o=A;o<s;o++)e[o]=l;A=-1}"B"===x[s]&&(e[s]=0),i.hiLevel|=l}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=v;for(var i=r-1;i>=0&&"WS"===t[i];i--)e[i]=v}}(x,e,d)},w=function(t,e,r,i,a){if(!(a.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(r&&r.reverse());for(var o,s,l,u,c=e.length,h=0;h<c;){if(i[h]>=t){for(l=h+1;l<c&&i[l]>=t;)l++;for(u=h,s=l-1;u<s;u++,s--)o=e[u],e[u]=e[s],e[s]=o,r&&(o=r[u],r[u]=r[s],r[s]=o);h=l}h++}}},S=function(t,e,n){var r=t.split(""),i={hiLevel:v};return n||(n=[]),x(r,n,i),function(t,e,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<t.length;i++)1===e[i]&&(r=d.indexOf(t[i]))>=0&&(t[i]=d[r+1])}(r,n,i),w(2,r,e,n,i),w(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===a&&(a=y(t)),void 0===s&&(s=y(t))}(t,e),i||!o||s)if(i&&o&&a^s)v=a?1:0,t=_(t,e,n);else if(!i&&o&&s)v=a?1:0,t=S(t,e,n),t=_(t,e);else if(!i||a||o||s){if(i&&!o&&a^s)t=_(t,e),a?(v=0,t=S(t,e,n)):(v=1,t=S(t,e,n),t=_(t,e));else if(i&&a&&!o&&s)v=1,t=S(t,e,n),t=_(t,e);else if(!i&&!o&&a^s){var r=l;a?(v=1,t=S(t,e,n),v=0,l=!1,t=S(t,e,n),l=r):(v=0,t=S(t,e,n),t=_(t,e),v=1,l=!1,t=S(t,e,n),l=r,t=_(t,e))}}else v=0,t=S(t,e,n);else v=a?1:0,t=S(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,o=t.isOutputVisual,a=t.isInputRtl,s=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),i=(t.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var a=0;for(i=[],a=0;a<e.length;a+=1)"[object Array]"===Object.prototype.toString.call(e[a])?i.push([n.doBidiReorder(e[a][0]),e[a][1],e[a][2]]):i.push([n.doBidiReorder(e[a])]);t.text=i}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new Ye(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new pn(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Qe(this.contents),this.head=new $e(this),this.name=new sn(this),this.cmap=new en(this),this.toUnicode={},this.hhea=new nn(this),this.maxp=new ln(this),this.hmtx=new un(this),this.post=new an(this),this.os2=new rn(this),this.loca=new dn(this),this.glyf=new hn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],i.push(Math.round(t*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return a*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var Xe,Ye=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,a,o,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*a+256*o+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),Qe=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,a,o,s,l,u,c,h,f,A,d;for(d in f=Object.keys(e).length,s=Math.log(2),c=16*Math.floor(Math.log(f)/s),a=Math.floor(c/s),u=16*f-c,(r=new Ye).writeInt(this.scalarType),r.writeShort(f),r.writeShort(c),r.writeShort(a),r.writeShort(u),i=16*f,l=r.pos+i,o=null,A=[],e)for(h=e[d],r.writeString(d),r.writeInt(t(h)),r.writeInt(l),r.writeInt(h.length),A=A.concat(h),"head"===d&&(o=l),l+=h.length;l%4;)A.push(0),l++;return r.write(A),n=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=cn.call(t);t.length%4;)t.push(0);for(r=new Ye(t),n=0,e=0,i=t.length;e<i;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),Ke={}.hasOwnProperty,Je=function(t,e){for(var n in e)Ke.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Xe=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new Ye).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),tn=function(){function t(t,e){var n,r,i,a,o,s,l,u,c,h,f,A,d,p,m,v,g;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),c=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,i=function(){var e,n;for(n=[],s=e=0;0<=h?e<h:e>h;s=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,d=function(){var e,n;for(n=[],s=e=0;0<=h?e<h:e>h;s=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],s=e=0;0<=h?e<h:e>h;s=0<=h?++e:--e)n.push(t.readUInt16());return n}(),u=function(){var e,n;for(n=[],s=e=0;0<=h?e<h:e>h;s=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,o=function(){var e,n;for(n=[],s=e=0;0<=r?e<r:e>r;s=0<=r?++e:--e)n.push(t.readUInt16());return n}(),s=m=0,g=i.length;m<g;s=++m)for(p=i[s],n=v=A=d[s];A<=p?v<=p:v>=p;n=A<=p?++v:--v)0===u[s]?a=n+l[s]:0!==(a=o[u[s]/2+(n-A)-(h-s)]||0)&&(a+=l[s]),this.codeMap[n]=65535&a}t.pos=c}return t.encode=function(t,e){var n,r,i,a,o,s,l,u,c,h,f,A,d,p,m,v,g,y,b,_,x,w,S,M,E,T,P,k,L,C,R,N,O,I,D,B,q,F,U,z,Z,j,H,G,V,W;switch(k=new Ye,a=Object.keys(t).sort((function(t,e){return t-e})),e){case"macroman":for(d=0,p=function(){var t=[];for(A=0;A<256;++A)t.push(0);return t}(),v={0:0},i={},L=0,O=a.length;L<O;L++)null==v[H=t[r=a[L]]]&&(v[H]=++d),i[r]={old:t[r],new:v[t[r]]},p[r]=v[t[r]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(p),{charMap:i,subtable:k.data,maxGlyphID:d+1};case"unicode":for(T=[],c=[],g=0,v={},n={},m=l=null,C=0,I=a.length;C<I;C++)null==v[b=t[r=a[C]]]&&(v[b]=++g),n[r]={old:b,new:v[b]},o=v[b]-r,null!=m&&o===l||(m&&c.push(m),T.push(r),l=o),m=r;for(m&&c.push(m),c.push(65535),T.push(65535),M=2*(S=T.length),w=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(w/2)/Math.LN2,x=2*S-w,s=[],_=[],f=[],A=R=0,D=T.length;R<D;A=++R){if(E=T[A],u=c[A],65535===E){s.push(0),_.push(0);break}if(E-(P=n[E].new)>=32768)for(s.push(0),_.push(2*(f.length+S-A)),r=N=E;E<=u?N<=u:N>=u;r=E<=u?++N:--N)f.push(n[r].new);else s.push(P-E),_.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*S+2*f.length),k.writeUInt16(0),k.writeUInt16(M),k.writeUInt16(w),k.writeUInt16(h),k.writeUInt16(x),Z=0,B=c.length;Z<B;Z++)r=c[Z],k.writeUInt16(r);for(k.writeUInt16(0),j=0,q=T.length;j<q;j++)r=T[j],k.writeUInt16(r);for(G=0,F=s.length;G<F;G++)o=s[G],k.writeUInt16(o);for(V=0,U=_.length;V<U;V++)y=_[V],k.writeUInt16(y);for(W=0,z=f.length;W<z;W++)d=f[W],k.writeUInt16(d);return{charMap:n,subtable:k.data,maxGlyphID:g+1}}},t}(),en=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new tn(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=tn.encode(t,e),(r=new Ye).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),nn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),rn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),an=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,r;for(r=[],i=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},e}(),on=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},sn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,a,o,s,l,u,c,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(s={},i=u=0,c=n.length;u<c;i=++u)r=n[i],t.pos=r.offset,l=t.readString(r.length),a=new on(l,r),null==s[h=r.nameID]&&(s[h]=[]),s[r.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),ln=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),un=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,r,i,a,o,s;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)i.push(t.readInt16());return i}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)i=n[t],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],e=a=0;0<=r?a<r:a>r;e=0<=r?++a:--a)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),cn=[].slice,hn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,a,o,s,l,u,c;return t in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,a=(o=new Ye(e.read(r))).readShort(),l=o.readShort(),c=o.readShort(),s=o.readShort(),u=o.readShort(),this.cache[t]=-1===a?new An(o,l,c,s,u):new fn(o,a,l,c,s,u),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,a,o,s;for(a=[],i=[],o=0,s=e.length;o<s;o++)r=t[e[o]],i.push(a.length),r&&(a=a.concat(r.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),fn=function(){function t(t,e,n,r,i,a){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),An=function(){function t(t,e,n,r,i){var a,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new Ye(cn.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),dn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Je(e,Xe),e.prototype.tag="loca",e.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=4)r.push(t.readUInt32());return r}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,a=0;a<n.length;++a)if(n[a]=r,i<e.length&&e[i]==a){++i,n[a]=r;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(r+=s)}for(var l=new Array(4*n.length),u=0;u<n.length;++u)l[4*u+3]=255&n[u],l[4*u+2]=(65280&n[u])>>8,l[4*u+1]=(16711680&n[u])>>16,l[4*u]=(4278190080&n[u])>>24;return l},e}(),pn=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,a,o,s;for(r={},a=0,o=t.length;a<o;a++)r[i=t[a]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in s=this.glyphsFor(e))n=s[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,a,o,s,l,u,c,h,f,A,d,p,m;for(r in n=en.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),f={0:0},m=n.charMap)f[(s=m[r]).old]=s.new;for(A in h=n.maxGlyphID,a)A in f||(f[A]=h++);return u=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(f),c=Object.keys(u).sort((function(t,e){return t-e})),d=function(){var t,e,n;for(n=[],t=0,e=c.length;t<e;t++)o=c[t],n.push(u[o]);return n}(),i=this.font.glyf.encode(a,d,f),l=this.font.loca.encode(i.offsets,d),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();Lt.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var t,i,a;for(a=[],t=0,i=n.length;t<i;t++)r=n[t],a.push(e.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join("\n")}return""+n},e}();var mn=Lt},1442:function(){L.Control.Fullscreen=L.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=L.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",e),this.link.href="#",this._map=t,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(this.link,"click",this._click,this),e},_click:function(t){L.DomEvent.stopPropagation(t),L.DomEvent.preventDefault(t),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),L.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(t){var e=this.getContainer();this.isFullscreen()?t&&t.pseudoFullscreen?this._disablePseudoFullscreen(e):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(e):t&&t.pseudoFullscreen?this._enablePseudoFullscreen(e):e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():this._enablePseudoFullscreen(e)},_enablePseudoFullscreen:function(t){L.DomUtil.addClass(t,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(t){L.DomUtil.removeClass(t,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(t){this._isFullscreen=t;var e=this.getContainer();t?L.DomUtil.addClass(e,"leaflet-fullscreen-on"):L.DomUtil.removeClass(e,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(t){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;e!==this.getContainer()||this._isFullscreen?e!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),L.Map.mergeOptions({fullscreenControl:!1}),L.Map.addInitHook((function(){var t;if(this.options.fullscreenControl&&(this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?t="fullscreenchange":"onmozfullscreenchange"in document?t="mozfullscreenchange":"onwebkitfullscreenchange"in document?t="webkitfullscreenchange":"onmsfullscreenchange"in document&&(t="MSFullscreenChange"),t){var e=L.bind(this._onFullscreenChange,this);this.whenReady((function(){L.DomEvent.on(document,t,e)})),this.on("unload",(function(){L.DomEvent.off(document,t,e)}))}})),L.control.fullscreen=function(t){return new L.Control.Fullscreen(t)}},8559:function(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function s(t,e,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(o,e),r=!0)},a}function l(t,e,n){var r=e[1],i=e[0],a=r-i;return t===r&&n?t:((t-i)%a+a)%a+i}function u(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function A(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(p,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var _=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-_));return _=e+n,window.setTimeout(t,n)}var w=window.requestAnimationFrame||b("RequestAnimationFrame")||x,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function M(t,e,n){if(!n||w!==x)return w.call(window,i(t,e));t.call(e)}function E(t){t&&S.call(window,t)}var T={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:l,falseFn:u,formatNum:c,trim:h,splitWords:f,setOptions:A,getParamString:d,template:m,isArray:v,indexOf:g,emptyImageUrl:y,requestFn:w,cancelFn:S,requestAnimFrame:M,cancelAnimFrame:E};function P(){}function k(t){if("undefined"!==typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(t){var e=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,a=r(i);for(var o in a.constructor=e,e.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);return t.statics&&n(e,t.statics),t.includes&&(k(t.includes),n.apply(null,[a].concat(t.includes))),n(a,t),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=a._initHooks.length;t<e;t++)a._initHooks[t].call(this)}},e},P.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},P.mergeOptions=function(t){return n(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var C={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,a=(t=f(t)).length;i<a;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else{t=f(t);for(var i=1===arguments.length,a=0,o=t.length;a<o;a++)i?this._off(t[a]):this._off(t[a],e,n)}else delete this._events;return this},_on:function(t,e,n,r){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var i={fn:e,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(i)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var r,i,a;if(this._events&&(r=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var o=this._listens(t,e,n);if(!1!==o){var s=r[o];this._firingCount&&(s.fn=u,this._events[t]=r=r.slice()),r.splice(o,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=u;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],u=l.fn;l.once&&this.off(t,u,l.ctx),u.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e,n,r){"string"!==typeof t&&console.warn('"string" type argument expected');var i=e;"function"!==typeof e&&(r=!!e,i=void 0,n=void 0);var a=this._events&&this._events[t];if(a&&a.length&&!1!==this._listens(t,i,n))return!0;if(r)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e,n,r))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===e&&r[i].ctx===n)return i;return!1},once:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e,!0);else for(var i=0,a=(t=f(t)).length;i<a;i++)this._on(t[i],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var R=P.extend(C);function N(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var O=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof N?t:v(t)?new N(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new N(t.x,t.y):new N(t,e,n)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(t,e){return!t||t instanceof D?t:new D(t,e)}function q(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(t,e){return t instanceof q?t:new q(t,e)}function U(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function z(t,e,n){return t instanceof U?t:v(t)&&"object"!==typeof t[0]?3===t.length?new U(t[0],t[1],t[2]):2===t.length?new U(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new U(t,e,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new N(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new N(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},D.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof N||"number"===typeof t[0]||"x"in t)e=n=I(t);else if(e=(t=B(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof N?I(t):B(t))instanceof D?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,n=this.max,r=t.min,i=t.max,a=i.x>=e.x&&r.x<=n.x,o=i.y>=e.y&&r.y<=n.y;return a&&o},overlaps:function(t){t=B(t);var e=this.min,n=this.max,r=t.min,i=t.max,a=i.x>e.x&&r.x<n.x,o=i.y>e.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,r=Math.abs(e.x-n.x)*t,i=Math.abs(e.y-n.y)*t;return B(I(e.x-r,e.y-i),I(n.x+r,n.y+i))},equals:function(t){return!!t&&(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},q.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof U)e=t,n=t;else{if(!(t instanceof q))return t?this.extend(z(t)||F(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new U(e.lat,e.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new q(new U(e.lat-r,e.lng-i),new U(n.lat+r,n.lng+i))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof U||"lat"in t?z(t):F(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof q?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),a=i.lat>=e.lat&&r.lat<=n.lat,o=i.lng>=e.lng&&r.lng<=n.lng;return a&&o},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),a=i.lat>e.lat&&r.lat<n.lat,o=i.lng>e.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(t,e){return!!t&&(t=z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return j.distance(this,z(t))},wrap:function(){return j.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var Z={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new D(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new U(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var a=t.getSouthWest(),o=t.getNorthEast();return new q(new U(a.lat-r,a.lng-i),new U(o.lat-r,o.lng-i))}},j=n({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,a=Math.sin((e.lat-t.lat)*n/2),o=Math.sin((e.lng-t.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H=6378137,G={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new N(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=H*Math.PI;return new D([-t,-t],[t,t])}()};function V(t,e,n,r){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function W(t,e,n,r){return new V(t,e,n,r)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new N((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=n({},j,{code:"EPSG:3857",projection:G,transformation:function(){var t=.5/(Math.PI*G.R);return W(t,.5,-t,.5)}()}),Y=n({},X,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var n,r,i,a,o,s,l="";for(n=0,i=t.length;n<i;n++){for(r=0,a=(o=t[n]).length;r<a;r++)l+=(r?"L":"M")+(s=o[r]).x+" "+s.y;l+=e?Dt.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,tt=$&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=It("webkit"),rt=It("android"),it=It("android 2")||It("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=rt&&It("Google")&&at<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&It("chrome"),ut=It("gecko")&&!nt&&!st&&!$,ct=!lt&&It("safari"),ht=It("phantom"),ft="OTransition"in J,At=0===navigator.platform.indexOf("Win"),dt=$&&"transition"in J,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mt="MozPerspective"in J,vt=!window.L_DISABLE_3D&&(dt||pt||mt)&&!ft&&!ht,gt="undefined"!==typeof orientation||It("mobile"),yt=gt&&nt,bt=gt&&pt,_t=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!_t),wt="ontouchstart"in window||!!window.TouchEvent,St=!window.L_NO_TOUCH&&(wt||xt),Mt=gt&&st,Et=gt&&ut,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),kt=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!Q("svg").createSVGRect),Ct=!!Lt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Rt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),Nt=0===navigator.platform.indexOf("Mac"),Ot=0===navigator.platform.indexOf("Linux");function It(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Dt={ie:$,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:ot,opera:st,chrome:lt,gecko:ut,safari:ct,phantom:ht,opera12:ft,win:At,ie3d:dt,webkit3d:pt,gecko3d:mt,any3d:vt,mobile:gt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:_t,pointer:xt,touch:St,touchNative:wt,mobileOpera:Mt,mobileGecko:Et,retina:Tt,passiveEvents:Pt,canvas:kt,svg:Lt,vml:Rt,inlineSvg:Ct,mac:Nt,linux:Ot},Bt=Dt.msPointer?"MSPointerDown":"pointerdown",qt=Dt.msPointer?"MSPointerMove":"pointermove",Ft=Dt.msPointer?"MSPointerUp":"pointerup",Ut=Dt.msPointer?"MSPointerCancel":"pointercancel",zt={touchstart:Bt,touchmove:qt,touchend:Ft,touchcancel:Ut},Zt={touchstart:Jt,touchmove:Kt,touchend:Kt,touchcancel:Kt},jt={},Ht=!1;function Gt(t,e,n){return"touchstart"===e&&Qt(),Zt[e]?(n=Zt[e].bind(this,n),t.addEventListener(zt[e],n,!1),n):(console.warn("wrong event specified:",e),u)}function Vt(t,e,n){zt[e]?t.removeEventListener(zt[e],n,!1):console.warn("wrong event specified:",e)}function Wt(t){jt[t.pointerId]=t}function Xt(t){jt[t.pointerId]&&(jt[t.pointerId]=t)}function Yt(t){delete jt[t.pointerId]}function Qt(){Ht||(document.addEventListener(Bt,Wt,!0),document.addEventListener(qt,Xt,!0),document.addEventListener(Ft,Yt,!0),document.addEventListener(Ut,Yt,!0),Ht=!0)}function Kt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],jt)e.touches.push(jt[n]);e.changedTouches=[e],t(e)}}function Jt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&We(e),Kt(t,e)}function $t(t){var e,n,r={};for(n in t)e=t[n],r[n]=e&&e.bind?e.bind(t):e;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,r=0;function i(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=Ye(t);if(!i.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||i.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var a=Date.now();a-r<=te?2===++n&&e($t(t)):n=1,r=a}}}else n=t.detail}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var re,ie,ae,oe,se,le=Me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ue=Me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ce="webkitTransition"===ue||"OTransition"===ue?ue+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function fe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function Ae(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function de(t){var e=t.parentNode;e&&e.removeChild(t)}function pe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function me(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ge(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=xe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ye(t,e){if(void 0!==t.classList)for(var n=f(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ge(t,e)){var a=xe(t);_e(t,(a?a+" ":"")+e)}}function be(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,h((" "+xe(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function xe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function we(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Se(t,e)}function Se(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ee(t,e,n){var r=e||new N(0,0);t.style[le]=(Dt.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Te(t,e){t._leaflet_pos=e,Dt.any3d?Ee(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Pe(t){return t._leaflet_pos||new N(0,0)}if("onselectstart"in document)re=function(){Be(window,"selectstart",We)},ie=function(){Fe(window,"selectstart",We)};else{var ke=Me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(ke){var t=document.documentElement.style;ae=t[ke],t[ke]="none"}},ie=function(){ke&&(document.documentElement.style[ke]=ae,ae=void 0)}}function Le(){Be(window,"dragstart",We)}function Ce(){Fe(window,"dragstart",We)}function Re(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ne(),oe=t,se=t.style.outlineStyle,t.style.outlineStyle="none",Be(window,"keydown",Ne))}function Ne(){oe&&(oe.style.outlineStyle=se,oe=void 0,se=void 0,Fe(window,"keydown",Ne))}function Oe(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ie(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:le,TRANSITION:ue,TRANSITION_END:ce,get:he,getStyle:fe,create:Ae,remove:de,empty:pe,toFront:me,toBack:ve,hasClass:ge,addClass:ye,removeClass:be,setClass:_e,getClass:xe,setOpacity:we,testProp:Me,setTransform:Ee,setPosition:Te,getPosition:Pe,get disableTextSelection(){return re},get enableTextSelection(){return ie},disableImageDrag:Le,enableImageDrag:Ce,preventOutline:Re,restoreOutline:Ne,getSizedParentNode:Oe,getScale:Ie};function Be(t,e,n,r){if(e&&"object"===typeof e)for(var i in e)Ze(t,i,e[i],n);else for(var a=0,o=(e=f(e)).length;a<o;a++)Ze(t,e[a],n,r);return this}var qe="_leaflet_events";function Fe(t,e,n,r){if(1===arguments.length)Ue(t),delete t[qe];else if(e&&"object"===typeof e)for(var i in e)je(t,i,e[i],n);else if(e=f(e),2===arguments.length)Ue(t,(function(t){return-1!==g(e,t)}));else for(var a=0,o=e.length;a<o;a++)je(t,e[a],n,r);return this}function Ue(t,e){for(var n in t[qe]){var r=n.split(/\d/)[0];e&&!e(r)||je(t,r,null,null,n)}}var ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ze(t,e,n,r){var i=e+o(n)+(r?"_"+o(r):"");if(t[qe]&&t[qe][i])return this;var a=function(e){return n.call(r||t,e||window.event)},s=a;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?a=Gt(t,e,a):Dt.touch&&"dblclick"===e?a=ee(t,a):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ze[e]||e,a,!!Dt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,$e(t,e)&&s(e)},t.addEventListener(ze[e],a,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,a),t[qe]=t[qe]||{},t[qe][i]=a}function je(t,e,n,r,i){i=i||e+o(n)+(r?"_"+o(r):"");var a=t[qe]&&t[qe][i];if(!a)return this;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?Vt(t,e,a):Dt.touch&&"dblclick"===e?ne(t,a):"removeEventListener"in t?t.removeEventListener(ze[e]||e,a,!1):t.detachEvent("on"+e,a),t[qe][i]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ge(t){return Ze(t,"wheel",He),this}function Ve(t){return Be(t,"mousedown touchstart dblclick contextmenu",He),t._leaflet_disable_click=!0,this}function We(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Xe(t){return We(t),He(t),this}function Ye(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Qe(t,e){if(!e)return new N(t.clientX,t.clientY);var n=Ie(e),r=n.boundingClientRect;return new N((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ke=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Je(t){return Dt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ke:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function $e(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var tn={__proto__:null,on:Be,off:Fe,stopPropagation:He,disableScrollPropagation:Ge,disableClickPropagation:Ve,preventDefault:We,stop:Xe,getPropagationPath:Ye,getMousePosition:Qe,getWheelDelta:Je,isExternalTarget:$e,addListener:Be,removeListener:Fe},en=R.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Pe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Te(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=R.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=A(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ue&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(z(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,r.pan&&r.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),a=(t instanceof N?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),r=I(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ye(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Dt.any3d)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),a=this.getSize(),o=this._zoom;t=z(t),e=void 0===e?o:e;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,e),u=i.distanceTo(r)||1,c=1.42,h=c*c;function f(t){var e=(l*l-s*s+(t?-1:1)*h*h*u*u)/(2*(t?l:s)*h*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function A(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}function p(t){return A(t)/d(t)}var m=f(0);function v(t){return s*(d(m)/d(m+c*t))}function g(t){return s*(d(m)*p(m+c*t)-A(m))/h}function y(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),_=(f(1)-m)/c,x=n.duration?1e3*n.duration:1e3*_*.8;function w(){var n=(Date.now()-b)/x,a=y(n)*_;n<=1?(this._flyToFrame=M(w,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(g(a)/u)),o),this.getScaleZoom(s/v(a),o),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),w.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=F(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=I(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(t),o=this.getPixelBounds(),s=B([o.min.add(n),o.max.subtract(r)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var u=a.subtract(s.getCenter()),c=s.extend(a).getSize().subtract(l);i.x+=u.x<0?-c.x:c.x,i.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=e.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new U(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:e,bounds:n,timestamp:t.timestamp};for(var o in t.coords)"number"===typeof t.coords[o]&&(a[o]=t.coords[o]);this.fire("locationfound",a)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),de(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)de(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=Ae("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new q(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=I(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=B(this.project(s,r),this.project(o,r)).getSize(),c=Dt.any3d?this.options.zoomSnap:1,h=l.x/u.x,f=l.y/u.y,A=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(A,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(z(t),z(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return Qe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Be(e,"scroll",this._onScroll,this),this._containerId=o(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,ye(t,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(t.markerPane,"leaflet-zoom-hide"),ye(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Te(this._mapPane,new N(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,n)._move(t,e)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,r){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Te(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[o(this._container)]=this;var e=t?Fe:Be;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=M((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!$e(a,t))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(e,!0)||(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Re(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(t,e);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(e,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){"contextmenu"===e&&We(t);var l=a[0],u={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(e,u,!0),u.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Pe(this._mapPane)||new N(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return B([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),a=new D(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,e);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?t:this.unproject(r.add(o),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new D(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=B(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),a=r.max.subtract(t.max);return new N(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=Dt.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=Ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=le,n=this._proxy.style[e];Ee(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){de(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ee(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(M((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var an=P.extend({options:{position:"topright"},initialize:function(t){A(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ye(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(de(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),on=function(t){return new an(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=Ae("div",e+"control-container",this._container);function r(r,i){var a=e+r+" "+e+i;t[r+i]=Ae("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)de(this._controlCorners[t]);de(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in A(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return an.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=Ae("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ve(e),Ge(e);var r=this._section=Ae("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Be(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=Ae("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),Be(i,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){We(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=Ae("div",t+"-base",r),this._separator=Ae("div",t+"-separator",r),this._overlaysList=Ae("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pe(this._baseLayersList),pe(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(e),e.layerId=o(t.layer),Be(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(e),a.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)t=n[a],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Be(t,"click",We),this.expand();var e=this;setTimeout((function(){Fe(t,"click",We),e._preventClick=!1}))}}),ln=function(t,e,n){return new sn(t,e,n)},un=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=Ae("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var a=Ae("a",n,r);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),Ve(a),Be(a,"click",Xe),Be(a,"click",i,this),Be(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";be(this._zoomInButton,e),be(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ye(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ye(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))}));var cn=function(t){return new un(t)},hn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=Ae("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=Ae("div",e,n)),t.imperial&&(this._iScale=Ae("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),fn=function(t){return new hn(t)},An='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?An+" ":"")+"Leaflet</a>"},initialize:function(t){A(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=Ae("div","leaflet-control-attribution"),Ve(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new dn).addTo(this)}));var pn=function(t){return new dn(t)};an.Layers=sn,an.Zoom=un,an.Scale=hn,an.Attribution=dn,on.layers=ln,on.zoom=cn,on.scale=fn,on.attribution=pn;var mn=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(t,e){return t.addHandler(e,this),this};var vn={Events:C},gn=Dt.touch?"touchstart mousedown":"mousedown",yn=R.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){A(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Be(this._dragStartTarget,gn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yn._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,gn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ge(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)yn._dragging===this&&this.finishDrag();else if(!(yn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(yn._dragging=this,this._preventOutline&&Re(this._element),Le(),re(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Oe(this._element);this._startPoint=new N(e.clientX,e.clientY),this._startPos=Pe(this._element),this._parentScale=Ie(n);var r="mousedown"===t.type;Be(document,r?"mousemove":"touchmove",this._onMove,this),Be(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new N(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,We(t),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Te(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Ce(),ie();var e=this._moved&&this._moving;this._moving=!1,yn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function bn(t,e,n){var r,i,a,o,s,l,u,c,h,f=[1,4,2,8];for(i=0,u=t.length;i<u;i++)t[i]._code=Nn(t[i],e);for(o=0;o<4;o++){for(c=f[o],r=[],i=0,a=(u=t.length)-1;i<u;a=i++)s=t[i],l=t[a],s._code&c?l._code&c||((h=Rn(l,s,c,e,n))._code=Nn(h,e),r.push(h)):(l._code&c&&((h=Rn(l,s,c,e,n))._code=Nn(h,e),r.push(h)),r.push(s));t=r}return t}function _n(t,e){var n,r,i,a,o,s,l,u,c;if(!t||0===t.length)throw new Error("latlngs not passed");Dn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=z([0,0]),f=F(t);f.getNorthWest().distanceTo(f.getSouthWest())*f.getNorthEast().distanceTo(f.getNorthWest())<1700&&(h=xn(t));var A=t.length,d=[];for(n=0;n<A;n++){var p=z(t[n]);d.push(e.project(z([p.lat-h.lat,p.lng-h.lng])))}for(s=l=u=0,n=0,r=A-1;n<A;r=n++)i=d[n],a=d[r],o=i.y*a.x-a.y*i.x,l+=(i.x+a.x)*o,u+=(i.y+a.y)*o,s+=3*o;c=0===s?d[0]:[l/s,u/s];var m=e.unproject(I(c));return z([m.lat+h.lat,m.lng+h.lng])}function xn(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var a=z(t[i]);e+=a.lat,n+=a.lng,r++}return z([e/r,n/r])}var wn,Sn={__proto__:null,clipPolygon:bn,polygonCenter:_n,centroid:xn};function Mn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Pn(t=Ln(t,n),n)}function En(t,e,n){return Math.sqrt(In(t,e,n,!0))}function Tn(t,e,n){return In(t,e,n)}function Pn(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,kn(t,r,e,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(t[i]);return a}function kn(t,e,n,r,i){var a,o,s,l=0;for(o=r+1;o<=i-1;o++)(s=In(t[o],t[r],t[i],!0))>l&&(a=o,l=s);l>n&&(e[a]=1,kn(t,e,n,r,a),kn(t,e,n,a,i))}function Ln(t,e){for(var n=[t[0]],r=1,i=0,a=t.length;r<a;r++)On(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<a-1&&n.push(t[a-1]),n}function Cn(t,e,n,r,i){var a,o,s,l=r?wn:Nn(t,n),u=Nn(e,n);for(wn=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=Nn(o=Rn(t,e,a=l||u,n,i),n),a===l?(t=o,l=s):(e=o,u=s)}}function Rn(t,e,n,r,i){var a,o,s=e.x-t.x,l=e.y-t.y,u=r.min,c=r.max;return 8&n?(a=t.x+s*(c.y-t.y)/l,o=c.y):4&n?(a=t.x+s*(u.y-t.y)/l,o=u.y):2&n?(a=c.x,o=t.y+l*(c.x-t.x)/s):1&n&&(a=u.x,o=t.y+l*(u.x-t.x)/s),new N(a,o,i)}function Nn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function On(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function In(t,e,n,r){var i,a=e.x,o=e.y,s=n.x-a,l=n.y-o,u=s*s+l*l;return u>0&&((i=((t.x-a)*s+(t.y-o)*l)/u)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=l*i)),s=t.x-a,l=t.y-o,r?s*s+l*l:new N(a,o)}function Dn(t){return!v(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Bn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(t)}function qn(t,e){var n,r,i,a,o,s,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");Dn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=z([0,0]),h=F(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(c=xn(t));var f=t.length,A=[];for(n=0;n<f;n++){var d=z(t[n]);A.push(e.project(z([d.lat-c.lat,d.lng-c.lng])))}for(n=0,r=0;n<f-1;n++)r+=A[n].distanceTo(A[n+1])/2;if(0===r)u=A[0];else for(n=0,a=0;n<f-1;n++)if(o=A[n],s=A[n+1],(a+=i=o.distanceTo(s))>r){l=(a-r)/i,u=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var p=e.unproject(I(u));return z([p.lat+c.lat,p.lng+c.lng])}var Fn={__proto__:null,simplify:Mn,pointToSegmentDistance:En,closestPointOnSegment:Tn,clipSegment:Cn,_getEdgeIntersection:Rn,_getBitCode:Nn,_sqClosestPointOnSegment:In,isFlat:Dn,_flat:Bn,polylineCenter:qn},Un={project:function(t){return new N(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new D([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new N(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(o),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=a*Math.sin(s),e=Math.pow((1-e)/(1+e),a/2),s+=u=Math.PI/2-2*Math.atan(o*e)-s;return new U(s*n,t.x*n/r)}},Zn={__proto__:null,LonLat:Un,Mercator:zn,SphericalMercator:G},jn=n({},j,{code:"EPSG:3395",projection:zn,transformation:function(){var t=.5/(Math.PI*zn.R);return W(t,.5,-t,.5)}()}),Hn=n({},j,{code:"EPSG:4326",projection:Un,transformation:W(1/180,1,-1/180,.5)}),Gn=n({},Z,{projection:Un,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});Z.Earth=j,Z.EPSG3395=jn,Z.EPSG3857=X,Z.EPSG900913=Y,Z.EPSG4326=Hn,Z.Simple=Gn;var Vn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=o(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=o(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return o(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=o(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=Vn.extend({initialize:function(t,e){var n,r;if(A(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o(t)}}),Xn=function(t,e){return new Wn(t,e)},Yn=Wn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Wn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Wn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new q;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Qn=function(t,e){return new Yn(t,e)},Kn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){A(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=I(r),a=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Dt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Jn(t){return new Kn(t)}var $n=Kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Kn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var r=e.exec(t);return r&&r[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ae("div","leaflet-default-icon-path",document.body),e=fe(t,"background-image")||fe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),tr=mn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new yn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=Pe(e._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=B(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!l.contains(a)){var u=I((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(r);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Te(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=M(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=Pe(e._icon),i=e._map.layerPointToLatLng(r);n&&Te(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),er=Vn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){A(this,e),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ye(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(n,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(ye(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),de(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&de(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Te(this._icon,t),this._shadow&&Te(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&we(this._icon,t),this._shadow&&we(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?I(e.iconSize):I(0,0),r=e.iconAnchor?I(e.iconAnchor):I(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(t,e){return new er(t,e)}var rr=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return A(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(t,e){A(this,e),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return rr.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ar(t,e){return new ir(t,e)}var or=ir.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),A(this,e),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rr.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===j.distance){var i=Math.PI/180,a=this._mRadius/j.R/i,o=n.project([e+a,t]),s=n.project([e-a,t]),l=o.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(a*i)-Math.sin(e*i)*Math.sin(u*i))/(Math.cos(e*i)*Math.cos(u*i)))/i;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function sr(t,e,n){return new or(t,e,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){A(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,a=In,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],u=1,c=l.length;u<c;u++){var h=a(t,e=l[u-1],n=l[u],!0);h<r&&(r=h,i=a(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new q,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Dn(t),r=0,i=t.length;r<i;r++)n?(e[r]=z(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new N(t,t);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var r,i,a=t[0]instanceof U,o=t.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,a,o,s,l=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,a=(s=this._rings[e]).length;n<a-1;n++)(o=Cn(s[n],s[n+1],t,n,!0))&&(l[r]=l[r]||[],l[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=Mn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((e||0!==r)&&En(t,s[i],s[r])<=l)return!0;return!1}});function ur(t,e){return new lr(t,e)}lr._flat=Bn;var cr=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=lr.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof U&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){lr.prototype._setLatLngs.call(this,t),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new N(e,e);if(t=new D(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=bn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,a,o,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(l=(e=this._parts[i]).length)-1;a<l;o=a++)n=e[a],r=e[o],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(u=!u);return u||lr.prototype._containsPoint.call(this,t,!0)}});function hr(t,e){return new cr(t,e)}var fr=Yn.extend({initialize:function(t,e){A(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=v(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var o=Ar(t,a);return o?(o.feature=br(t),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(t,o),this.addLayer(o)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Ar(t,e){var n,r,i,a,o="Feature"===t.type?t.geometry:t,s=o?o.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||pr;if(!s&&!o)return null;switch(o.type){case"Point":return dr(u,t,n=c(s),e);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=c(s[i]),l.push(dr(u,t,n,e));return new Yn(l);case"LineString":case"MultiLineString":return r=mr(s,"LineString"===o.type?0:1,c),new lr(r,e);case"Polygon":case"MultiPolygon":return r=mr(s,"Polygon"===o.type?1:2,c),new cr(r,e);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var h=Ar({geometry:o.geometries[i],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Yn(l);case"FeatureCollection":for(i=0,a=o.features.length;i<a;i++){var f=Ar(o.features[i],e);f&&l.push(f)}return new Yn(l);default:throw new Error("Invalid GeoJSON object.")}}function dr(t,e,n,r){return t?t(e,n):new er(n,r&&r.markersInheritOptions&&r)}function pr(t){return new U(t[1],t[0],t[2])}function mr(t,e,n){for(var r,i=[],a=0,o=t.length;a<o;a++)r=e?mr(t[a],e-1,n):(n||pr)(t[a]),i.push(r);return i}function vr(t,e){return void 0!==(t=z(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function gr(t,e,n,r){for(var i=[],a=0,o=t.length;a<o;a++)i.push(e?gr(t[a],Dn(t[a])?0:e-1,n,r):vr(t[a],r));return!e&&n&&i.length>0&&i.push(i[0].slice()),i}function yr(t,e){return t.feature?n({},t.feature,{geometry:e}):br(e)}function br(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var _r={toGeoJSON:function(t){return yr(this,{type:"Point",coordinates:vr(this.getLatLng(),t)})}};function xr(t,e){return new fr(t,e)}er.include(_r),or.include(_r),ir.include(_r),lr.include({toGeoJSON:function(t){var e=!Dn(this._latlngs);return yr(this,{type:(e?"Multi":"")+"LineString",coordinates:gr(this._latlngs,e?1:0,!1,t)})}}),cr.include({toGeoJSON:function(t){var e=!Dn(this._latlngs),n=e&&!Dn(this._latlngs[0]),r=gr(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Wn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var a=br(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var wr=xr,Sr=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),A(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){de(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&me(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:Ae("img");ye(e,"leaflet-image-layer"),this._zoomAnimated&&ye(e,"leaflet-zoom-animated"),this.options.className&&ye(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ee(this._image,n,e)},_reset:function(){var t=this._image,e=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Te(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Mr=function(t,e,n){return new Sr(t,e,n)},Er=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:Ae("video");if(ye(e,"leaflet-image-layer"),this._zoomAnimated&&ye(e,"leaflet-zoom-animated"),this.options.className&&ye(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=Ae("source");s.src=this._url[o],e.appendChild(s)}}}});function Tr(t,e,n){return new Er(t,e,n)}var Pr=Sr.extend({_initImage:function(){var t=this._image=this._url;ye(t,"leaflet-image-layer"),this._zoomAnimated&&ye(t,"leaflet-zoom-animated"),this.options.className&&ye(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function kr(t,e,n){return new Pr(t,e,n)}var Lr=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof U||v(t))?(this._latlng=z(t),A(this,e)):(A(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&we(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&we(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(we(this._container,0),this._removeTimeout=setTimeout(i(de,void 0,this._container),200)):de(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&me(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Yn){e=null;var n=this._source._layers;for(var r in n)if(n[r]._map){e=n[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?Te(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,r){var i=e;return i instanceof t||(i=new t(r).setContent(e)),n&&i.setLatLng(n),i}}),Vn.include({_initOverlay:function(t,e,n,r){var i=n;return i instanceof t?(A(i,r),i._source=this):(i=e&&!r?e:new t(r,this)).setContent(n),i}});var Cr=Lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Lr.prototype.openOn.call(this,t)},onAdd:function(t){Lr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",He))},onRemove:function(t){Lr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",He))},getEvents:function(){var t=Lr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=Ae("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=Ae("div",t+"-content-wrapper",e);if(this._contentNode=Ae("div",t+"-content",n),Ve(e),Ge(this._contentNode),Be(e,"contextmenu",He),this._tipContainer=Ae("div",t+"-tip-container",e),this._tip=Ae("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=Ae("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Be(r,"click",(function(t){We(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",ye(t,a)):be(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Te(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new N(this._containerLeft,-n-this._containerBottom);i._add(Pe(this._container));var a=t.layerPointToContainerPoint(i),o=I(this.options.autoPanPadding),s=I(this.options.autoPanPaddingTopLeft||o),l=I(this.options.autoPanPaddingBottomRight||o),u=t.getSize(),c=0,h=0;a.x+r+l.x>u.x&&(c=a.x+r-u.x+l.x),a.x-c-s.x<0&&(c=a.x-s.x),a.y+n+l.y>u.y&&(h=a.y+n-u.y+l.y),a.y-h-s.y<0&&(h=a.y-s.y),(c||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,h]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rr=function(t,e){return new Cr(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Cr,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Vn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Cr,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Xe(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof rr?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Nr=Lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Lr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Lr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Lr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ae("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(t),s=this.options.direction,l=i.offsetWidth,u=i.offsetHeight,c=I(this.options.offset),h=this._getAnchor();"top"===s?(e=l/2,n=u):"bottom"===s?(e=l/2,n=0):"center"===s?(e=l/2,n=u/2):"right"===s?(e=0,n=u/2):"left"===s?(e=l,n=u/2):o.x<a.x?(s="right",e=0,n=u/2):(s="left",e=l+2*(c.x+h.x),n=u/2),t=t.subtract(I(e,n,!0)).add(c).add(h),be(i,"leaflet-tooltip-right"),be(i,"leaflet-tooltip-left"),be(i,"leaflet-tooltip-top"),be(i,"leaflet-tooltip-bottom"),ye(i,"leaflet-tooltip-"+s),Te(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&we(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Or=function(t,e){return new Nr(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(Nr,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Vn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nr,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Be(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Be(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Ir=Kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(pe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=I(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Dr(t){return new Ir(t)}Kn.Default=$n;var Br=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){A(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),de(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof N?t:new N(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,a=n.length;i<a;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){we(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(t-i.loaded)/200);we(i.el,a),a<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(E(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=Ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(de(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=Ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),u(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)de(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),a=Math.floor(e/2),o=n-1,s=new N(+i,+a);s.z=+o;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var a=2*e;a<2*e+2;a++){var o=new N(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();Dt.any3d?Ee(t.el,i,r):Te(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*r);return new D(i.subtract(a),i.add(a))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new N(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var A=new N(f,h);if(A.z=this._tileZoom,this._isValidTile(A)){var d=this._tiles[this._tileCoordsToKey(A)];d?d.current=!0:o.push(A)}}if(o.sort((function(t,e){return t.distanceTo(a)-e.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(f=0;f<o.length;f++)this._addTile(o[f],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new q(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new N(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(de(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ye(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Dt.ielt9&&this.options.opacity<1&&we(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&M(i(this._tileReady,this,t,null,a)),Te(a,n),this._tiles[r]={el:a,coords:t,current:!0},e.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(we(n.el,0),E(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ye(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new N(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new D(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function qr(t){return new Br(t)}var Fr=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=A(this,e)).detectRetina&&Dt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Be(n,"load",i(this._tileOnLoad,this,e,n)),Be(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Dt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Dt.ielt9?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,!e.complete)){e.src=y;var n=this._tiles[t].coords;de(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),Br.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Br.prototype._tileReady.call(this,t,e,n)}});function Ur(t,e){return new Fr(t,e)}var zr=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var a=(e=A(this,e)).detectRetina&&Dt.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Fr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=B(n.project(e[0]),n.project(e[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=Fr.prototype.getTileUrl.call(this,t);return s+d(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Zr(t,e){return new zr(t,e)}Fr.WMS=zr,Ur.wms=Zr;var jr=Vn.extend({options:{padding:.1},initialize:function(t){A(this,t),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(t,e));Dt.any3d?Ee(this._container,a,n):Te(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new D(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=jr.extend({options:{tolerance:0},getEvents:function(){var t=jr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Be(t,"mousemove",this._onMouseMove,this),Be(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,de(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){jr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Dt.retina?2:1;Te(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){jr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[o(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[o(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,a,o=t._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],l[r?"lineTo":"moveTo"](a.x,a.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(be(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(ye(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Gr(t){return Dt.canvas?new Hr(t):null}var Vr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wr={_initContainer:function(){this._container=Ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Vr("shape");ye(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Vr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;de(e),t.removeInteractiveTarget(e),delete this._layers[o(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=Vr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=Vr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){me(t._container)},_bringToBack:function(t){ve(t._container)}},Xr=Dt.vml?Vr:Q,Yr=jr.extend({_initContainer:function(){this._container=Xr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){de(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){jr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Te(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Xr("path");t.options.className&&ye(e,t.options.className),t.options.interactive&&ye(e,"leaflet-interactive"),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){de(t._path),t.removeInteractiveTarget(t._path),delete this._layers[o(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){me(t._path)},_bringToBack:function(t){ve(t._path)}});function Qr(t){return Dt.svg||Dt.vml?new Yr(t):null}Dt.vml&&Yr.include(Wr),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Gr(t)||Qr(t)}});var Kr=cr.extend({initialize:function(t,e){cr.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Jr(t,e){return new Kr(t,e)}Yr.create=Xr,Yr.pointsToPath=K,fr.geometryToLayer=Ar,fr.coordsToLatLng=pr,fr.coordsToLatLngs=mr,fr.latLngToCoords=vr,fr.latLngsToCoords=gr,fr.getFeature=yr,fr.asFeature=br,nn.mergeOptions({boxZoom:!0});var $r=mn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){de(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(t),Be(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ae("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new D(this._point,this._startPoint),n=e.getSize();Te(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(de(this._box),be(this._container,"leaflet-crosshair")),ie(),Ce(),Fe(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$r),nn.mergeOptions({doubleClickZoom:!0});var ti=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ti),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=mn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new yn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,a=(r+e+n)%t-e-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),h=u/(n.inertiaDeceleration*o),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),M((function(){e.panBy(f,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Be(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),r.options.maxBounds&&(e=r._limitOffset(I(e),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(e)));r.panTo(i)}else r.panBy(e)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Xe(t)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=mn.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Je(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Xe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var ai=mn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new N(e.clientX,e.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",We),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ii),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Fe(document,"touchend",We),Fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new N(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ai),nn.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var oi=mn.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),We(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(a,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&a<1||this._zoom>e.getMaxZoom()&&a>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(s,this,!0),We(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",oi),nn.BoxZoom=$r,nn.DoubleClickZoom=ti,nn.Drag=ei,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=ai,nn.TouchZoom=oi,t.Bounds=D,t.Browser=Dt,t.CRS=Z,t.Canvas=Hr,t.Circle=or,t.CircleMarker=ir,t.Class=P,t.Control=an,t.DivIcon=Ir,t.DivOverlay=Lr,t.DomEvent=tn,t.DomUtil=De,t.Draggable=yn,t.Evented=R,t.FeatureGroup=Yn,t.GeoJSON=fr,t.GridLayer=Br,t.Handler=mn,t.Icon=Kn,t.ImageOverlay=Sr,t.LatLng=U,t.LatLngBounds=q,t.Layer=Vn,t.LayerGroup=Wn,t.LineUtil=Fn,t.Map=nn,t.Marker=er,t.Mixin=vn,t.Path=rr,t.Point=N,t.PolyUtil=Sn,t.Polygon=cr,t.Polyline=lr,t.Popup=Cr,t.PosAnimation=en,t.Projection=Zn,t.Rectangle=Kr,t.Renderer=jr,t.SVG=Yr,t.SVGOverlay=Pr,t.TileLayer=Fr,t.Tooltip=Nr,t.Transformation=V,t.Util=T,t.VideoOverlay=Er,t.bind=i,t.bounds=B,t.canvas=Gr,t.circle=sr,t.circleMarker=ar,t.control=on,t.divIcon=Dr,t.extend=n,t.featureGroup=Qn,t.geoJSON=xr,t.geoJson=wr,t.gridLayer=qr,t.icon=Jn,t.imageOverlay=Mr,t.latLng=z,t.latLngBounds=F,t.layerGroup=Xn,t.map=rn,t.marker=nr,t.point=I,t.polygon=hr,t.polyline=ur,t.popup=Rr,t.rectangle=Jr,t.setOptions=A,t.stamp=o,t.svg=Qr,t.svgOverlay=kr,t.tileLayer=Ur,t.tooltip=Or,t.transformation=W,t.version=e,t.videoOverlay=Tr;var si=window.L;t.noConflict=function(){return window.L=si,this},window.L=t}(e)},888:function(t,e,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(t,e,n){t.exports=n(888)()},9047:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9135:function(t,e,n){"use strict";n.d(e,{Fm7:function(){return h},aHS:function(){return f}});var r=n(2791),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(i),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function l(t){return t&&t.map((function(t,e){return r.createElement(t.tag,o({key:e},t.attr),l(t.child))}))}function u(t){return function(e){return r.createElement(c,o({attr:o({},t.attr)},e),l(t.child))}}function c(t){var e=function(e){var n,i=t.attr,a=t.size,l=t.title,u=s(t,["attr","size","title"]),c=a||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:n,style:o(o({color:t.color||e.color},e.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),t.children)};return void 0!==a?r.createElement(a.Consumer,null,(function(t){return e(t)})):e(i)}function h(t){return u({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function f(t){return u({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}},1809:function(t,e,n){"use strict";n.d(e,{OK:function(){return D},td:function(){return L},x4:function(){return z},mQ:function(){return E}});var r=n(9439),i=n(1413),a=n(5987),o=n(2791);function s(t){return function(e){return!!e.type&&e.type.tabsRole===t}}var l=s("Tab"),u=s("TabList"),c=s("TabPanel");function h(t,e){return o.Children.map(t,(function(t){return null===t?null:function(t){return l(t)||u(t)||c(t)}(t)?e(t):t.props&&t.props.children&&"object"===typeof t.props.children?(0,o.cloneElement)(t,(0,i.Z)((0,i.Z)({},t.props),{},{children:h(t.props.children,e)})):t}))}function f(t,e){return o.Children.forEach(t,(function(t){null!==t&&(l(t)||c(t)?e(t):t.props&&t.props.children&&"object"===typeof t.props.children&&(u(t)&&e(t),f(t.props.children,e)))}))}var A=n(8182);function d(t){var e=0;return f(t,(function(t){l(t)&&e++})),e}var p,m=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function v(t){return t&&"getAttribute"in t}function g(t){return v(t)&&t.getAttribute("data-rttab")}function y(t){return v(t)&&"true"===t.getAttribute("aria-disabled")}var b={className:"react-tabs",focus:!1},_=function(t){var e=(0,o.useRef)([]),n=(0,o.useRef)([]),r=(0,o.useRef)();function s(e,n){e<0||e>=_()||(0,t.onSelect)(e,t.selectedIndex,n)}function f(t){for(var e=_(),n=t+1;n<e;n++)if(!y(x(n)))return n;for(var r=0;r<t;r++)if(!y(x(r)))return r;return t}function v(t){for(var e=t;e--;)if(!y(x(e)))return e;for(e=_();e-- >t;)if(!y(x(e)))return e;return t}function _(){return d(t.children)}function x(t){return e.current["tabs-".concat(t)]}function w(t){var e=t.target;do{if(S(e)){if(y(e))return;return void s([].slice.call(e.parentNode.children).filter(g).indexOf(e),t)}}while(null!=(e=e.parentNode))}function S(t){if(!g(t))return!1;var e=t.parentElement;do{if(e===r.current)return!0;if(e.getAttribute("data-rttabs"))break;e=e.parentElement}while(e);return!1}var M=(0,i.Z)((0,i.Z)({},b),t),E=(M.children,M.className),T=(M.disabledTabClassName,M.domRef),P=(M.focus,M.forceRenderTabPanel,M.onSelect,M.selectedIndex,M.selectedTabClassName,M.selectedTabPanelClassName,M.environment,M.disableUpDownKeys,M.disableLeftRightKeys,(0,a.Z)(M,m));return o.createElement("div",Object.assign({},P,{className:(0,A.Z)(E),onClick:w,onKeyDown:function(e){var n=t.direction,r=t.disableUpDownKeys,i=t.disableLeftRightKeys;if(S(e.target)){var a=t.selectedIndex,o=!1,l=!1;"Space"!==e.code&&32!==e.keyCode&&"Enter"!==e.code&&13!==e.keyCode||(o=!0,l=!1,w(e)),(i||37!==e.keyCode&&"ArrowLeft"!==e.code)&&(r||38!==e.keyCode&&"ArrowUp"!==e.code)?(i||39!==e.keyCode&&"ArrowRight"!==e.code)&&(r||40!==e.keyCode&&"ArrowDown"!==e.code)?35===e.keyCode||"End"===e.code?(a=function(){for(var t=_();t--;)if(!y(x(t)))return t;return null}(),o=!0,l=!0):36!==e.keyCode&&"Home"!==e.code||(a=function(){for(var t=_(),e=0;e<t;e++)if(!y(x(e)))return e;return null}(),o=!0,l=!0):(a="rtl"===n?v(a):f(a),o=!0,l=!0):(a="rtl"===n?f(a):v(a),o=!0,l=!0),o&&e.preventDefault(),l&&s(a,e)}},ref:function(t){r.current=t,T&&T(t)},"data-rttabs":!0}),function(){var r=0,i=t.children,a=t.disabledTabClassName,s=t.focus,f=t.forceRenderTabPanel,A=t.selectedIndex,d=t.selectedTabClassName,m=t.selectedTabPanelClassName,v=t.environment;n.current=n.current||[];for(var g=n.current.length-_(),y=(0,o.useId)();g++<0;)n.current.push("".concat(y).concat(n.current.length));return h(i,(function(t){var i=t;if(u(t)){var g=0,y=!1;null==p&&function(t){var e=t||("undefined"!==typeof window?window:void 0);try{p=!("undefined"===typeof e||!e.document||!e.document.activeElement)}catch(n){p=!1}}(v);var b=v||("undefined"!==typeof window?window:void 0);p&&b&&(y=o.Children.toArray(t.props.children).filter(l).some((function(t,e){return b.document.activeElement===x(e)}))),i=(0,o.cloneElement)(t,{children:h(t.props.children,(function(t){var r="tabs-".concat(g),i=A===g,l={tabRef:function(t){e.current[r]=t},id:n.current[g],selected:i,focus:i&&(s||y)};return d&&(l.selectedClassName=d),a&&(l.disabledClassName=a),g++,(0,o.cloneElement)(t,l)}))})}else if(c(t)){var _={id:n.current[r],selected:A===r};f&&(_.forceRender=f),m&&(_.selectedClassName=m),r++,i=(0,o.cloneElement)(t,_)}return i}))}())};_.propTypes={};var x=_,w=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"],S={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},M=function(t){var e=(0,i.Z)((0,i.Z)({},S),t),n=e.children,s=e.defaultFocus,l=e.defaultIndex,u=e.focusTabOnClick,c=e.onSelect,h=(0,a.Z)(e,w),f=(0,o.useState)(s),A=(0,r.Z)(f,2),p=A[0],m=A[1],v=(0,o.useState)(function(t){return null===t.selectedIndex?1:0}(h)),g=(0,r.Z)(v,1)[0],y=(0,o.useState)(1===g?l||0:null),b=(0,r.Z)(y,2),_=b[0],M=b[1];if((0,o.useEffect)((function(){m(!1)}),[]),1===g){var E=d(n);(0,o.useEffect)((function(){if(null!=_){var t=Math.max(0,E-1);M(Math.min(_,t))}}),[E])}var T=(0,i.Z)((0,i.Z)({},t),h);return T.focus=p,T.onSelect=function(t,e,n){"function"===typeof c&&!1===c(t,e,n)||(u&&m(!0),1===g&&M(t))},null!=_&&(T.selectedIndex=_),delete T.defaultFocus,delete T.defaultIndex,delete T.focusTabOnClick,o.createElement(x,T,n)};M.propTypes={},M.tabsRole="Tabs";var E=M,T=["children","className"],P={className:"react-tabs__tab-list"},k=function(t){var e=(0,i.Z)((0,i.Z)({},P),t),n=e.children,r=e.className,s=(0,a.Z)(e,T);return o.createElement("ul",Object.assign({},s,{className:(0,A.Z)(r),role:"tablist"}),n)};k.tabsRole="TabList",k.propTypes={};var L=k,C=n(4942),R=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],N="react-tabs__tab",O={className:N,disabledClassName:"".concat(N,"--disabled"),focus:!1,id:null,selected:!1,selectedClassName:"".concat(N,"--selected")},I=function(t){var e,n=(0,o.useRef)(),r=(0,i.Z)((0,i.Z)({},O),t),s=r.children,l=r.className,u=r.disabled,c=r.disabledClassName,h=r.focus,f=r.id,d=r.selected,p=r.selectedClassName,m=r.tabIndex,v=r.tabRef,g=(0,a.Z)(r,R);return(0,o.useEffect)((function(){d&&h&&n.current.focus()}),[d,h]),o.createElement("li",Object.assign({},g,{className:(0,A.Z)(l,(e={},(0,C.Z)(e,p,d),(0,C.Z)(e,c,u),e)),ref:function(t){n.current=t,v&&v(t)},role:"tab",id:"tab".concat(f),"aria-selected":d?"true":"false","aria-disabled":u?"true":"false","aria-controls":"panel".concat(f),tabIndex:m||(d?"0":null),"data-rttab":!0}),s)};I.propTypes={},I.tabsRole="Tab";var D=I,B=["children","className","forceRender","id","selected","selectedClassName"],q="react-tabs__tab-panel",F={className:q,forceRender:!1,selectedClassName:"".concat(q,"--selected")},U=function(t){var e=(0,i.Z)((0,i.Z)({},F),t),n=e.children,r=e.className,s=e.forceRender,l=e.id,u=e.selected,c=e.selectedClassName,h=(0,a.Z)(e,B);return o.createElement("div",Object.assign({},h,{className:(0,A.Z)(r,(0,C.Z)({},c,u)),role:"tabpanel",id:"panel".concat(l),"aria-labelledby":"tab".concat(l)}),s||u?n:null)};U.tabsRole="TabPanel",U.propTypes={};var z=U},5545:function(t,e,n){"use strict";var r=n(2791);e.Z=r.createContext(null)},2144:function(){},3666:function(){},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},5372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},3405:function(t,e,n){var r=n(3897);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},9498:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8872:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},2218:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},2281:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},7424:function(t,e,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);t.exports=function(t,e){return r(t)||i(t,e)||a(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},861:function(t,e,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);t.exports=function(t){return r(t)||i(t)||a(t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,n){var r=n(3897);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},1501:function(t){t.exports=function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},r={},i=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<a.length;i+=1){var o=a[i];r["[object "+o+"]"]=o.toLowerCase()}var s=function(t){return r[Object.prototype.toString.call(t)]||"object"},l=s,u=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==l(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},c=s,h=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==c(t[e])?t[e].toLowerCase():null},f=Math.PI,A={clip_rgb:n,limit:t,type:s,unpack:u,last:h,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},d={format:{},autodetect:[]},p=A.last,m=A.clip_rgb,v=A.type,g=d,y=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===v(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=p(t),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,e){return e.p-t.p})),g.sorted=!0);for(var a=0,o=g.autodetect;a<o.length;a+=1){var s=o[a];if(r=s.test.apply(s,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=m(l),3===n._rgb.length&&n._rgb.push(1)};y.prototype.toString=function(){return"function"==v(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var b=y,_=function t(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return new(Function.prototype.bind.apply(t.Color,[null].concat(e)))};_.Color=b,_.version="2.4.2";var x=_,w=A.unpack,S=Math.max,M=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=w(t,"rgb"),r=n[0],i=n[1],a=n[2],o=1-S(r/=255,S(i/=255,a/=255)),s=o<1?1/(1-o):0;return[(1-r-o)*s,(1-i-o)*s,(1-a-o)*s,o]},E=M,T=A.unpack,P=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=T(t,"cmyk"))[0],r=t[1],i=t[2],a=t[3],o=t.length>4?t[4]:1;return 1===a?[0,0,0,o]:[n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),i>=1?0:255*(1-i)*(1-a),o]},k=P,L=x,C=b,R=d,N=A.unpack,O=A.type,I=E;C.prototype.cmyk=function(){return I(this._rgb)},L.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(C,[null].concat(t,["cmyk"])))},R.format.cmyk=k,R.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=N(t,"cmyk"),"array"===O(t)&&4===t.length)return"cmyk"}});var D=A.unpack,B=A.last,q=function(t){return Math.round(100*t)/100},F=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=D(t,"hsla"),r=B(t)||"lsa";return n[0]=q(n[0]||0),n[1]=q(100*n[1])+"%",n[2]=q(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},U=F,z=A.unpack,Z=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=z(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var a,o,s=Math.min(n,r,i),l=Math.max(n,r,i),u=(l+s)/2;return l===s?(a=0,o=Number.NaN):a=u<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?o=(r-i)/(l-s):r==l?o=2+(i-n)/(l-s):i==l&&(o=4+(n-r)/(l-s)),(o*=60)<0&&(o+=360),t.length>3&&void 0!==t[3]?[o,a,u,t[3]]:[o,a,u]},j=Z,H=A.unpack,G=A.last,V=U,W=j,X=Math.round,Y=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=H(t,"rgba"),r=G(t)||"rgb";return"hsl"==r.substr(0,3)?V(W(n),r):(n[0]=X(n[0]),n[1]=X(n[1]),n[2]=X(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},Q=Y,K=A.unpack,J=Math.round,$=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,a,o=(e=K(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=a=255*l;else{var u=[0,0,0],c=[0,0,0],h=l<.5?l*(1+s):l+s-l*s,f=2*l-h,A=o/360;u[0]=A+1/3,u[1]=A,u[2]=A-1/3;for(var d=0;d<3;d++)u[d]<0&&(u[d]+=1),u[d]>1&&(u[d]-=1),6*u[d]<1?c[d]=f+6*(h-f)*u[d]:2*u[d]<1?c[d]=h:3*u[d]<2?c[d]=f+(h-f)*(2/3-u[d])*6:c[d]=f;r=(t=[J(255*c[0]),J(255*c[1]),J(255*c[2])])[0],i=t[1],a=t[2]}return e.length>3?[r,i,a,e[3]]:[r,i,a,1]},tt=$,et=tt,nt=d,rt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,it=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,at=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ot=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,st=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,lt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ut=Math.round,ct=function(t){var e;if(t=t.toLowerCase().trim(),nt.format.named)try{return nt.format.named(t)}catch(d){}if(e=t.match(rt)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(it)){for(var i=e.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(e=t.match(at)){for(var o=e.slice(1,4),s=0;s<3;s++)o[s]=ut(2.55*o[s]);return o[3]=1,o}if(e=t.match(ot)){for(var l=e.slice(1,5),u=0;u<3;u++)l[u]=ut(2.55*l[u]);return l[3]=+l[3],l}if(e=t.match(st)){var c=e.slice(1,4);c[1]*=.01,c[2]*=.01;var h=et(c);return h[3]=1,h}if(e=t.match(lt)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var A=et(f);return A[3]=+e[4],A}};ct.test=function(t){return rt.test(t)||it.test(t)||at.test(t)||ot.test(t)||st.test(t)||lt.test(t)};var ht=ct,ft=x,At=b,dt=d,pt=A.type,mt=Q,vt=ht;At.prototype.css=function(t){return mt(this._rgb,t)},ft.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(At,[null].concat(t,["css"])))},dt.format.css=vt,dt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===pt(t)&&vt.test(t))return"css"}});var gt=b,yt=x,bt=d,_t=A.unpack;bt.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=_t(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},yt.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(gt,[null].concat(t,["gl"])))},gt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var xt=A.unpack,wt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=xt(t,"rgb"),i=r[0],a=r[1],o=r[2],s=Math.min(i,a,o),l=Math.max(i,a,o),u=l-s,c=100*u/255,h=s/(255-u)*100;return 0===u?n=Number.NaN:(i===l&&(n=(a-o)/u),a===l&&(n=2+(o-i)/u),o===l&&(n=4+(i-a)/u),(n*=60)<0&&(n+=360)),[n,c,h]},St=wt,Mt=A.unpack,Et=Math.floor,Tt=function(){for(var t,e,n,r,i,a,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,u,c,h=(o=Mt(o,"hcg"))[0],f=o[1],A=o[2];A*=255;var d=255*f;if(0===f)l=u=c=A;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var p=Et(h/=60),m=h-p,v=A*(1-f),g=v+d*(1-m),y=v+d*m,b=v+d;switch(p){case 0:l=(t=[b,y,v])[0],u=t[1],c=t[2];break;case 1:l=(e=[g,b,v])[0],u=e[1],c=e[2];break;case 2:l=(n=[v,b,y])[0],u=n[1],c=n[2];break;case 3:l=(r=[v,g,b])[0],u=r[1],c=r[2];break;case 4:l=(i=[y,v,b])[0],u=i[1],c=i[2];break;case 5:l=(a=[b,v,g])[0],u=a[1],c=a[2]}}return[l,u,c,o.length>3?o[3]:1]},Pt=Tt,kt=A.unpack,Lt=A.type,Ct=x,Rt=b,Nt=d,Ot=St;Rt.prototype.hcg=function(){return Ot(this._rgb)},Ct.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rt,[null].concat(t,["hcg"])))},Nt.format.hcg=Pt,Nt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=kt(t,"hcg"),"array"===Lt(t)&&3===t.length)return"hcg"}});var It=A.unpack,Dt=A.last,Bt=Math.round,qt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=It(t,"rgba"),r=n[0],i=n[1],a=n[2],o=n[3],s=Dt(t)||"auto";void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb");var l="000000"+((r=Bt(r))<<16|(i=Bt(i))<<8|(a=Bt(a))).toString(16);l=l.substr(l.length-6);var u="0"+Bt(255*o).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+l+u;case"argb":return"#"+u+l;default:return"#"+l}},Ft=qt,Ut=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,zt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Zt=function(t){if(t.match(Ut)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(zt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},jt=x,Ht=b,Gt=A.type,Vt=d,Wt=Ft;Ht.prototype.hex=function(t){return Wt(this._rgb,t)},jt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ht,[null].concat(t,["hex"])))},Vt.format.hex=Zt,Vt.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Gt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Xt=A.unpack,Yt=A.TWOPI,Qt=Math.min,Kt=Math.sqrt,Jt=Math.acos,$t=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Xt(t,"rgb"),i=r[0],a=r[1],o=r[2],s=Qt(i/=255,a/=255,o/=255),l=(i+a+o)/3,u=l>0?1-s/l:0;return 0===u?n=NaN:(n=(i-a+(i-o))/2,n/=Kt((i-a)*(i-a)+(i-o)*(a-o)),n=Jt(n),o>a&&(n=Yt-n),n/=Yt),[360*n,u,l]},te=$t,ee=A.unpack,ne=A.limit,re=A.TWOPI,ie=A.PITHIRD,ae=Math.cos,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,a=(t=ee(t,"hsi"))[0],o=t[1],s=t[2];return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?r=1-((i=(1-o)/3)+(n=(1+o*ae(re*a)/ae(ie-re*a))/3)):a<2/3?i=1-((n=(1-o)/3)+(r=(1+o*ae(re*(a-=1/3))/ae(ie-re*a))/3)):n=1-((r=(1-o)/3)+(i=(1+o*ae(re*(a-=2/3))/ae(ie-re*a))/3)),[255*(n=ne(s*n*3)),255*(r=ne(s*r*3)),255*(i=ne(s*i*3)),t.length>3?t[3]:1]},se=oe,le=A.unpack,ue=A.type,ce=x,he=b,fe=d,Ae=te;he.prototype.hsi=function(){return Ae(this._rgb)},ce.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(he,[null].concat(t,["hsi"])))},fe.format.hsi=se,fe.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=le(t,"hsi"),"array"===ue(t)&&3===t.length)return"hsi"}});var de=A.unpack,pe=A.type,me=x,ve=b,ge=d,ye=j;ve.prototype.hsl=function(){return ye(this._rgb)},me.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ve,[null].concat(t,["hsl"])))},ge.format.hsl=tt,ge.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=de(t,"hsl"),"array"===pe(t)&&3===t.length)return"hsl"}});var be=A.unpack,_e=Math.min,xe=Math.max,we=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,a=(t=be(t,"rgb"))[0],o=t[1],s=t[2],l=_e(a,o,s),u=xe(a,o,s),c=u-l;return i=u/255,0===u?(n=Number.NaN,r=0):(r=c/u,a===u&&(n=(o-s)/c),o===u&&(n=2+(s-a)/c),s===u&&(n=4+(a-o)/c),(n*=60)<0&&(n+=360)),[n,r,i]},Se=we,Me=A.unpack,Ee=Math.floor,Te=function(){for(var t,e,n,r,i,a,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,u,c,h=(o=Me(o,"hsv"))[0],f=o[1],A=o[2];if(A*=255,0===f)l=u=c=A;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var d=Ee(h/=60),p=h-d,m=A*(1-f),v=A*(1-f*p),g=A*(1-f*(1-p));switch(d){case 0:l=(t=[A,g,m])[0],u=t[1],c=t[2];break;case 1:l=(e=[v,A,m])[0],u=e[1],c=e[2];break;case 2:l=(n=[m,A,g])[0],u=n[1],c=n[2];break;case 3:l=(r=[m,v,A])[0],u=r[1],c=r[2];break;case 4:l=(i=[g,m,A])[0],u=i[1],c=i[2];break;case 5:l=(a=[A,m,v])[0],u=a[1],c=a[2]}}return[l,u,c,o.length>3?o[3]:1]},Pe=Te,ke=A.unpack,Le=A.type,Ce=x,Re=b,Ne=d,Oe=Se;Re.prototype.hsv=function(){return Oe(this._rgb)},Ce.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Re,[null].concat(t,["hsv"])))},Ne.format.hsv=Pe,Ne.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ke(t,"hsv"),"array"===Le(t)&&3===t.length)return"hsv"}});var Ie={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},De=Ie,Be=A.unpack,qe=Math.pow,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Be(t,"rgb"),r=n[0],i=n[1],a=n[2],o=Ze(r,i,a),s=o[0],l=o[1],u=116*l-16;return[u<0?0:u,500*(s-l),200*(l-o[2])]},Ue=function(t){return(t/=255)<=.04045?t/12.92:qe((t+.055)/1.055,2.4)},ze=function(t){return t>De.t3?qe(t,1/3):t/De.t2+De.t0},Ze=function(t,e,n){return t=Ue(t),e=Ue(e),n=Ue(n),[ze((.4124564*t+.3575761*e+.1804375*n)/De.Xn),ze((.2126729*t+.7151522*e+.072175*n)/De.Yn),ze((.0193339*t+.119192*e+.9503041*n)/De.Zn)]},je=Fe,He=Ie,Ge=A.unpack,Ve=Math.pow,We=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,a=(t=Ge(t,"lab"))[0],o=t[1],s=t[2];return r=(a+16)/116,n=isNaN(o)?r:r+o/500,i=isNaN(s)?r:r-s/200,r=He.Yn*Ye(r),n=He.Xn*Ye(n),i=He.Zn*Ye(i),[Xe(3.2404542*n-1.5371385*r-.4985314*i),Xe(-.969266*n+1.8760108*r+.041556*i),Xe(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Xe=function(t){return 255*(t<=.00304?12.92*t:1.055*Ve(t,1/2.4)-.055)},Ye=function(t){return t>He.t1?t*t*t:He.t2*(t-He.t0)},Qe=We,Ke=A.unpack,Je=A.type,$e=x,tn=b,en=d,nn=je;tn.prototype.lab=function(){return nn(this._rgb)},$e.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(tn,[null].concat(t,["lab"])))},en.format.lab=Qe,en.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ke(t,"lab"),"array"===Je(t)&&3===t.length)return"lab"}});var rn=A.unpack,an=A.RAD2DEG,on=Math.sqrt,sn=Math.atan2,ln=Math.round,un=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=rn(t,"lab"),r=n[0],i=n[1],a=n[2],o=on(i*i+a*a),s=(sn(a,i)*an+360)%360;return 0===ln(1e4*o)&&(s=Number.NaN),[r,o,s]},cn=un,hn=A.unpack,fn=je,An=cn,dn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=hn(t,"rgb"),r=n[0],i=n[1],a=n[2],o=fn(r,i,a),s=o[0],l=o[1],u=o[2];return An(s,l,u)},pn=dn,mn=A.unpack,vn=A.DEG2RAD,gn=Math.sin,yn=Math.cos,bn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=mn(t,"lch"),r=n[0],i=n[1],a=n[2];return isNaN(a)&&(a=0),[r,yn(a*=vn)*i,gn(a)*i]},_n=bn,xn=A.unpack,wn=_n,Sn=Qe,Mn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=xn(t,"lch"))[0],r=t[1],i=t[2],a=wn(n,r,i),o=a[0],s=a[1],l=a[2],u=Sn(o,s,l);return[u[0],u[1],u[2],t.length>3?t[3]:1]},En=Mn,Tn=A.unpack,Pn=En,kn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Tn(t,"hcl").reverse();return Pn.apply(void 0,n)},Ln=kn,Cn=A.unpack,Rn=A.type,Nn=x,On=b,In=d,Dn=pn;On.prototype.lch=function(){return Dn(this._rgb)},On.prototype.hcl=function(){return Dn(this._rgb).reverse()},Nn.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(On,[null].concat(t,["lch"])))},Nn.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(On,[null].concat(t,["hcl"])))},In.format.lch=En,In.format.hcl=Ln,["lch","hcl"].forEach((function(t){return In.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=Cn(e,t),"array"===Rn(e)&&3===e.length)return t}})}));var Bn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},qn=b,Fn=d,Un=A.type,zn=Bn,Zn=Zt,jn=Ft;qn.prototype.name=function(){for(var t=jn(this._rgb,"rgb"),e=0,n=Object.keys(zn);e<n.length;e+=1){var r=n[e];if(zn[r]===t)return r.toLowerCase()}return t},Fn.format.named=function(t){if(t=t.toLowerCase(),zn[t])return Zn(zn[t]);throw new Error("unknown color name: "+t)},Fn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Un(t)&&zn[t.toLowerCase()])return"named"}});var Hn=A.unpack,Gn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Hn(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},Vn=Gn,Wn=A.type,Xn=function(t){if("number"==Wn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Yn=x,Qn=b,Kn=d,Jn=A.type,$n=Vn;Qn.prototype.num=function(){return $n(this._rgb)},Yn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Qn,[null].concat(t,["num"])))},Kn.format.num=Xn,Kn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Jn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var tr=x,er=b,nr=d,rr=A.unpack,ir=A.type,ar=Math.round;er.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ar)},er.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:ar(e):e}))},tr.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(er,[null].concat(t,["rgb"])))},nr.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=rr(t,"rgba");return void 0===n[3]&&(n[3]=1),n},nr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=rr(t,"rgba"),"array"===ir(t)&&(3===t.length||4===t.length&&"number"==ir(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var or=Math.log,sr=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*or(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*or(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*or(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*or(n),r=255),[e,n,r,1]},lr=sr,ur=A.unpack,cr=Math.round,hr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=ur(t,"rgb"),i=r[0],a=r[2],o=1e3,s=4e4,l=.4;s-o>l;){var u=lr(n=.5*(s+o));u[2]/u[0]>=a/i?s=n:o=n}return cr(n)},fr=x,Ar=b,dr=d,pr=hr;Ar.prototype.temp=Ar.prototype.kelvin=Ar.prototype.temperature=function(){return pr(this._rgb)},fr.temp=fr.kelvin=fr.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ar,[null].concat(t,["temp"])))},dr.format.temp=dr.format.kelvin=dr.format.temperature=sr;var mr=A.unpack,vr=Math.cbrt,gr=Math.pow,yr=Math.sign,br=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=mr(t,"rgb"),r=n[0],i=n[1],a=n[2],o=[xr(r/255),xr(i/255),xr(a/255)],s=o[0],l=o[1],u=o[2],c=vr(.4122214708*s+.5363325363*l+.0514459929*u),h=vr(.2119034982*s+.6806995451*l+.1073969566*u),f=vr(.0883024619*s+.2817188376*l+.6299787005*u);return[.2104542553*c+.793617785*h-.0040720468*f,1.9779984951*c-2.428592205*h+.4505937099*f,.0259040371*c+.7827717662*h-.808675766*f]},_r=br;function xr(t){var e=Math.abs(t);return e<.04045?t/12.92:(yr(t)||1)*gr((e+.055)/1.055,2.4)}var wr=A.unpack,Sr=Math.pow,Mr=Math.sign,Er=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=wr(t,"lab"))[0],r=t[1],i=t[2],a=Sr(n+.3963377774*r+.2158037573*i,3),o=Sr(n-.1055613458*r-.0638541728*i,3),s=Sr(n-.0894841775*r-1.291485548*i,3);return[255*Pr(4.0767416621*a-3.3077115913*o+.2309699292*s),255*Pr(-1.2684380046*a+2.6097574011*o-.3413193965*s),255*Pr(-.0041960863*a-.7034186147*o+1.707614701*s),t.length>3?t[3]:1]},Tr=Er;function Pr(t){var e=Math.abs(t);return e>.0031308?(Mr(t)||1)*(1.055*Sr(e,1/2.4)-.055):12.92*t}var kr=A.unpack,Lr=A.type,Cr=x,Rr=b,Nr=d,Or=_r;Rr.prototype.oklab=function(){return Or(this._rgb)},Cr.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Rr,[null].concat(t,["oklab"])))},Nr.format.oklab=Tr,Nr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=kr(t,"oklab"),"array"===Lr(t)&&3===t.length)return"oklab"}});var Ir=A.unpack,Dr=_r,Br=cn,qr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ir(t,"rgb"),r=n[0],i=n[1],a=n[2],o=Dr(r,i,a),s=o[0],l=o[1],u=o[2];return Br(s,l,u)},Fr=qr,Ur=A.unpack,zr=_n,Zr=Tr,jr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ur(t,"lch"))[0],r=t[1],i=t[2],a=zr(n,r,i),o=a[0],s=a[1],l=a[2],u=Zr(o,s,l);return[u[0],u[1],u[2],t.length>3?t[3]:1]},Hr=jr,Gr=A.unpack,Vr=A.type,Wr=x,Xr=b,Yr=d,Qr=Fr;Xr.prototype.oklch=function(){return Qr(this._rgb)},Wr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xr,[null].concat(t,["oklch"])))},Yr.format.oklch=Hr,Yr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Gr(t,"oklch"),"array"===Vr(t)&&3===t.length)return"oklch"}});var Kr=b,Jr=A.type;Kr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Jr(t)?e?(this._rgb[3]=t,this):new Kr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},b.prototype.clipped=function(){return this._rgb._clipped||!1};var $r=b,ti=Ie;$r.prototype.darken=function(t){void 0===t&&(t=1);var e=this,n=e.lab();return n[0]-=ti.Kn*t,new $r(n,"lab").alpha(e.alpha(),!0)},$r.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},$r.prototype.darker=$r.prototype.darken,$r.prototype.brighter=$r.prototype.brighten,b.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var a=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(a>-1)return i[a];throw new Error("unknown channel "+r+" in mode "+n)}return i};var ei=b,ni=A.type,ri=Math.pow,ii=1e-7,ai=20;ei.prototype.luminance=function(t){if(void 0!==t&&"number"===ni(t)){if(0===t)return new ei([0,0,0,this._rgb[3]],"rgb");if(1===t)return new ei([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=ai,i=function e(i,a){var o=i.interpolate(a,.5,n),s=o.luminance();return Math.abs(t-s)<ii||!r--?o:s>t?e(i,o):e(o,a)},a=(e>t?i(new ei([0,0,0]),this):i(this,new ei([255,255,255]))).rgb();return new ei(a.concat([this._rgb[3]]))}return oi.apply(void 0,this._rgb.slice(0,3))};var oi=function(t,e,n){return.2126*(t=si(t))+.7152*(e=si(e))+.0722*(n=si(n))},si=function(t){return(t/=255)<=.03928?t/12.92:ri((t+.055)/1.055,2.4)},li={},ui=b,ci=A.type,hi=li,fi=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var a=r[0]||"lrgb";if(hi[a]||r.length||(a=Object.keys(hi)[0]),!hi[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==ci(t)&&(t=new ui(t)),"object"!==ci(e)&&(e=new ui(e)),hi[a](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},Ai=b,di=fi;Ai.prototype.mix=Ai.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return di.apply(void 0,[this,t,e].concat(n))};var pi=b;pi.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new pi([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var mi=b,vi=Ie;mi.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,n=e.lch();return n[1]+=vi.Kn*t,n[1]<0&&(n[1]=0),new mi(n,"lch").alpha(e.alpha(),!0)},mi.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var gi=b,yi=A.type;gi.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],a=r[1],o=this[i]();if(a){var s=i.indexOf(a)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==yi(e))switch(e.charAt(0)){case"+":case"-":o[s]+=+e;break;case"*":o[s]*=+e.substr(1);break;case"/":o[s]/=+e.substr(1);break;default:o[s]=+e}else{if("number"!==yi(e))throw new Error("unsupported value for Color.set");o[s]=e}var l=new gi(o,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+a+" in mode "+i)}return o};var bi=b,_i=function(t,e,n){var r=t._rgb,i=e._rgb;return new bi(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};li.rgb=_i;var xi=b,wi=Math.sqrt,Si=Math.pow,Mi=function(t,e,n){var r=t._rgb,i=r[0],a=r[1],o=r[2],s=e._rgb,l=s[0],u=s[1],c=s[2];return new xi(wi(Si(i,2)*(1-n)+Si(l,2)*n),wi(Si(a,2)*(1-n)+Si(u,2)*n),wi(Si(o,2)*(1-n)+Si(c,2)*n),"rgb")};li.lrgb=Mi;var Ei=b,Ti=function(t,e,n){var r=t.lab(),i=e.lab();return new Ei(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};li.lab=Ti;var Pi=b,ki=function(t,e,n,r){var i,a,o,s,l,u,c,h,f,A,d,p,m;return"hsl"===r?(o=t.hsl(),s=e.hsl()):"hsv"===r?(o=t.hsv(),s=e.hsv()):"hcg"===r?(o=t.hcg(),s=e.hcg()):"hsi"===r?(o=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",o=t.hcl(),s=e.hcl()):"oklch"===r&&(o=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=o)[0],c=i[1],f=i[2],u=(a=s)[0],h=a[1],A=a[2]),isNaN(l)||isNaN(u)?isNaN(l)?isNaN(u)?p=Number.NaN:(p=u,1!=f&&0!=f||"hsv"==r||(d=h)):(p=l,1!=A&&0!=A||"hsv"==r||(d=c)):p=l+n*(u>l&&u-l>180?u-(l+360):u<l&&l-u>180?u+360-l:u-l),void 0===d&&(d=c+n*(h-c)),m=f+n*(A-f),new Pi("oklch"===r?[m,d,p]:[p,d,m],r)},Li=ki,Ci=function(t,e,n){return Li(t,e,n,"lch")};li.lch=Ci,li.hcl=Ci;var Ri=b,Ni=function(t,e,n){var r=t.num(),i=e.num();return new Ri(r+n*(i-r),"num")};li.num=Ni;var Oi=ki,Ii=function(t,e,n){return Oi(t,e,n,"hcg")};li.hcg=Ii;var Di=ki,Bi=function(t,e,n){return Di(t,e,n,"hsi")};li.hsi=Bi;var qi=ki,Fi=function(t,e,n){return qi(t,e,n,"hsl")};li.hsl=Fi;var Ui=ki,zi=function(t,e,n){return Ui(t,e,n,"hsv")};li.hsv=zi;var Zi=b,ji=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Zi(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};li.oklab=ji;var Hi=ki,Gi=function(t,e,n){return Hi(t,e,n,"oklch")};li.oklch=Gi;var Vi=b,Wi=A.clip_rgb,Xi=Math.pow,Yi=Math.sqrt,Qi=Math.PI,Ki=Math.cos,Ji=Math.sin,$i=Math.atan2,ta=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Vi(t)})),"lrgb"===e)return ea(t,n);for(var a=t.shift(),o=a.get(e),s=[],l=0,u=0,c=0;c<o.length;c++)if(o[c]=(o[c]||0)*n[0],s.push(isNaN(o[c])?0:n[0]),"h"===e.charAt(c)&&!isNaN(o[c])){var h=o[c]/180*Qi;l+=Ki(h)*n[0],u+=Ji(h)*n[0]}var f=a.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);f+=t.alpha()*n[r+1];for(var a=0;a<o.length;a++)if(!isNaN(i[a]))if(s[a]+=n[r+1],"h"===e.charAt(a)){var c=i[a]/180*Qi;l+=Ki(c)*n[r+1],u+=Ji(c)*n[r+1]}else o[a]+=i[a]*n[r+1]}));for(var A=0;A<o.length;A++)if("h"===e.charAt(A)){for(var d=$i(u/s[A],l/s[A])/Qi*180;d<0;)d+=360;for(;d>=360;)d-=360;o[A]=d}else o[A]=o[A]/s[A];return f/=r,new Vi(o,e).alpha(f>.99999?1:f,!0)},ea=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var a=t[i],o=e[i]/n,s=a._rgb;r[0]+=Xi(s[0],2)*o,r[1]+=Xi(s[1],2)*o,r[2]+=Xi(s[2],2)*o,r[3]+=s[3]*o}return r[0]=Yi(r[0]),r[1]=Yi(r[1]),r[2]=Yi(r[2]),r[3]>.9999999&&(r[3]=1),new Vi(Wi(r))},na=x,ra=A.type,ia=Math.pow,aa=function(t){var e="rgb",n=na("#ccc"),r=0,i=[0,1],a=[],o=[0,0],s=!1,l=[],u=!1,c=0,h=1,f=!1,A={},d=!0,p=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===ra(t)&&na.brewer&&na.brewer[t.toLowerCase()]&&(t=na.brewer[t.toLowerCase()]),"array"===ra(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=na(t[e]);a.length=0;for(var n=0;n<t.length;n++)a.push(n/(t.length-1))}return _(),l=t},v=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0},g=function(t){return t},y=function(t){return t},b=function(t,r){var i,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;u=r?t:s&&s.length>2?v(t)/(s.length-2):h!==c?(t-c)/(h-c):1,u=y(u),r||(u=g(u)),1!==p&&(u=ia(u,p)),u=o[0]+u*(1-o[0]-o[1]),u=Math.min(1,Math.max(0,u));var f=Math.floor(1e4*u);if(d&&A[f])i=A[f];else{if("array"===ra(l))for(var m=0;m<a.length;m++){var b=a[m];if(u<=b){i=l[m];break}if(u>=b&&m===a.length-1){i=l[m];break}if(u>b&&u<a[m+1]){u=(u-b)/(a[m+1]-b),i=na.interpolate(l[m],l[m+1],u,e);break}}else"function"===ra(l)&&(i=l(u));d&&(A[f]=i)}return i},_=function(){return A={}};m(t);var x=function(t){var e=na(b(t));return u&&e[u]?e[u]():e};return x.classes=function(t){if(null!=t){if("array"===ra(t))s=t,i=[t[0],t[t.length-1]];else{var e=na.analyze(i);s=0===t?[e.min,e.max]:na.limits(e,"e",t)}return x}return s},x.domain=function(t){if(!arguments.length)return i;c=t[0],h=t[t.length-1],a=[];var e=l.length;if(t.length===e&&c!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];a.push((o-c)/(h-c))}else{for(var s=0;s<e;s++)a.push(s/(e-1));if(t.length>2){var u=t.map((function(e,n){return n/(t.length-1)})),f=t.map((function(t){return(t-c)/(h-c)}));f.every((function(t,e){return u[e]===t}))||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=f[e+1];)e++;var n=(t-f[e])/(f[e+1]-f[e]);return u[e]+n*(u[e+1]-u[e])})}}return i=[c,h],x},x.mode=function(t){return arguments.length?(e=t,_(),x):e},x.range=function(t,e){return m(t),x},x.out=function(t){return u=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),f=t,_(),g=f?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],a=e+(n-e)*t,o=i-a,s=0,l=1,u=20;Math.abs(o)>.01&&u-- >0;)r&&(o*=-1),o<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),i=b(t,!0).lab()[0],o=i-a;return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===ra(t)&&(t=[t,t]),o=t,x):o},x.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[x(.5)];else if(e>1){var a=i[0],o=i[1]-a;r=oa(0,e,!1).map((function(t){return x(a+t/(e-1)*o)}))}else{t=[];var u=[];if(s&&s.length>2)for(var c=1,h=s.length,f=1<=h;f?c<h:c>h;f?c++:c--)u.push(.5*(s[c-1]+s[c]));else u=i;r=u.map((function(t){return x(t)}))}return na[n]&&(r=r.map((function(t){return t[n]()}))),r},x.cache=function(t){return null!=t?(d=t,x):d},x.gamma=function(t){return null!=t?(p=t,x):p},x.nodata=function(t){return null!=t?(n=na(t),x):n},x};function oa(t,e,n){for(var r=[],i=t<e,a=n?i?e+1:e-1:e,o=t;i?o<a:o>a;i?o++:o--)r.push(o);return r}var sa=b,la=aa,ua=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e},ca=function(t){var e,n,r,i,a,o,s;if(2===(t=t.map((function(t){return new sa(t)}))).length)e=t.map((function(t){return t.lab()})),a=e[0],o=e[1],i=function(t){var e=[0,1,2].map((function(e){return a[e]+t*(o[e]-a[e])}));return new sa(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),a=n[0],o=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*s[e]}));return new sa(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),a=r[0],o=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new sa(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var u,c,h;u=t.map((function(t){return t.lab()})),h=t.length-1,c=ua(h),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return u.reduce((function(r,i,a){return r+c[a]*Math.pow(e,h-a)*Math.pow(t,a)*i[n]}),0)}));return new sa(n,"lab")}}return i},ha=function(t){var e=ca(t);return e.scale=function(){return la(e)},e},fa=x,Aa=function t(e,n,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](e,n)},da=function(t){return function(e,n){var r=fa(n).rgb(),i=fa(e).rgb();return fa.rgb(t(r,i))}},pa=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},ma=function(t){return t},va=function(t,e){return t*e/255},ga=function(t,e){return t>e?e:t},ya=function(t,e){return t>e?t:e},ba=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},_a=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},xa=function(t,e){return 255*(1-(1-e/255)/(t/255))},wa=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t};Aa.normal=da(pa(ma)),Aa.multiply=da(pa(va)),Aa.screen=da(pa(ba)),Aa.overlay=da(pa(_a)),Aa.darken=da(pa(ga)),Aa.lighten=da(pa(ya)),Aa.dodge=da(pa(wa)),Aa.burn=da(pa(xa));for(var Sa=Aa,Ma=A.type,Ea=A.clip_rgb,Ta=A.TWOPI,Pa=Math.pow,ka=Math.sin,La=Math.cos,Ca=x,Ra=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===Ma(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var s=function(s){var l=Ta*((t+120)/360+e*s),u=Pa(i[0]+a*s,r),c=(0!==o?n[0]+s*o:n)*u*(1-u)/2,h=La(l),f=ka(l);return Ca(Ea([255*(u+c*(-.14861*h+1.78277*f)),255*(u+c*(-.29227*h-.90649*f)),255*(u+c*(1.97294*h)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===Ma(n=t)?0===(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?i:("array"===Ma(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),s)},s.scale=function(){return Ca.scale(s)},s.hue(n),s},Na=b,Oa="0123456789abcdef",Ia=Math.floor,Da=Math.random,Ba=function(){for(var t="#",e=0;e<6;e++)t+=Oa.charAt(Ia(16*Da()));return new Na(t,"hex")},qa=s,Fa=Math.log,Ua=Math.pow,za=Math.floor,Za=Math.abs,ja=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===qa(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===qa(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return Ha(n,t,e)},n},Ha=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==qa(t)&&(t=ja(t));var r=t.min,i=t.max,a=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var o=[];if("c"===e.substr(0,1)&&(o.push(r),o.push(i)),"e"===e.substr(0,1)){o.push(r);for(var s=1;s<n;s++)o.push(r+s/n*(i-r));o.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Fa(r),u=Math.LOG10E*Fa(i);o.push(r);for(var c=1;c<n;c++)o.push(Ua(10,l+c/n*(u-l)));o.push(i)}else if("q"===e.substr(0,1)){o.push(r);for(var h=1;h<n;h++){var f=(a.length-1)*h/n,A=za(f);if(A===f)o.push(a[A]);else{var d=f-A;o.push(a[A]*(1-d)+a[A+1]*d)}}o.push(i)}else if("k"===e.substr(0,1)){var p,m=a.length,v=new Array(m),g=new Array(n),y=!0,b=0,_=null;(_=[]).push(r);for(var x=1;x<n;x++)_.push(r+x/n*(i-r));for(_.push(i);y;){for(var w=0;w<n;w++)g[w]=0;for(var S=0;S<m;S++)for(var M=a[S],E=Number.MAX_VALUE,T=void 0,P=0;P<n;P++){var k=Za(_[P]-M);k<E&&(E=k,T=P),g[T]++,v[S]=T}for(var L=new Array(n),C=0;C<n;C++)L[C]=null;for(var R=0;R<m;R++)null===L[p=v[R]]?L[p]=a[R]:L[p]+=a[R];for(var N=0;N<n;N++)L[N]*=1/g[N];y=!1;for(var O=0;O<n;O++)if(L[O]!==_[O]){y=!0;break}_=L,++b>200&&(y=!1)}for(var I={},D=0;D<n;D++)I[D]=[];for(var B=0;B<m;B++)I[p=v[B]].push(a[B]);for(var q=[],F=0;F<n;F++)q.push(I[F][0]),q.push(I[F][I[F].length-1]);q=q.sort((function(t,e){return t-e})),o.push(q[0]);for(var U=1;U<q.length;U+=2){var z=q[U];isNaN(z)||-1!==o.indexOf(z)||o.push(z)}}return o},Ga={analyze:ja,limits:Ha},Va=b,Wa=function(t,e){t=new Va(t),e=new Va(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Xa=b,Ya=Math.sqrt,Qa=Math.pow,Ka=Math.min,Ja=Math.max,$a=Math.atan2,to=Math.abs,eo=Math.cos,no=Math.sin,ro=Math.exp,io=Math.PI,ao=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var a=function(t){return 360*t/(2*io)},o=function(t){return 2*io*t/360};t=new Xa(t),e=new Xa(e);var s=Array.from(t.lab()),l=s[0],u=s[1],c=s[2],h=Array.from(e.lab()),f=h[0],A=h[1],d=h[2],p=(l+f)/2,m=(Ya(Qa(u,2)+Qa(c,2))+Ya(Qa(A,2)+Qa(d,2)))/2,v=.5*(1-Ya(Qa(m,7)/(Qa(m,7)+Qa(25,7)))),g=u*(1+v),y=A*(1+v),b=Ya(Qa(g,2)+Qa(c,2)),_=Ya(Qa(y,2)+Qa(d,2)),x=(b+_)/2,w=a($a(c,g)),S=a($a(d,y)),M=w>=0?w:w+360,E=S>=0?S:S+360,T=to(M-E)>180?(M+E+360)/2:(M+E)/2,P=1-.17*eo(o(T-30))+.24*eo(o(2*T))+.32*eo(o(3*T+6))-.2*eo(o(4*T-63)),k=E-M;k=to(k)<=180?k:E<=M?k+360:k-360,k=2*Ya(b*_)*no(o(k)/2);var L=f-l,C=_-b,R=1+.015*Qa(p-50,2)/Ya(20+Qa(p-50,2)),N=1+.045*x,O=1+.015*x*P,I=30*ro(-Qa((T-275)/25,2)),D=-2*Ya(Qa(x,7)/(Qa(x,7)+Qa(25,7)))*no(2*o(I)),B=Ya(Qa(L/(n*R),2)+Qa(C/(r*N),2)+Qa(k/(i*O),2)+D*(C/(r*N))*(k/(i*O)));return Ja(0,Ka(100,B))},oo=b,so=function(t,e,n){void 0===n&&(n="lab"),t=new oo(t),e=new oo(e);var r=t.get(n),i=e.get(n),a=0;for(var o in r){var s=(r[o]||0)-(i[o]||0);a+=s*s}return Math.sqrt(a)},lo=b,uo=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(lo,[null].concat(t))),!0}catch(n){return!1}},co=x,ho=aa,fo={cool:function(){return ho([co.hsl(180,1,.9),co.hsl(250,.7,.4)])},hot:function(){return ho(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ao={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},po=0,mo=Object.keys(Ao);po<mo.length;po+=1){var vo=mo[po];Ao[vo.toLowerCase()]=Ao[vo]}var go=Ao,yo=x;return yo.average=ta,yo.bezier=ha,yo.blend=Sa,yo.cubehelix=Ra,yo.mix=yo.interpolate=fi,yo.random=Ba,yo.scale=aa,yo.analyze=Ga.analyze,yo.contrast=Wa,yo.deltaE=ao,yo.distance=so,yo.limits=Ga.limits,yo.valid=uo,yo.scales=fo,yo.colors=Bn,yo.brewer=go,yo}()},4942:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(9142);function i(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},7462:function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})},1752:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},i.apply(this,arguments)}},4578:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(9611);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,r.Z)(t,e)}},1413:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(4942);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5987:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(3366);function i(t,e){if(null==t)return{};var n,i,a=(0,r.Z)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},3366:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,{Z:function(){return r}})},150:function(t,e,n){"use strict";n.d(e,{Hb:function(){return o},UO:function(){return u},mE:function(){return c},sj:function(){return s}});var r=n(1413),i=n(2791),a=1;function o(t){return Object.freeze({__version:a,map:t})}function s(t,e){return Object.freeze((0,r.Z)((0,r.Z)({},t),e))}var l=(0,i.createContext)(null),u=l.Provider;function c(){var t=(0,i.useContext)(l);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}},9359:function(t,e,n){"use strict";n.d(e,{I:function(){return a},O:function(){return i}});var r=n(2791);function i(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function a(t,e){return null==e?function(e,n){var i=(0,r.useRef)();return i.current||(i.current=t(e,n)),i}:function(n,i){var a=(0,r.useRef)();a.current||(a.current=t(n,i));var o=(0,r.useRef)(n),s=a.current.instance;return(0,r.useEffect)((function(){o.current!==n&&(e(s,n,o.current),o.current=n)}),[s,n,i]),a}}},258:function(t,e,n){"use strict";n.d(e,{vm:function(){return u},Au:function(){return c}});var r=n(2791),i=(n(4164),n(150));var a=n(9359);function o(t,e){(0,r.useEffect)((function(){var n;return(null!==(n=e.layerContainer)&&void 0!==n?n:e.map).addLayer(t.instance),function(){var n;null===(n=e.layerContainer)||void 0===n||n.removeLayer(t.instance),e.map.removeLayer(t.instance)}}),[e,t])}var s=n(1413);function l(t){return function(e){var n=(0,i.mE)(),a=t(function(t,e){var n,r=null!==(n=t.pane)&&void 0!==n?n:e.pane;return r?(0,s.Z)((0,s.Z)({},t),{},{pane:r}):t}(e,n),n);return function(t,e){var n=(0,r.useRef)();(0,r.useEffect)((function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}}),[t,e])}(a.current,e.eventHandlers),o(a.current,n),function(t,e){var n=(0,r.useRef)();(0,r.useEffect)((function(){if(e.pathOptions!==n.current){var r,i=null!==(r=e.pathOptions)&&void 0!==r?r:{};t.instance.setStyle(i),n.current=i}}),[t,e])}(a.current,e),a}}function u(t){var e=function(t){return function(e){var n=(0,i.mE)(),a=t(e,n),o=a.current.instance,s=(0,r.useRef)(e.position),l=e.position;return(0,r.useEffect)((function(){return o.addTo(n.map),function(){o.remove()}}),[n.map,o]),(0,r.useEffect)((function(){null!=l&&l!==s.current&&(o.setPosition(l),s.current=l)}),[o,l]),a}}((0,a.I)((function(e,n){return(0,a.O)(t(e),n)})));return function(t){function e(e,n){var i=t(e).current.instance;return(0,r.useImperativeHandle)(n,(function(){return i})),null}return(0,r.forwardRef)(e)}(e)}function c(t,e){return function(t){function e(e,n){var a=t(e).current,o=a.instance,s=a.context;return(0,r.useImperativeHandle)(n,(function(){return o})),null==e.children?null:r.createElement(i.UO,{value:s},e.children)}return(0,r.forwardRef)(e)}(l((0,a.I)(t,e)))}},5375:function(t,e,n){"use strict";n.d(e,{Z:function(){return bx}});var r={};n.r(r),n.d(r,{computeMikkTSpaceTangents:function(){return rh},computeMorphedAttributes:function(){return Ah},deepCloneAttribute:function(){return oh},deinterleaveAttribute:function(){return lh},deinterleaveGeometry:function(){return uh},estimateBytesUsed:function(){return ch},interleaveAttributes:function(){return sh},mergeAttributes:function(){return ah},mergeBufferAttributes:function(){return vh},mergeBufferGeometries:function(){return mh},mergeGeometries:function(){return ih},mergeGroups:function(){return dh},mergeVertices:function(){return hh},toCreasedNormals:function(){return ph},toTrianglesDrawMode:function(){return fh}});var i=n(2791);function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=n(1189);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.useEffect,n=(0,i.useRef)(),r=(0,i.useRef)(!1),a=(0,i.useRef)(!1),o=f((0,i.useState)(0),2);o[0];var s=o[1];r.current&&(a.current=!0),e((function(){return r.current||(n.current=t(),r.current=!0),s((function(t){return t+1})),function(){a.current&&n.current&&n.current()}}),[])}var v,g,y=n(5861),b=n(7762),_=n(9439),x=n(1752),w=n(1120),S=n(7326),M=n(136),E=n(9388),T=n(4942),P=n(4165),k=n(5671),L=n(3144),C="154",R={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},N=0,O=1,I=2,D=3,B=1,q=2,F=3,U=0,z=1,Z=100,j=0,H=1,G=2,V=0,W=1,X=2,Y=3,Q=4,K=5,J=301,$=302,tt=303,et=304,nt=306,rt=1e3,it=1001,at=1002,ot=1003,st=1004,lt=1005,ut=1006,ct=1008,ht=1009,ft=1012,At=1013,dt=1014,pt=1015,mt=1016,vt=1020,gt=1023,yt=1026,bt=1027,_t=33776,xt=33777,wt=33778,St=33779,Mt=36492,Et=2300,Tt=2301,Pt=2302,kt=2400,Lt=2401,Ct=2402,Rt=0,Nt=1,Ot=2,It=3001,Dt="",Bt="srgb",qt="srgb-linear",Ft="display-p3",Ut=7680,zt=35044,Zt="300 es",jt=1035,Ht=2e3,Gt=2001,Vt=function(){function t(){(0,k.Z)(this,t)}return(0,L.Z)(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t);t.target=null}}}}]),t}(),Wt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xt=1234567,Yt=Math.PI/180,Qt=180/Math.PI;function Kt(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Wt[255&t]+Wt[t>>8&255]+Wt[t>>16&255]+Wt[t>>24&255]+"-"+Wt[255&e]+Wt[e>>8&255]+"-"+Wt[e>>16&15|64]+Wt[e>>24&255]+"-"+Wt[63&n|128]+Wt[n>>8&255]+"-"+Wt[n>>16&255]+Wt[n>>24&255]+Wt[255&r]+Wt[r>>8&255]+Wt[r>>16&255]+Wt[r>>24&255]).toLowerCase()}function Jt(t,e,n){return Math.max(e,Math.min(n,t))}function $t(t,e){return(t%e+e)%e}function te(t,e,n){return(1-n)*t+n*e}function ee(t){return 0===(t&t-1)&&0!==t}function ne(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function re(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ie(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ae(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var oe={DEG2RAD:Yt,RAD2DEG:Qt,generateUUID:Kt,clamp:Jt,euclideanModulo:$t,mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:te,damp:function(t,e,n,r){return te(t,e,1-Math.exp(-n*r))},pingpong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs($t(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(Xt=t);var e=Xt+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*Yt},radToDeg:function(t){return t*Qt},isPowerOfTwo:ee,ceilPowerOfTwo:ne,floorPowerOfTwo:re,setQuaternionFromProperEuler:function(t,e,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),c=o((e+r)/2),h=a((e-r)/2),f=o((e-r)/2),A=a((r-e)/2),d=o((r-e)/2);switch(i){case"XYX":t.set(s*c,l*h,l*f,s*u);break;case"YZY":t.set(l*f,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*f,s*c,s*u);break;case"XZX":t.set(s*c,l*d,l*A,s*u);break;case"YXY":t.set(l*A,s*c,l*d,s*u);break;case"ZYZ":t.set(l*d,l*A,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:ae,denormalize:ie},se=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,k.Z)(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}return(0,L.Z)(e,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Jt(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator),le=function(){function t(e,n,r,i,a,o,s,l,u){(0,k.Z)(this,t),t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,n,r,i,a,o,s,l,u)}return(0,L.Z)(t,[{key:"set",value:function(t,e,n,r,i,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],A=n[8],d=r[0],p=r[3],m=r[6],v=r[1],g=r[4],y=r[7],b=r[2],_=r[5],x=r[8];return i[0]=a*d+o*v+s*b,i[3]=a*p+o*g+s*_,i[6]=a*m+o*y+s*x,i[1]=l*d+u*v+c*b,i[4]=l*p+u*g+c*_,i[7]=l*m+u*y+c*x,i[2]=h*d+f*v+A*b,i[5]=h*p+f*g+A*_,i[8]=h*m+f*y+A*x,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*i,f=l*i-a*s,A=e*c+n*h+r*f;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);var d=1/A;return t[0]=c*d,t[1]=(r*l-u*n)*d,t[2]=(o*n-r*a)*d,t[3]=h*d,t[4]=(u*e-r*s)*d,t[5]=(r*i-o*e)*d,t[6]=f*d,t[7]=(n*s-l*e)*d,t[8]=(a*e-n*i)*d,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-r*l,r*s,-r*(-l*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){return this.premultiply(ue.makeScale(t,e)),this}},{key:"rotate",value:function(t){return this.premultiply(ue.makeRotation(-t)),this}},{key:"translate",value:function(t,e){return this.premultiply(ue.makeTranslation(t,e)),this}},{key:"makeTranslation",value:function(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}},{key:"makeRotation",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}},{key:"makeScale",value:function(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}(),ue=new le;function ce(t){for(var e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function he(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}var fe={};function Ae(t){t in fe||(fe[t]=!0,console.warn(t))}function de(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function pe(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var me=(new le).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),ve=(new le).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var ge,ye=(v={},(0,T.Z)(v,qt,(function(t){return t})),(0,T.Z)(v,Bt,(function(t){return t.convertSRGBToLinear()})),(0,T.Z)(v,Ft,(function(t){return t.convertSRGBToLinear().applyMatrix3(ve)})),v),be=(g={},(0,T.Z)(g,qt,(function(t){return t})),(0,T.Z)(g,Bt,(function(t){return t.convertLinearToSRGB()})),(0,T.Z)(g,Ft,(function(t){return t.applyMatrix3(me).convertLinearToSRGB()})),g),_e={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return qt},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;var r=ye[e],i=be[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(e,'" to "').concat(n,'".'));return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},xe=function(){function t(){(0,k.Z)(this,t)}return(0,L.Z)(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"===typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===ge&&(ge=he("canvas")),ge.width=t.width,ge.height=t.height;var n=ge.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=ge}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var e=he("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var r=n.getImageData(0,0,t.width,t.height),i=r.data,a=0;a<i.length;a++)i[a]=255*de(i[a]/255);return n.putImageData(r,0,0),e}if(t.data){for(var o=t.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*de(o[s]/255)):o[s]=de(o[s]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]),t}(),we=0,Se=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,k.Z)(this,t),this.isSource=!0,Object.defineProperty(this,"id",{value:we++}),this.uuid=Kt(),this.data=e,this.version=0}return(0,L.Z)(t,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Me(r[a].image)):i.push(Me(r[a]))}else i=Me(r);n.url=i}return e||(t.images[this.uuid]=n),n}}]),t}();function Me(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?xe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Ee=0,Te=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:it,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ut,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ct,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gt,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:ht,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Dt;return(0,k.Z)(this,n),(t=e.call(this)).isTexture=!0,Object.defineProperty((0,S.Z)(t),"id",{value:Ee++}),t.uuid=Kt(),t.name="",t.source=new Se(r),t.mipmaps=[],t.mapping=i,t.channel=0,t.wrapS=a,t.wrapT=o,t.magFilter=s,t.minFilter=l,t.anisotropy=h,t.format=u,t.internalFormat=null,t.type=c,t.offset=new se(0,0),t.repeat=new se(1,1),t.center=new se(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new le,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,"string"===typeof f?t.colorSpace=f:(Ae("THREE.Texture: Property .encoding has been replaced by .colorSpace."),t.colorSpace=f===It?Bt:Dt),t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.needsPMREMUpdate=!1,t}return(0,L.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=t}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case rt:t.x=t.x-Math.floor(t.x);break;case it:t.x=t.x<0?0:1;break;case at:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case rt:t.y=t.y-Math.floor(t.y);break;case it:t.y=t.y<0?0:1;break;case at:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Ae("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Bt?It:3e3},set:function(t){Ae("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===It?Bt:Dt}}]),n}(Vt);Te.DEFAULT_IMAGE=null,Te.DEFAULT_MAPPING=300,Te.DEFAULT_ANISOTROPY=1;var Pe=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,k.Z)(this,e),e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=i}return(0,L.Z)(e,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,r,i,a=.01,o=.1,s=t.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],A=s[9],d=s[2],p=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-d)<a&&Math.abs(A-p)<a){if(Math.abs(u+h)<o&&Math.abs(c+d)<o&&Math.abs(A+p)<o&&Math.abs(l+f+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var v=(l+1)/2,g=(f+1)/2,y=(m+1)/2,b=(u+h)/4,_=(c+d)/4,x=(A+p)/4;return v>g&&v>y?v<a?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(v)),i=_/n):g>y?g<a?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(g)),i=x/r):y<a?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(y)),r=x/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-A)*(p-A)+(c-d)*(c-d)+(h-u)*(h-u));return Math.abs(w)<.001&&(w=1),this.x=(p-A)/w,this.y=(c-d)/w,this.z=(h-u)/w,this.w=Math.acos((l+f+m-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator),ke=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,k.Z)(this,n),(t=e.call(this)).isWebGLRenderTarget=!0,t.width=r,t.height=i,t.depth=1,t.scissor=new Pe(0,0,r,i),t.scissorTest=!1,t.viewport=new Pe(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(Ae("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===It?Bt:Dt),t.texture=new Te(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),t.texture.isRenderTargetTexture=!0,t.texture.flipY=!1,t.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,t.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,t.texture.minFilter=void 0!==a.minFilter?a.minFilter:ut,t.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,t.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,t.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,t.samples=void 0!==a.samples?a.samples:0,t}return(0,L.Z)(n,[{key:"setSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;var e=Object.assign({},t.texture.image);return this.texture.source=new Se(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Vt),Le=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,k.Z)(this,n),(t=e.call(this,null)).isDataArrayTexture=!0,t.image={data:r,width:i,height:a,depth:o},t.magFilter=ot,t.minFilter=ot,t.wrapR=it,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return(0,L.Z)(n)}(Te),Ce=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,k.Z)(this,n),(t=e.call(this,null)).isData3DTexture=!0,t.image={data:r,width:i,height:a,depth:o},t.magFilter=ot,t.minFilter=ot,t.wrapR=it,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}return(0,L.Z)(n)}(Te),Re=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,k.Z)(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}return(0,L.Z)(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),f=s(r/2),A=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*f*A,this._y=l*f*c-h*u*A,this._z=l*u*A+h*f*c,this._w=l*u*c-h*f*A;break;case"YXZ":this._x=h*u*c+l*f*A,this._y=l*f*c-h*u*A,this._z=l*u*A-h*f*c,this._w=l*u*c+h*f*A;break;case"ZXY":this._x=h*u*c-l*f*A,this._y=l*f*c+h*u*A,this._z=l*u*A+h*f*c,this._w=l*u*c-h*f*A;break;case"ZYX":this._x=h*u*c-l*f*A,this._y=l*f*c+h*u*A,this._z=l*u*A-h*f*c,this._w=l*u*c+h*f*A;break;case"YZX":this._x=h*u*c+l*f*A,this._y=l*f*c+h*u*A,this._z=l*u*A-h*f*c,this._w=l*u*c-h*f*A;break;case"XZY":this._x=h*u*c-l*f*A,this._y=l*f*c-h*u*A,this._z=l*u*A+h*f*c,this._w=l*u*c+h*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],r=e[4],i=e[8],a=e[1],o=e[5],s=e[9],l=e[2],u=e[6],c=e[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var A=2*Math.sqrt(1+n-o-c);this._w=(u-s)/A,this._x=.25*A,this._y=(r+a)/A,this._z=(i+l)/A}else if(o>c){var d=2*Math.sqrt(1+o-n-c);this._w=(i-l)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(s+u)/d}else{var p=2*Math.sqrt(1+c-n-o);this._w=(a-r)/p,this._x=(i+l)/p,this._y=(s+u)/p,this._z=.25*p}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Jt(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*r+e*this._y,this._z=l*i+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,f=Math.sin(e*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,n){return this.copy(t).slerp(e,n)}},{key:"random",value:function(){var t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(i),n*Math.cos(i),e*Math.sin(r))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._w;case 8:case"end":return t.stop()}}),t,this)}))}],[{key:"slerpFlat",value:function(t,e,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],f=i[a+1],A=i[a+2],d=i[a+3];if(0===o)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===o)return t[e+0]=h,t[e+1]=f,t[e+2]=A,void(t[e+3]=d);if(c!==d||s!==h||l!==f||u!==A){var p=1-o,m=s*h+l*f+u*A+c*d,v=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),b=Math.atan2(y,m*v);p=Math.sin(p*b)/y,o=Math.sin(o*b)/y}var _=o*v;if(s=s*p+h*_,l=l*p+f*_,u=u*p+A*_,c=c*p+d*_,p===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],f=i[a+2],A=i[a+3];return t[e]=o*A+u*c+s*f-l*h,t[e+1]=s*A+u*h+l*c-o*f,t[e+2]=l*A+u*f+o*h-s*c,t[e+3]=u*A-o*c-s*h-l*f,t}}]),e}(Symbol.iterator),Ne=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,k.Z)(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}return(0,L.Z)(e,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return this.applyQuaternion(Ie.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Ie.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*r-o*n,u=s*n+o*e-i*r,c=s*r+i*n-a*e,h=-i*e-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return Oe.copy(this).projectOnVector(t),this.sub(Oe)}},{key:"reflect",value:function(t){return this.sub(Oe.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Jt(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"setFromColor",value:function(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(t,2));return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator),Oe=new Ne,Ie=new Re,De=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne(-1/0,-1/0,-1/0);(0,k.Z)(this,t),this.isBox3=!0,this.min=e,this.max=n}return(0,L.Z)(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e+=3)this.expandByPoint(qe.fromArray(t,e));return this}},{key:"setFromBufferAttribute",value:function(t){this.makeEmpty();for(var e=0,n=t.count;e<n;e++)this.expandByPoint(qe.fromBufferAttribute(t,e));return this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=qe.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),Fe.copy(t.boundingBox),Fe.applyMatrix4(t.matrixWorld),this.union(Fe);else{var n=t.geometry;if(void 0!==n)if(e&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)qe.fromBufferAttribute(r,i).applyMatrix4(t.matrixWorld),this.expandByPoint(qe);else null===n.boundingBox&&n.computeBoundingBox(),Fe.copy(n.boundingBox),Fe.applyMatrix4(t.matrixWorld),this.union(Fe)}for(var o=t.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,qe),qe.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(Ve),We.subVectors(this.max,Ve),Ue.subVectors(t.a,Ve),ze.subVectors(t.b,Ve),Ze.subVectors(t.c,Ve),je.subVectors(ze,Ue),He.subVectors(Ze,ze),Ge.subVectors(Ue,Ze);var e=[0,-je.z,je.y,0,-He.z,He.y,0,-Ge.z,Ge.y,je.z,0,-je.x,He.z,0,-He.x,Ge.z,0,-Ge.x,-je.y,je.x,0,-He.y,He.x,0,-Ge.y,Ge.x,0];return!!Qe(e,Ue,ze,Ze,We)&&(!!Qe(e=[1,0,0,0,1,0,0,0,1],Ue,ze,Ze,We)&&(Xe.crossVectors(je,He),Qe(e=[Xe.x,Xe.y,Xe.z],Ue,ze,Ze,We)))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return this.clampPoint(t,qe).distanceTo(t)}},{key:"getBoundingSphere",value:function(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(qe).length()),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(Be[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Be[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Be[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Be[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Be[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Be[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Be[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Be[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Be)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}(),Be=[new Ne,new Ne,new Ne,new Ne,new Ne,new Ne,new Ne,new Ne],qe=new Ne,Fe=new De,Ue=new Ne,ze=new Ne,Ze=new Ne,je=new Ne,He=new Ne,Ge=new Ne,Ve=new Ne,We=new Ne,Xe=new Ne,Ye=new Ne;function Qe(t,e,n,r,i){for(var a=0,o=t.length-3;a<=o;a+=3){Ye.fromArray(t,a);var s=i.x*Math.abs(Ye.x)+i.y*Math.abs(Ye.y)+i.z*Math.abs(Ye.z),l=e.dot(Ye),u=n.dot(Ye),c=r.dot(Ye);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Ke=new De,Je=new Ne,$e=new Ne,tn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,k.Z)(this,t),this.center=e,this.radius=n}return(0,L.Z)(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):Ke.setFromPoints(t).getCenter(n);for(var r=0,i=0,a=t.length;i<a;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Je.subVectors(t,this.center);var e=Je.lengthSq();if(e>this.radius*this.radius){var n=Math.sqrt(e),r=.5*(n-this.radius);this.center.addScaledVector(Je,r/n),this.radius+=r}return this}},{key:"union",value:function(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):($e.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Je.copy(t.center).add($e)),this.expandByPoint(Je.copy(t.center).sub($e))),this)}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),en=new Ne,nn=new Ne,rn=new Ne,an=new Ne,on=new Ne,sn=new Ne,ln=new Ne,un=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne(0,0,-1);(0,k.Z)(this,t),this.origin=e,this.direction=n}return(0,L.Z)(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,en)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=en.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(en.copy(this.origin).addScaledVector(this.direction,e),en.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,r){nn.copy(t).add(e).multiplyScalar(.5),rn.copy(e).sub(t).normalize(),an.copy(this.origin).sub(nn);var i,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(rn),c=an.dot(this.direction),h=-an.dot(rn),f=an.lengthSq(),A=Math.abs(1-u*u);if(A>0)if(a=u*c-h,s=l*A,(i=u*h-c)>=0)if(a>=-s)if(a<=s){var d=1/A;o=(i*=d)*(i+u*(a*=d)+2*c)+a*(u*i+a+2*h)+f}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(nn).addScaledVector(rn,a),o}},{key:"intersectSphere",value:function(t,e){en.subVectors(t.center,this.origin);var n=en.dot(this.direction),r=en.dot(en)-n*n,i=t.radius*t.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,e):this.at(o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),u>=0?(i=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(i=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,en)}},{key:"intersectTriangle",value:function(t,e,n,r,i){on.subVectors(e,t),sn.subVectors(n,t),ln.crossVectors(on,sn);var a,o=this.direction.dot(ln);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}an.subVectors(this.origin,t);var s=a*this.direction.dot(sn.crossVectors(an,sn));if(s<0)return null;var l=a*this.direction.dot(on.cross(an));if(l<0)return null;if(s+l>o)return null;var u=-a*an.dot(ln);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),cn=function(){function t(e,n,r,i,a,o,s,l,u,c,h,f,A,d,p,m){(0,k.Z)(this,t),t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,n,r,i,a,o,s,l,u,c,h,f,A,d,p,m)}return(0,L.Z)(t,[{key:"set",value:function(t,e,n,r,i,a,o,s,l,u,c,h,f,A,d,p){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=f,m[7]=A,m[11]=d,m[15]=p,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,r=1/hn.setFromMatrixColumn(t,0).length(),i=1/hn.setFromMatrixColumn(t,1).length(),a=1/hn.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=a*u,f=a*c,A=o*u,d=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=f+A*l,e[5]=h-d*l,e[9]=-o*s,e[2]=d-h*l,e[6]=A+f*l,e[10]=a*s}else if("YXZ"===t.order){var p=s*u,m=s*c,v=l*u,g=l*c;e[0]=p+g*o,e[4]=v*o-m,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=m*o-v,e[6]=g+p*o,e[10]=a*s}else if("ZXY"===t.order){var y=s*u,b=s*c,_=l*u,x=l*c;e[0]=y-x*o,e[4]=-a*c,e[8]=_+b*o,e[1]=b+_*o,e[5]=a*u,e[9]=x-y*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var w=a*u,S=a*c,M=o*u,E=o*c;e[0]=s*u,e[4]=M*l-S,e[8]=w*l+E,e[1]=s*c,e[5]=E*l+w,e[9]=S*l-M,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var T=a*s,P=a*l,k=o*s,L=o*l;e[0]=s*u,e[4]=L-T*c,e[8]=k*c+P,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=P*c+k,e[10]=T-L*c}else if("XZY"===t.order){var C=a*s,R=a*l,N=o*s,O=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=C*c+O,e[5]=a*u,e[9]=R*c-N,e[2]=N*c-R,e[6]=o*u,e[10]=O*c+C}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(An,t,dn)}},{key:"lookAt",value:function(t,e,n){var r=this.elements;return vn.subVectors(t,e),0===vn.lengthSq()&&(vn.z=1),vn.normalize(),pn.crossVectors(n,vn),0===pn.lengthSq()&&(1===Math.abs(n.z)?vn.x+=1e-4:vn.z+=1e-4,vn.normalize(),pn.crossVectors(n,vn)),pn.normalize(),mn.crossVectors(vn,pn),r[0]=pn.x,r[4]=mn.x,r[8]=vn.x,r[1]=pn.y,r[5]=mn.y,r[9]=vn.y,r[2]=pn.z,r[6]=mn.z,r[10]=vn.z,this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],A=n[2],d=n[6],p=n[10],m=n[14],v=n[3],g=n[7],y=n[11],b=n[15],_=r[0],x=r[4],w=r[8],S=r[12],M=r[1],E=r[5],T=r[9],P=r[13],k=r[2],L=r[6],C=r[10],R=r[14],N=r[3],O=r[7],I=r[11],D=r[15];return i[0]=a*_+o*M+s*k+l*N,i[4]=a*x+o*E+s*L+l*O,i[8]=a*w+o*T+s*C+l*I,i[12]=a*S+o*P+s*R+l*D,i[1]=u*_+c*M+h*k+f*N,i[5]=u*x+c*E+h*L+f*O,i[9]=u*w+c*T+h*C+f*I,i[13]=u*S+c*P+h*R+f*D,i[2]=A*_+d*M+p*k+m*N,i[6]=A*x+d*E+p*L+m*O,i[10]=A*w+d*T+p*C+m*I,i[14]=A*S+d*P+p*R+m*D,i[3]=v*_+g*M+y*k+b*N,i[7]=v*x+g*E+y*L+b*O,i[11]=v*w+g*T+y*C+b*I,i[15]=v*S+g*P+y*R+b*D,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*f-n*s*f)+t[7]*(+e*s*f-e*l*h+i*a*h-r*a*f+r*l*u-i*s*u)+t[11]*(+e*l*c-e*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+t[15]*(-r*o*u-e*s*c+e*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11],A=t[12],d=t[13],p=t[14],m=t[15],v=c*p*l-d*h*l+d*s*f-o*p*f-c*s*m+o*h*m,g=A*h*l-u*p*l-A*s*f+a*p*f+u*s*m-a*h*m,y=u*d*l-A*c*l+A*o*f-a*d*f-u*o*m+a*c*m,b=A*c*s-u*d*s-A*o*h+a*d*h+u*o*p-a*c*p,_=e*v+n*g+r*y+i*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/_;return t[0]=v*x,t[1]=(d*h*i-c*p*i-d*r*f+n*p*f+c*r*m-n*h*m)*x,t[2]=(o*p*i-d*s*i+d*r*l-n*p*l-o*r*m+n*s*m)*x,t[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*f-n*s*f)*x,t[4]=g*x,t[5]=(u*p*i-A*h*i+A*r*f-e*p*f-u*r*m+e*h*m)*x,t[6]=(A*s*i-a*p*i-A*r*l+e*p*l+a*r*m-e*s*m)*x,t[7]=(a*h*i-u*s*i+u*r*l-e*h*l-a*r*f+e*s*f)*x,t[8]=y*x,t[9]=(A*c*i-u*d*i-A*n*f+e*d*f+u*n*m-e*c*m)*x,t[10]=(a*d*i-A*o*i+A*n*l-e*d*l-a*n*m+e*o*m)*x,t[11]=(u*o*i-a*c*i-u*n*l+e*c*l+a*n*f-e*o*f)*x,t[12]=b*x,t[13]=(u*d*r-A*c*r+A*n*h-e*d*h-u*n*p+e*c*p)*x,t[14]=(A*o*r-a*d*r-A*n*s+e*d*s+a*n*p-e*o*p)*x,t[15]=(a*c*r-u*o*r+u*n*s-e*c*s-a*n*h+e*o*h)*x,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}},{key:"makeTranslation",value:function(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,r,i,a){return this.set(1,n,i,0,t,1,a,0,e,r,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var r=this.elements,i=e._x,a=e._y,o=e._z,s=e._w,l=i+i,u=a+a,c=o+o,h=i*l,f=i*u,A=i*c,d=a*u,p=a*c,m=o*c,v=s*l,g=s*u,y=s*c,b=n.x,_=n.y,x=n.z;return r[0]=(1-(d+m))*b,r[1]=(f+y)*b,r[2]=(A-g)*b,r[3]=0,r[4]=(f-y)*_,r[5]=(1-(h+m))*_,r[6]=(p+v)*_,r[7]=0,r[8]=(A+g)*x,r[9]=(p-v)*x,r[10]=(1-(h+d))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}},{key:"decompose",value:function(t,e,n){var r=this.elements,i=hn.set(r[0],r[1],r[2]).length(),a=hn.set(r[4],r[5],r[6]).length(),o=hn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],fn.copy(this);var s=1/i,l=1/a,u=1/o;return fn.elements[0]*=s,fn.elements[1]*=s,fn.elements[2]*=s,fn.elements[4]*=l,fn.elements[5]*=l,fn.elements[6]*=l,fn.elements[8]*=u,fn.elements[9]*=u,fn.elements[10]*=u,e.setFromRotationMatrix(fn),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ht,u=this.elements,c=2*i/(e-t),h=2*i/(n-r),f=(e+t)/(e-t),A=(n+r)/(n-r);if(l===Ht)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(l!==Gt)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=A,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ht,u=this.elements,c=1/(e-t),h=1/(n-r),f=1/(a-i),A=(e+t)*c,d=(n+r)*h;if(l===Ht)o=(a+i)*f,s=-2*f;else{if(l!==Gt)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-A,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-d,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),hn=new Ne,fn=new cn,An=new Ne(0,0,0),dn=new Ne(1,1,1),pn=new Ne,mn=new Ne,vn=new Ne,gn=new cn,yn=new Re,bn=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DEFAULT_ORDER;(0,k.Z)(this,e),this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}return(0,L.Z)(e,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],f=r[10];switch(e){case"XYZ":this._y=Math.asin(Jt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Jt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Jt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Jt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return gn.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gn,e,n)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return yn.setFromEuler(this),this.setFromQuaternion(yn,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._order;case 8:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator);bn.DEFAULT_ORDER="XYZ";var _n=function(){function t(){(0,k.Z)(this,t),this.mask=1}return(0,L.Z)(t,[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!==(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!==(this.mask&(1<<t|0))}}]),t}(),xn=0,wn=new Ne,Sn=new Re,Mn=new cn,En=new Ne,Tn=new Ne,Pn=new Ne,kn=new Re,Ln=new Ne(1,0,0),Cn=new Ne(0,1,0),Rn=new Ne(0,0,1),Nn={type:"added"},On={type:"removed"},In=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;(0,k.Z)(this,n),(t=e.call(this)).isObject3D=!0,Object.defineProperty((0,S.Z)(t),"id",{value:xn++}),t.uuid=Kt(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=n.DEFAULT_UP.clone();var r=new Ne,i=new bn,a=new Re,o=new Ne(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,S.Z)(t),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new cn},normalMatrix:{value:new le}}),t.matrix=new cn,t.matrixWorld=new cn,t.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,t.matrixWorldNeedsUpdate=!1,t.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,t.layers=new _n,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}return(0,L.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return Sn.setFromAxisAngle(t,e),this.quaternion.multiply(Sn),this}},{key:"rotateOnWorldAxis",value:function(t,e){return Sn.setFromAxisAngle(t,e),this.quaternion.premultiply(Sn),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(Ln,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(Cn,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(Rn,t)}},{key:"translateOnAxis",value:function(t,e){return wn.copy(t).applyQuaternion(this.quaternion),this.position.add(wn.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(Ln,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(Cn,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(Rn,t)}},{key:"localToWorld",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Mn.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?En.copy(t):En.set(t,e,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Tn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mn.lookAt(Tn,En,this.up):Mn.lookAt(En,Tn,this.up),this.quaternion.setFromRotationMatrix(Mn),r&&(Mn.extractRotation(r.matrixWorld),Sn.setFromRotationMatrix(Mn),this.quaternion.premultiply(Sn.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Nn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(On)),this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(On)}return this.children.length=0,this}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),Mn.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Mn.multiply(t.parent.matrixWorld)),t.applyMatrix4(Mn),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(t,e){var n=[];this[t]===e&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(t,e);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tn,t,Pn),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Tn,kn,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++){var i=e[n];!0!==i.matrixWorldAutoUpdate&&!0!==t||i.updateMatrixWorld(t)}}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(t.shapes,u)}else i(t.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(i(t.materials,this.material[h]));r.material=c}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(var A=0;A<this.children.length;A++)r.children.push(this.children[A].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(var d=0;d<this.animations.length;d++){var p=this.animations[d];r.animations.push(i(t.animations,p))}}if(e){var m=S(t.geometries),v=S(t.materials),g=S(t.textures),y=S(t.images),b=S(t.shapes),_=S(t.skeletons),x=S(t.animations),w=S(t.nodes);m.length>0&&(n.geometries=m),v.length>0&&(n.materials=v),g.length>0&&(n.textures=g),y.length>0&&(n.images=y),b.length>0&&(n.shapes=b),_.length>0&&(n.skeletons=_),x.length>0&&(n.animations=x),w.length>0&&(n.nodes=w)}return n.object=r,n;function S(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}]),n}(Vt);In.DEFAULT_UP=new Ne(0,1,0),In.DEFAULT_MATRIX_AUTO_UPDATE=!0,In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Dn=new Ne,Bn=new Ne,qn=new Ne,Fn=new Ne,Un=new Ne,zn=new Ne,Zn=new Ne,jn=new Ne,Hn=new Ne,Gn=new Ne,Vn=!1,Wn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ne;(0,k.Z)(this,t),this.a=e,this.b=n,this.c=r}return(0,L.Z)(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return Dn.subVectors(this.c,this.b),Bn.subVectors(this.a,this.b),.5*Dn.cross(Bn).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,r,i,a){return!1===Vn&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Vn=!0),t.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(e,n,r,i,a){return t.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n,r,i=this.a,a=this.b,o=this.c;Un.subVectors(a,i),zn.subVectors(o,i),jn.subVectors(t,i);var s=Un.dot(jn),l=zn.dot(jn);if(s<=0&&l<=0)return e.copy(i);Hn.subVectors(t,a);var u=Un.dot(Hn),c=zn.dot(Hn);if(u>=0&&c<=u)return e.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(i).addScaledVector(Un,n);Gn.subVectors(t,o);var f=Un.dot(Gn),A=zn.dot(Gn);if(A>=0&&f<=A)return e.copy(o);var d=f*l-s*A;if(d<=0&&l>=0&&A<=0)return r=l/(l-A),e.copy(i).addScaledVector(zn,r);var p=u*A-f*c;if(p<=0&&c-u>=0&&f-A>=0)return Zn.subVectors(o,a),r=(c-u)/(c-u+(f-A)),e.copy(a).addScaledVector(Zn,r);var m=1/(p+d+h);return n=d*m,r=h*m,e.copy(i).addScaledVector(Un,n).addScaledVector(zn,r)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,r){r.subVectors(n,e),Dn.subVectors(t,e),r.cross(Dn);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,r,i){Dn.subVectors(r,e),Bn.subVectors(n,e),qn.subVectors(t,e);var a=Dn.dot(Dn),o=Dn.dot(Bn),s=Dn.dot(qn),l=Bn.dot(Bn),u=Bn.dot(qn),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,f=(l*s-o*u)*h,A=(a*u-o*s)*h;return i.set(1-f-A,A,f)}},{key:"containsPoint",value:function(t,e,n,r){return this.getBarycoord(t,e,n,r,Fn),Fn.x>=0&&Fn.y>=0&&Fn.x+Fn.y<=1}},{key:"getUV",value:function(t,e,n,r,i,a,o,s){return!1===Vn&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Vn=!0),this.getInterpolation(t,e,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(t,e,n,r,i,a,o,s){return this.getBarycoord(t,e,n,r,Fn),s.setScalar(0),s.addScaledVector(i,Fn.x),s.addScaledVector(a,Fn.y),s.addScaledVector(o,Fn.z),s}},{key:"isFrontFacing",value:function(t,e,n,r){return Dn.subVectors(n,e),Bn.subVectors(t,e),Dn.cross(Bn).dot(r)<0}}]),t}(),Xn=0,Yn=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isMaterial=!0,Object.defineProperty((0,S.Z)(t),"id",{value:Xn++}),t.uuid=Kt(),t.name="",t.type="Material",t.blending=1,t.side=U,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.alphaHash=!1,t.blendSrc=204,t.blendDst=205,t.blendEquation=Z,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.depthFunc=3,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=Ut,t.stencilZFail=Ut,t.stencilZPass=Ut,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.forceSinglePass=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}return(0,L.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE.Material: '".concat(e,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(e,"' has value of undefined."))}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==U&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){var i=r(t.textures),a=r(t.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(Vt),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kn={h:0,s:0,l:0},Jn={h:0,s:0,l:0};function $n(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}var tr=function(t){function e(t,n,r){return(0,k.Z)(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}return(0,L.Z)(e,[{key:"set",value:function(t,e,n){if(void 0===e&&void 0===n){var r=t;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(t,e,n);return this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,_e.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_e.workingColorSpace;return this.r=t,this.g=e,this.b=n,_e.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_e.workingColorSpace;if(t=$t(t,1),e=Jt(e,0,1),n=Jt(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,a=2*n-i;this.r=$n(a,i,t+1/3),this.g=$n(a,i,t),this.b=$n(a,i,t-1/3)}return _e.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;function r(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}if(e=/^(\w+)\(([^\)]*)\)/.exec(t)){var i,a=e[1],o=e[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(e=/^\#([A-Fa-f\d]+)$/.exec(t)){var s=e[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}},{key:"setColorName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt,n=Qn[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=de(t.r),this.g=de(t.g),this.b=de(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=pe(t.r),this.g=pe(t.g),this.b=pe(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return _e.fromWorkingColorSpace(er.copy(this),t),65536*Math.round(Jt(255*er.r,0,255))+256*Math.round(Jt(255*er.g,0,255))+Math.round(Jt(255*er.b,0,255))}},{key:"getHexString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;return("000000"+this.getHex(t).toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.workingColorSpace;_e.fromWorkingColorSpace(er.copy(this),e);var n,r,i=er.r,a=er.g,o=er.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return t.h=n,t.s=r,t.l=u,t}},{key:"getRGB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e.workingColorSpace;return _e.fromWorkingColorSpace(er.copy(this),e),t.r=er.r,t.g=er.g,t.b=er.b,t}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;_e.fromWorkingColorSpace(er.copy(this),t);var e=er.r,n=er.g,r=er.b;return t!==Bt?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*e),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Kn),Kn.h+=t,Kn.s+=e,Kn.l+=n,this.setHSL(Kn.h,Kn.s,Kn.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Kn),t.getHSL(Jn);var n=te(Kn.h,Jn.h,e),r=te(Kn.s,Jn.s,e),i=te(Kn.l,Jn.l,e);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}},{key:"applyMatrix3",value:function(t){var e=this.r,n=this.g,r=this.b,i=t.elements;return this.r=i[0]*e+i[3]*n+i[6]*r,this.g=i[1]*e+i[4]*n+i[7]*r,this.b=i[2]*e+i[5]*n+i[8]*r,this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:t,value:(0,P.Z)().mark((function t(){return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r;case 2:return t.next=4,this.g;case 4:return t.next=6,this.b;case 6:case"end":return t.stop()}}),t,this)}))}]),e}(Symbol.iterator),er=new tr;tr.NAMES=Qn;var nr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new tr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=j,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]),n}(Yn);var rr=new Ne,ir=new se,ar=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,k.Z)(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=r,this.usage=zt,this.updateRange={offset:0,count:-1},this.gpuType=pt,this.version=0}return(0,L.Z)(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)ir.fromBufferAttribute(this,e),ir.applyMatrix3(t),this.setXY(e,ir.x,ir.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)rr.fromBufferAttribute(this,r),rr.applyMatrix3(t),this.setXYZ(r,rr.x,rr.y,rr.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)rr.fromBufferAttribute(this,e),rr.applyMatrix4(t),this.setXYZ(e,rr.x,rr.y,rr.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)rr.fromBufferAttribute(this,e),rr.applyNormalMatrix(t),this.setXYZ(e,rr.x,rr.y,rr.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)rr.fromBufferAttribute(this,e),rr.transformDirection(t),this.setXYZ(e,rr.x,rr.y,rr.z);return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"getX",value:function(t){var e=this.array[t*this.itemSize];return this.normalized&&(e=ie(e,this.array)),e}},{key:"setX",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){var e=this.array[t*this.itemSize+1];return this.normalized&&(e=ie(e,this.array)),e}},{key:"setY",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){var e=this.array[t*this.itemSize+2];return this.normalized&&(e=ie(e,this.array)),e}},{key:"setZ",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){var e=this.array[t*this.itemSize+3];return this.normalized&&(e=ie(e,this.array)),e}},{key:"setW",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return t*=this.itemSize,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array),r=ae(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}},{key:"setXYZW",value:function(t,e,n,r,i){return t*=this.itemSize,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array),r=ae(r,this.array),i=ae(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==zt&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}]),t}(),or=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i){return(0,k.Z)(this,n),e.call(this,new Uint16Array(t),r,i)}return(0,L.Z)(n)}(ar),sr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i){return(0,k.Z)(this,n),e.call(this,new Uint32Array(t),r,i)}return(0,L.Z)(n)}(ar),lr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i){return(0,k.Z)(this,n),e.call(this,new Float32Array(t),r,i)}return(0,L.Z)(n)}(ar),ur=0,cr=new cn,hr=new In,fr=new Ne,Ar=new De,dr=new De,pr=new Ne,mr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isBufferGeometry=!0,Object.defineProperty((0,S.Z)(t),"id",{value:ur++}),t.uuid=Kt(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}return(0,L.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(ce(t)?sr:or)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new le).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return cr.makeRotationFromQuaternion(t),this.applyMatrix4(cr),this}},{key:"rotateX",value:function(t){return cr.makeRotationX(t),this.applyMatrix4(cr),this}},{key:"rotateY",value:function(t){return cr.makeRotationY(t),this.applyMatrix4(cr),this}},{key:"rotateZ",value:function(t){return cr.makeRotationZ(t),this.applyMatrix4(cr),this}},{key:"translate",value:function(t,e,n){return cr.makeTranslation(t,e,n),this.applyMatrix4(cr),this}},{key:"scale",value:function(t,e,n){return cr.makeScale(t,e,n),this.applyMatrix4(cr),this}},{key:"lookAt",value:function(t){return hr.lookAt(t),hr.updateMatrix(),this.applyMatrix4(hr.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(fr).negate(),this.translate(fr.x,fr.y,fr.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new lr(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new De);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ne(-1/0,-1/0,-1/0),new Ne(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,r=e.length;n<r;n++){var i=e[n];Ar.setFromBufferAttribute(i),this.morphTargetsRelative?(pr.addVectors(this.boundingBox.min,Ar.min),this.boundingBox.expandByPoint(pr),pr.addVectors(this.boundingBox.max,Ar.max),this.boundingBox.expandByPoint(pr)):(this.boundingBox.expandByPoint(Ar.min),this.boundingBox.expandByPoint(Ar.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new tn);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ne,1/0);if(t){var n=this.boundingSphere.center;if(Ar.setFromBufferAttribute(t),e)for(var r=0,i=e.length;r<i;r++){var a=e[r];dr.setFromBufferAttribute(a),this.morphTargetsRelative?(pr.addVectors(Ar.min,dr.min),Ar.expandByPoint(pr),pr.addVectors(Ar.max,dr.max),Ar.expandByPoint(pr)):(Ar.expandByPoint(dr.min),Ar.expandByPoint(dr.max))}Ar.getCenter(n);for(var o=0,s=0,l=t.count;s<l;s++)pr.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(pr));if(e)for(var u=0,c=e.length;u<c;u++)for(var h=e[u],f=this.morphTargetsRelative,A=0,d=h.count;A<d;A++)pr.fromBufferAttribute(h,A),f&&(fr.fromBufferAttribute(t,A),pr.add(fr)),o=Math.max(o,n.distanceToSquared(pr));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,r=e.position.array,i=e.normal.array,a=e.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ar(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Ne,u[c]=new Ne;var h=new Ne,f=new Ne,A=new Ne,d=new se,p=new se,m=new se,v=new Ne,g=new Ne,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,_=y.length;b<_;++b)for(var x=y[b],w=x.start,S=w,M=w+x.count;S<M;S+=3)D(n[S+0],n[S+1],n[S+2]);for(var E=new Ne,T=new Ne,P=new Ne,k=new Ne,L=0,C=y.length;L<C;++L)for(var R=y[L],N=R.start,O=N,I=N+R.count;O<I;O+=3)B(n[O+0]),B(n[O+1]),B(n[O+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(t,e,n){h.fromArray(r,3*t),f.fromArray(r,3*e),A.fromArray(r,3*n),d.fromArray(a,2*t),p.fromArray(a,2*e),m.fromArray(a,2*n),f.sub(h),A.sub(h),p.sub(d),m.sub(d);var i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(v.copy(f).multiplyScalar(m.y).addScaledVector(A,-p.y).multiplyScalar(i),g.copy(A).multiplyScalar(p.x).addScaledVector(f,-m.x).multiplyScalar(i),l[t].add(v),l[e].add(v),l[n].add(v),u[t].add(g),u[e].add(g),u[n].add(g))}function B(t){P.fromArray(i,3*t),k.copy(P);var e=l[t];E.copy(e),E.sub(P.multiplyScalar(P.dot(e))).normalize(),T.crossVectors(k,e);var n=T.dot(u[t])<0?-1:1;s[4*t]=E.x,s[4*t+1]=E.y,s[4*t+2]=E.z,s[4*t+3]=n}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new ar(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Ne,o=new Ne,s=new Ne,l=new Ne,u=new Ne,c=new Ne,h=new Ne,f=new Ne;if(t)for(var A=0,d=t.count;A<d;A+=3){var p=t.getX(A+0),m=t.getX(A+1),v=t.getX(A+2);a.fromBufferAttribute(e,p),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,v),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,p),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),l.add(h),u.add(h),c.add(h),n.setXYZ(p,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,c.x,c.y,c.z)}else for(var g=0,y=e.count;g<y;g+=3)a.fromBufferAttribute(e,g+0),o.fromBufferAttribute(e,g+1),s.fromBufferAttribute(e,g+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(g+0,h.x,h.y,h.z),n.setXYZ(g+1,h.x,h.y,h.z),n.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)pr.fromBufferAttribute(t,e),pr.normalize(),t.setXYZ(e,pr.x,pr.y,pr.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,r=t.itemSize,i=t.normalized,a=new n.constructor(e.length*r),o=0,s=0,l=0,u=e.length;l<u;l++){o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new ar(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=t(i[a],r);e.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var A=t(c[h],r);u.push(A)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,p=0,m=d.length;p<m;p++){var v=d[p];e.addGroup(v.start,v.count,v.materialIndex)}return e}},{key:"toJSON",value:function(){var t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];t.data.attributes[a]=o.toJSON(t.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,A=c.length;f<A;f++){var d=c[f];h.push(d.toJSON(t.data))}h.length>0&&(s[u]=h,l=!0)}l&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var m=this.boundingSphere;return null!==m&&(t.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var r=t.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(e))}var o=t.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(e));this.morphAttributes[s]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var f=t.groups,A=0,d=f.length;A<d;A++){var p=f[A];this.addGroup(p.start,p.count,p.materialIndex)}var m=t.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=t.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Vt),vr=new cn,gr=new un,yr=new tn,br=new Ne,_r=new Ne,xr=new Ne,wr=new Ne,Sr=new Ne,Mr=new Ne,Er=new se,Tr=new se,Pr=new se,kr=new Ne,Lr=new Ne,Cr=new Ne,Rr=new Ne,Nr=new Ne,Or=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new nr;return(0,k.Z)(this,n),(t=e.call(this)).isMesh=!0,t.type="Mesh",t.geometry=r,t.material=i,t.updateMorphTargets(),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(t,e){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;e.fromBufferAttribute(r,t);var o=this.morphTargetInfluences;if(i&&o){Mr.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(Sr.fromBufferAttribute(c,t),a?Mr.addScaledVector(Sr,u):Mr.addScaledVector(Sr.sub(e),u))}e.add(Mr)}return e}},{key:"raycast",value:function(t,e){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),yr.copy(n.boundingSphere),yr.applyMatrix4(i),gr.copy(t.ray).recast(t.near),!1===yr.containsPoint(gr.origin)){if(null===gr.intersectSphere(yr,br))return;if(gr.origin.distanceToSquared(br)>Math.pow(t.far-t.near,2))return}vr.copy(i).invert(),gr.copy(t.ray).applyMatrix4(vr),null!==n.boundingBox&&!1===gr.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,gr)}}},{key:"_computeIntersections",value:function(t,e,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,h=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(var A=0,d=h.length;A<d;A++)for(var p=h[A],m=a[p.materialIndex],v=Math.max(p.start,f.start),g=Math.min(o.count,Math.min(p.start+p.count,f.start+f.count));v<g;v+=3){(r=Ir(this,m,t,n,l,u,c,o.getX(v),o.getX(v+1),o.getX(v+2)))&&(r.faceIndex=Math.floor(v/3),r.face.materialIndex=p.materialIndex,e.push(r))}else for(var y=Math.max(0,f.start),b=Math.min(o.count,f.start+f.count);y<b;y+=3){(r=Ir(this,a,t,n,l,u,c,o.getX(y),o.getX(y+1),o.getX(y+2)))&&(r.faceIndex=Math.floor(y/3),e.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var _=0,x=h.length;_<x;_++)for(var w=h[_],S=a[w.materialIndex],M=Math.max(w.start,f.start),E=Math.min(s.count,Math.min(w.start+w.count,f.start+f.count));M<E;M+=3){(r=Ir(this,S,t,n,l,u,c,M,M+1,M+2))&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=w.materialIndex,e.push(r))}else for(var T=Math.max(0,f.start),P=Math.min(s.count,f.start+f.count);T<P;T+=3){(r=Ir(this,a,t,n,l,u,c,T,T+1,T+2))&&(r.faceIndex=Math.floor(T/3),e.push(r))}}}]),n}(In);function Ir(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,_r),t.getVertexPosition(l,xr),t.getVertexPosition(u,wr);var c=function(t,e,n,r,i,a,o,s){if(null===(e.side===z?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,e.side===U,s)))return null;Nr.copy(s),Nr.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(Nr);return l<n.near||l>n.far?null:{distance:l,point:Nr.clone(),object:t}}(t,e,n,r,_r,xr,wr,Rr);if(c){i&&(Er.fromBufferAttribute(i,s),Tr.fromBufferAttribute(i,l),Pr.fromBufferAttribute(i,u),c.uv=Wn.getInterpolation(Rr,_r,xr,wr,Er,Tr,Pr,new se)),a&&(Er.fromBufferAttribute(a,s),Tr.fromBufferAttribute(a,l),Pr.fromBufferAttribute(a,u),c.uv1=Wn.getInterpolation(Rr,_r,xr,wr,Er,Tr,Pr,new se),c.uv2=c.uv1),o&&(kr.fromBufferAttribute(o,s),Lr.fromBufferAttribute(o,l),Cr.fromBufferAttribute(o,u),c.normal=Wn.getInterpolation(Rr,_r,xr,wr,kr,Lr,Cr,new Ne),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var h={a:s,b:l,c:u,normal:new Ne,materialIndex:0};Wn.getNormal(_r,xr,wr,h.normal),c.face=h}return c}var Dr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,k.Z)(this,n),(t=e.call(this)).type="BoxGeometry",t.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=(0,S.Z)(t);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],f=[],A=[],d=0,p=0;function m(t,e,n,r,i,a,o,s,l,m,v){for(var g=a/l,y=o/m,b=a/2,_=o/2,x=s/2,w=l+1,S=m+1,M=0,E=0,T=new Ne,P=0;P<S;P++)for(var k=P*y-_,L=0;L<w;L++){var C=L*g-b;T[t]=C*r,T[e]=k*i,T[n]=x,h.push(T.x,T.y,T.z),T[t]=0,T[e]=0,T[n]=s>0?1:-1,f.push(T.x,T.y,T.z),A.push(L/l),A.push(1-P/m),M+=1}for(var R=0;R<m;R++)for(var N=0;N<l;N++){var O=d+N+w*R,I=d+N+w*(R+1),D=d+(N+1)+w*(R+1),B=d+(N+1)+w*R;c.push(O,I,B),c.push(I,D,B),E+=6}u.addGroup(p,E,v),p+=E,d+=M}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),t.setIndex(c),t.setAttribute("position",new lr(h,3)),t.setAttribute("normal",new lr(f,3)),t.setAttribute("uv",new lr(A,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]),n}(mr);function Br(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}function qr(t){for(var e={},n=0;n<t.length;n++){var r=Br(t[n]);for(var i in r)e[i]=r[i]}return e}function Fr(t){return null===t.getRenderTarget()?t.outputColorSpace:qt}var Ur={clone:Br,merge:qr},zr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==t&&r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Br(t.uniforms),this.uniformsGroups=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);for(var r in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?e.uniforms[r]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[r]={type:"m4",value:i.toArray()}:e.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e}}]),n}(Yn),Zr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isCamera=!0,t.type="Camera",t.matrixWorldInverse=new cn,t.projectionMatrix=new cn,t.projectionMatrixInverse=new cn,t.coordinateSystem=Ht,t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}},{key:"updateMatrixWorld",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){(0,x.Z)((0,w.Z)(n.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(In),jr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,k.Z)(this,n),(t=e.call(this)).isPerspectiveCamera=!0,t.type="PerspectiveCamera",t.fov=r,t.zoom=1,t.near=a,t.far=o,t.focus=10,t.aspect=i,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Qt*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*Yt*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Qt*Math.atan(Math.tan(.5*Yt*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=this.near,e=t*Math.tan(.5*Yt*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),n}(Zr),Hr=-90,Gr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i){var a;(0,k.Z)(this,n),(a=e.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new jr(Hr,1,t,r);o.layers=a.layers,a.add(o);var s=new jr(Hr,1,t,r);s.layers=a.layers,a.add(s);var l=new jr(Hr,1,t,r);l.layers=a.layers,a.add(l);var u=new jr(Hr,1,t,r);u.layers=a.layers,a.add(u);var c=new jr(Hr,1,t,r);c.layers=a.layers,a.add(c);var h=new jr(Hr,1,t,r);return h.layers=a.layers,a.add(h),a}return(0,L.Z)(n,[{key:"updateCoordinateSystem",value:function(){var t,e=this.coordinateSystem,n=this.children.concat(),r=(0,_.Z)(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=(0,b.Z)(n);try{for(c.s();!(t=c.n()).done;){var h=t.value;this.remove(h)}}catch(p){c.e(p)}finally{c.f()}if(e===Ht)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(e!==Gt)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var f,A=(0,b.Z)(n);try{for(A.s();!(f=A.n()).done;){var d=f.value;this.add(d),d.updateMatrixWorld()}}catch(p){A.e(p)}finally{A.f()}}},{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());var r=(0,_.Z)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=t.getRenderTarget(),h=t.toneMapping,f=t.xr.enabled;t.toneMapping=V,t.xr.enabled=!1;var A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,a),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=A,t.setRenderTarget(n,5),t.render(e,u),t.setRenderTarget(c),t.toneMapping=h,t.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(In),Vr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a,o,s,l,u,c,h){var f;return(0,k.Z)(this,n),t=void 0!==t?t:[],r=void 0!==r?r:J,(f=e.call(this,t,r,i,a,o,s,l,u,c,h)).isCubeTexture=!0,f.flipY=!1,f}return(0,L.Z)(n,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),n}(Te),Wr=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,k.Z)(this,n),(t=e.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(Ae("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===It?Bt:Dt),t.texture=new Vr(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),t.texture.isRenderTargetTexture=!0,t.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,t.texture.minFilter=void 0!==i.minFilter?i.minFilter:ut,t}return(0,L.Z)(n,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Dr(5,5,5),o=new zr({name:"CubemapFromEquirect",uniforms:Br(n),vertexShader:r,fragmentShader:i,side:z,blending:0});o.uniforms.tEquirect.value=e;var s=new Or(a,o),l=e.minFilter;return e.minFilter===ct&&(e.minFilter=ut),new Gr(1,10,this).update(t,s),e.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(t,e,n,r){for(var i=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,r);t.setRenderTarget(i)}}]),n}(ke),Xr=new Ne,Yr=new Ne,Qr=new le,Kr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,k.Z)(this,t),this.isPlane=!0,this.normal=e,this.constant=n}return(0,L.Z)(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var r=Xr.subVectors(n,e).cross(Yr.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}},{key:"intersectLine",value:function(t,e){var n=t.delta(Xr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;var i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(t.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||Qr.getNormalMatrix(t),r=this.coplanarPoint(Xr).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Jr=new tn,$r=new Ne,ti=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Kr,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Kr,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Kr,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Kr;(0,k.Z)(this,t),this.planes=[e,n,r,i,a,o]}return(0,L.Z)(t,[{key:"set",value:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht,n=this.planes,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],f=r[8],A=r[9],d=r[10],p=r[11],m=r[12],v=r[13],g=r[14],y=r[15];if(n[0].setComponents(s-i,h-l,p-f,y-m).normalize(),n[1].setComponents(s+i,h+l,p+f,y+m).normalize(),n[2].setComponents(s+a,h+u,p+A,y+v).normalize(),n[3].setComponents(s-a,h-u,p-A,y-v).normalize(),n[4].setComponents(s-o,h-c,p-d,y-g).normalize(),e===Ht)n[5].setComponents(s+o,h+c,p+d,y+g).normalize();else{if(e!==Gt)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(o,c,d,g).normalize()}return this}},{key:"intersectsObject",value:function(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Jr.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{var e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Jr.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Jr)}},{key:"intersectsSprite",value:function(t){return Jr.center.set(0,0,0),Jr.radius=.7071067811865476,Jr.applyMatrix4(t.matrixWorld),this.intersectsSphere(Jr)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];if($r.x=r.normal.x>0?t.max.x:t.min.x,$r.y=r.normal.y>0?t.max.y:t.min.y,$r.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint($r)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function ei(){var t=null,e=!1,n=null,r=null;function i(e,a){n(e,a),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function ni(t,e){var n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=r.get(e);n&&(t.deleteBuffer(n.buffer),r.delete(e))},update:function(e,i){if(e.isGLBufferAttribute){var a=r.get(e);(!a||a.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=r.get(e);void 0===o?r.set(e,function(e,r){var i,a=e.array,o=e.usage,s=t.createBuffer();if(t.bindBuffer(r,s),t.bufferData(r,a,o),e.onUploadCallback(),a instanceof Float32Array)i=t.FLOAT;else if(a instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=t.HALF_FLOAT}else i=t.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=t.SHORT;else if(a instanceof Uint32Array)i=t.UNSIGNED_INT;else if(a instanceof Int32Array)i=t.INT;else if(a instanceof Int8Array)i=t.BYTE;else if(a instanceof Uint8Array)i=t.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=t.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:e.version}}(e,i)):o.version<e.version&&(!function(e,r,i){var a=r.array,o=r.updateRange;t.bindBuffer(i,e),-1===o.count?t.bufferSubData(i,0,a):(n?t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,e,i),o.version=e.version)}}}}var ri=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,k.Z)(this,n),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,A=r/u,d=i/c,p=[],m=[],v=[],g=[],y=0;y<f;y++)for(var b=y*d-l,_=0;_<h;_++){var x=_*A-s;m.push(x,-b,0),v.push(0,0,1),g.push(_/u),g.push(1-y/c)}for(var w=0;w<c;w++)for(var S=0;S<u;S++){var M=S+h*w,E=S+h*(w+1),T=S+1+h*(w+1),P=S+1+h*w;p.push(M,E,P),p.push(E,T,P)}return t.setIndex(p),t.setAttribute("position",new lr(m,3)),t.setAttribute("normal",new lr(v,3)),t.setAttribute("uv",new lr(g,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.widthSegments,t.heightSegments)}}]),n}(mr),ii={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},ai={common:{diffuse:{value:new tr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new le},alphaMap:{value:null},alphaMapTransform:{value:new le},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new le}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new le}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new le}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new le},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new le},normalScale:{value:new se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new le},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new le}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new le}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new le}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new le},alphaTest:{value:0},uvTransform:{value:new le}},sprite:{diffuse:{value:new tr(16777215)},opacity:{value:1},center:{value:new se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new le},alphaMap:{value:null},alphaMapTransform:{value:new le},alphaTest:{value:0}}},oi={basic:{uniforms:qr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:ii.meshbasic_vert,fragmentShader:ii.meshbasic_frag},lambert:{uniforms:qr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,ai.lights,{emissive:{value:new tr(0)}}]),vertexShader:ii.meshlambert_vert,fragmentShader:ii.meshlambert_frag},phong:{uniforms:qr([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,ai.lights,{emissive:{value:new tr(0)},specular:{value:new tr(1118481)},shininess:{value:30}}]),vertexShader:ii.meshphong_vert,fragmentShader:ii.meshphong_frag},standard:{uniforms:qr([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new tr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},toon:{uniforms:qr([ai.common,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new tr(0)}}]),vertexShader:ii.meshtoon_vert,fragmentShader:ii.meshtoon_frag},matcap:{uniforms:qr([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,{matcap:{value:null}}]),vertexShader:ii.meshmatcap_vert,fragmentShader:ii.meshmatcap_frag},points:{uniforms:qr([ai.points,ai.fog]),vertexShader:ii.points_vert,fragmentShader:ii.points_frag},dashed:{uniforms:qr([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ii.linedashed_vert,fragmentShader:ii.linedashed_frag},depth:{uniforms:qr([ai.common,ai.displacementmap]),vertexShader:ii.depth_vert,fragmentShader:ii.depth_frag},normal:{uniforms:qr([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:ii.meshnormal_vert,fragmentShader:ii.meshnormal_frag},sprite:{uniforms:qr([ai.sprite,ai.fog]),vertexShader:ii.sprite_vert,fragmentShader:ii.sprite_frag},background:{uniforms:{uvTransform:{value:new le},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ii.background_vert,fragmentShader:ii.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ii.backgroundCube_vert,fragmentShader:ii.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ii.cube_vert,fragmentShader:ii.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ii.equirect_vert,fragmentShader:ii.equirect_frag},distanceRGBA:{uniforms:qr([ai.common,ai.displacementmap,{referencePosition:{value:new Ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ii.distanceRGBA_vert,fragmentShader:ii.distanceRGBA_frag},shadow:{uniforms:qr([ai.lights,ai.fog,{color:{value:new tr(0)},opacity:{value:1}}]),vertexShader:ii.shadow_vert,fragmentShader:ii.shadow_frag}};oi.physical={uniforms:qr([oi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new le},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new le},clearcoatNormalScale:{value:new se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new le},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new le},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new le},sheen:{value:0},sheenColor:{value:new tr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new le},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new le},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new le},transmissionSamplerSize:{value:new se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new le},attenuationDistance:{value:0},attenuationColor:{value:new tr(0)},specularColor:{value:new tr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new le},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new le},anisotropyVector:{value:new se},anisotropyMap:{value:null},anisotropyMapTransform:{value:new le}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag};var si={r:0,b:0,g:0};function li(t,e,n,r,i,a,o){var s,l,u=new tr(0),c=!0===a?0:1,h=null,f=0,A=null;function d(e,n){e.getRGB(si,Fr(t)),r.buffers.color.setClear(si.r,si.g,si.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(t),d(u,c=e)},getClearAlpha:function(){return c},setClearAlpha:function(t){d(u,c=t)},render:function(a,p){var m=!1,v=!0===p.isScene?p.background:null;switch(v&&v.isTexture&&(v=(p.backgroundBlurriness>0?n:e).get(v)),null===v?d(u,c):v&&v.isColor&&(d(v,1),m=!0),t.xr.getEnvironmentBlendMode()){case"opaque":m=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),m=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),m=!0}(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.mapping===nt)?(void 0===l&&((l=new Or(new Dr(1,1,1),new zr({name:"BackgroundCubeMaterial",uniforms:Br(oi.backgroundCube.uniforms),vertexShader:oi.backgroundCube.vertexShader,fragmentShader:oi.backgroundCube.fragmentShader,side:z,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=v,l.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,l.material.toneMapped=v.colorSpace!==Bt,h===v&&f===v.version&&A===t.toneMapping||(l.material.needsUpdate=!0,h=v,f=v.version,A=t.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new Or(new ri(2,2),new zr({name:"BackgroundMaterial",uniforms:Br(oi.background.uniforms),vertexShader:oi.background.vertexShader,fragmentShader:oi.background.fragmentShader,side:U,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,s.material.toneMapped=v.colorSpace!==Bt,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),h===v&&f===v.version&&A===t.toneMapping||(s.material.needsUpdate=!0,h=v,f=v.version,A=t.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function ui(t,e,n,r){var i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=A(null),u=l,c=!1;function h(e){return r.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function f(e){return r.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function A(t){for(var e=[],n=[],r=[],a=0;a<i;a++)e[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function d(){for(var t=u.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function p(t){m(t,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(t.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var e=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function g(e,n,r,i,a,o,s){!0===s?t.vertexAttribIPointer(e,n,r,a,o):t.vertexAttribPointer(e,n,r,i,a,o)}function y(){b(),c=!0,u!==l&&h((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,y,b){var _=!1;if(o){var x=function(e,n,i){var o=!0===i.wireframe,l=s[e.id];void 0===l&&(l={},s[e.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=A(r.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(y,f,l);u!==x&&h((u=x).object),_=function(t,e,n,r){var i=u.attributes,a=e.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&t.instanceMatrix&&(h=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(h=t.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,y,f,b),_&&function(t,e,n,r){var i={},a=e.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&t.instanceMatrix&&(c=t.instanceMatrix),"instanceColor"===l&&t.instanceColor&&(c=t.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[l]=h,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,y,f,b)}else{var w=!0===l.wireframe;u.geometry===y.id&&u.program===f.id&&u.wireframe===w||(u.geometry=y.id,u.program=f.id,u.wireframe=w,_=!0)}null!==b&&n.update(b,t.ELEMENT_ARRAY_BUFFER),(_||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;d();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var f=u[h];if(f.location>=0){var A=l[h];if(void 0===A&&("instanceMatrix"===h&&i.instanceMatrix&&(A=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(A=i.instanceColor)),void 0!==A){var y=A.normalized,b=A.itemSize,_=n.get(A);if(void 0===_)continue;var x=_.buffer,w=_.type,S=_.bytesPerElement,M=!0===r.isWebGL2&&(w===t.INT||w===t.UNSIGNED_INT||A.gpuType===At);if(A.isInterleavedBufferAttribute){var E=A.data,T=E.stride,P=A.offset;if(E.isInstancedInterleavedBuffer){for(var k=0;k<f.locationSize;k++)m(f.location+k,E.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)}else for(var L=0;L<f.locationSize;L++)p(f.location+L);t.bindBuffer(t.ARRAY_BUFFER,x);for(var C=0;C<f.locationSize;C++)g(f.location+C,b/f.locationSize,w,y,T*S,(P+b/f.locationSize*C)*S,M)}else{if(A.isInstancedBufferAttribute){for(var R=0;R<f.locationSize;R++)m(f.location+R,A.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=A.meshPerAttribute*A.count)}else for(var N=0;N<f.locationSize;N++)p(f.location+N);t.bindBuffer(t.ARRAY_BUFFER,x);for(var O=0;O<f.locationSize;O++)g(f.location+O,b/f.locationSize,w,y,b*S,b/f.locationSize*O*S,M)}}else if(void 0!==c){var I=c[h];if(void 0!==I)switch(I.length){case 2:t.vertexAttrib2fv(f.location,I);break;case 3:t.vertexAttrib3fv(f.location,I);break;case 4:t.vertexAttrib4fv(f.location,I);break;default:t.vertexAttrib1fv(f.location,I)}}}}v()}(i,l,f,y),null!==b&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var t in y(),s){var e=s[t];for(var n in e){var r=e[n];for(var i in r)f(r[i].object),delete r[i];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var r=e[n];for(var i in r)f(r[i].object),delete r[i];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var r=n[t.id];for(var i in r)f(r[i].object),delete r[i];delete n[t.id]}}},initAttributes:d,enableAttribute:p,disableUnusedAttributes:v}}function ci(t,e,n,r){var i,a=r.isWebGL2;this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function hi(t,e,n){var r;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===t.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||e.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),A=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,y=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){var n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:A,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(t.MAX_SAMPLES):0}}function fi(t){var e=this,n=null,r=0,i=!1,a=!1,o=new Kr,s=new le,l={value:null,needsUpdate:!1};function u(t,n,r,i){var a=null!==t?t.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,A=r;f!==a;++f,A+=4)o.copy(t[f]).applyMatrix4(h,s),o.normal.toArray(u,A),u[A+3]=o.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){var n=0!==t.length||e||0!==r||i;return i=e,r=t.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(t,e){n=u(t,e,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,f=o.clipIntersection,A=o.clipShadows,d=t.get(o);if(!i||null===h||0===h.length||a&&!A)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);e.numPlanes=r,e.numIntersection=0}();else{var p=a?0:r,m=4*p,v=d.clippingState||null;l.value=v,v=u(h,s,m,c);for(var g=0;g!==m;++g)v[g]=n[g];d.clippingState=v,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=p}}}function Ai(t){var e=new WeakMap;function n(t,e){return e===tt?t.mapping=J:e===et&&(t.mapping=$),t}function r(t){var n=t.target;n.removeEventListener("dispose",r);var i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===tt||a===et){if(e.has(i))return n(e.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Wr(o.height/2);return s.fromEquirectangularTexture(t,i),e.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){e=new WeakMap}}}var di=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,k.Z)(this,n),(t=e.call(this)).isOrthographicCamera=!0,t.type="OrthographicCamera",t.zoom=1,t.view=null,t.left=r,t.right=i,t.top=a,t.bottom=o,t.near=s,t.far=l,t.updateProjectionMatrix(),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,a=n+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),n}(Zr),pi=[.125,.215,.35,.446,.526,.582],mi=20,vi=new di,gi=new tr,yi=null,bi=(1+Math.sqrt(5))/2,_i=1/bi,xi=[new Ne(1,1,1),new Ne(-1,1,1),new Ne(1,1,-1),new Ne(-1,1,-1),new Ne(0,bi,_i),new Ne(0,bi,-_i),new Ne(_i,0,bi),new Ne(-_i,0,bi),new Ne(bi,_i,0),new Ne(-bi,_i,0)],wi=function(){function t(e){(0,k.Z)(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,L.Z)(t,[{key:"fromScene",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;yi=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"fromCubemap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(t,e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ti(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Ei(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}},{key:"_cleanup",value:function(t){this._renderer.setRenderTarget(yi),t.scissorTest=!1,Mi(t,0,0,t.width,t.height)}},{key:"_fromTexture",value:function(t,e){t.mapping===J||t.mapping===$?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),yi=this._renderer.getRenderTarget();var n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:ut,minFilter:ut,generateMipmaps:!1,type:mt,format:gt,colorSpace:qt,depthBuffer:!1},r=Si(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Si(t,e,n);var i=this._lodMax,a=function(t){for(var e=[],n=[],r=[],i=t,a=t-4+1+pi.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>t-4?l=pi[o-t+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],A=6,d=6,p=3,m=2,v=1,g=new Float32Array(p*d*A),y=new Float32Array(m*d*A),b=new Float32Array(v*d*A),_=0;_<A;_++){var x=_%3*2/3-1,w=_>2?0:-1,S=[x,w,0,x+2/3,w,0,x+2/3,w+1,0,x,w,0,x+2/3,w+1,0,x,w+1,0];g.set(S,p*d*_),y.set(f,m*d*_);var M=[_,_,_,_,_,_];b.set(M,v*d*_)}var E=new mr;E.setAttribute("position",new ar(g,p)),E.setAttribute("uv",new ar(y,m)),E.setAttribute("faceIndex",new ar(b,v)),e.push(E),i>4&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(t,e,n){var r=new Float32Array(mi),i=new Ne(0,1,0),a=new zr({name:"SphericalGaussianBlur",defines:{n:mi,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,t,e)}return r}},{key:"_compileMaterial",value:function(t){var e=new Or(this._lodPlanes[0],t);this._renderer.compile(e,vi)}},{key:"_sceneToCubeUV",value:function(t,e,n,r){var i=new jr(90,1,e,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(gi),s.toneMapping=V,s.autoClear=!1;var c=new nr({name:"PMREM.Background",side:z,depthWrite:!1,depthTest:!1}),h=new Or(new Dr,c),f=!1,A=t.background;A?A.isColor&&(c.color.copy(A),t.background=null,f=!0):(c.color.copy(gi),f=!0);for(var d=0;d<6;d++){var p=d%3;0===p?(i.up.set(0,a[d],0),i.lookAt(o[d],0,0)):1===p?(i.up.set(0,0,a[d]),i.lookAt(0,o[d],0)):(i.up.set(0,a[d],0),i.lookAt(0,0,o[d]));var m=this._cubeSize;Mi(r,p*m,d>2?m:0,m,m),s.setRenderTarget(r),f&&s.render(h,i),s.render(t,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,t.background=A}},{key:"_textureToCubeUV",value:function(t,e){var n=this._renderer,r=t.mapping===J||t.mapping===$;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ti()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ei());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Or(this._lodPlanes[0],i);i.uniforms.envMap.value=t;var o=this._cubeSize;Mi(e,0,0,3*o,2*o),n.setRenderTarget(e),n.render(a,vi)}},{key:"_applyPMREM",value:function(t){var e=this._renderer,n=e.autoClear;e.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=xi[(r-1)%xi.length];this._blur(t,r-1,r,i,a)}e.autoClear=n}},{key:"_blur",value:function(t,e,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,r,"latitudinal",i),this._halfBlur(a,t,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(t,e,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Or(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,A=i/f,d=isFinite(i)?1+Math.floor(3*A):mi;d>mi&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(d," samples when the maximum is set to ").concat(mi));for(var p=[],m=0,v=0;v<mi;++v){var g=v/A,y=Math.exp(-g*g/2);p.push(y),0===v?m+=y:v<d&&(m+=2*y)}for(var b=0;b<p.length;b++)p[b]=p[b]/m;c.envMap.value=t.texture,c.samples.value=d,c.weights.value=p,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=f,c.mipInt.value=_-n;var x=this._sizeLods[r];Mi(e,3*x*(r>_-4?r-_+4:0),4*(this._cubeSize-x),3*x,2*x),s.setRenderTarget(e),s.render(u,vi)}}]),t}();function Si(t,e,n){var r=new ke(t,e,n);return r.texture.mapping=nt,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Mi(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ei(){return new zr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ti(){return new zr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Pi(t){var e=new WeakMap,n=null;function r(t){var n=t.target;n.removeEventListener("dispose",r);var i=e.get(n);void 0!==i&&(e.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===tt||a===et,s=a===J||a===$;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=e.get(i);return null===n&&(n=new wi(t)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),e.set(i,l),l.texture}if(e.has(i))return e.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(t){for(var e=0,n=6,r=0;r<n;r++)void 0!==t[r]&&e++;return e===n}(u)){null===n&&(n=new wi(t));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return e.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ki(t){var e={};function n(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){var e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Li(t,e,n,r){var i={},a=new WeakMap;function o(t){var s=t.target;for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);for(var u in s.morphAttributes)for(var c=s.morphAttributes[u],h=0,f=c.length;h<f;h++)e.remove(c[h]);s.removeEventListener("dispose",o),delete i[s.id];var A=a.get(s);A&&(e.remove(A),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],r=t.index,i=t.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],f=s[l+2];n.push(c,h,h,f,f,c)}}else{var A=i.array;o=i.version;for(var d=0,p=A.length/3-1;d<p;d+=3){var m=d+0,v=d+1,g=d+2;n.push(m,v,v,g,g,m)}}var y=new(ce(n)?sr:or)(n,1);y.version=o;var b=a.get(t);b&&e.remove(b),a.set(t,y)}return{get:function(t,e){return!0===i[e.id]||(e.addEventListener("dispose",o),i[e.id]=!0,n.memory.geometries++),e},update:function(n){var r=n.attributes;for(var i in r)e.update(r[i],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)e.update(s[l],t.ARRAY_BUFFER)},getWireframeAttribute:function(t){var e=a.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return a.get(t)}}}function Ci(t,e,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(t){i=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(i,r,a,e*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,a,r*o,u),n.update(l,i,u)}}}function Ri(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Ni(t,e){return t[0]-e[0]}function Oi(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ii(t,e,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Pe,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var h=l.morphTargetInfluences;if(!0===e.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,A=void 0!==f?f.length:0,d=a.get(u);if(void 0===d||d.count!==A){void 0!==d&&d.texture.dispose();var p=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,v=void 0!==u.morphAttributes.color,g=u.morphAttributes.position||[],y=u.morphAttributes.normal||[],b=u.morphAttributes.color||[],_=0;!0===p&&(_=1),!0===m&&(_=2),!0===v&&(_=3);var x=u.attributes.position.count*_,w=1;x>e.maxTextureSize&&(w=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);var S=new Float32Array(x*w*4*A),M=new Le(S,x,w,A);M.type=pt,M.needsUpdate=!0;for(var E=4*_,T=0;T<A;T++)for(var P=g[T],k=y[T],L=b[T],C=x*w*4*T,R=0;R<P.count;R++){var N=R*E;!0===p&&(o.fromBufferAttribute(P,R),S[C+N+0]=o.x,S[C+N+1]=o.y,S[C+N+2]=o.z,S[C+N+3]=0),!0===m&&(o.fromBufferAttribute(k,R),S[C+N+4]=o.x,S[C+N+5]=o.y,S[C+N+6]=o.z,S[C+N+7]=0),!0===v&&(o.fromBufferAttribute(L,R),S[C+N+8]=o.x,S[C+N+9]=o.y,S[C+N+10]=o.z,S[C+N+11]=4===L.itemSize?o.w:1)}d={count:A,texture:M,size:new se(x,w)},a.set(u,d),u.addEventListener("dispose",(function t(){M.dispose(),a.delete(u),u.removeEventListener("dispose",t)}))}for(var O=0,I=0;I<h.length;I++)O+=h[I];var D=u.morphTargetsRelative?1:1-O;c.getUniforms().setValue(t,"morphTargetBaseInfluence",D),c.getUniforms().setValue(t,"morphTargetInfluences",h),c.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}else{var B=void 0===h?0:h.length,q=r[u.id];if(void 0===q||q.length!==B){q=[];for(var F=0;F<B;F++)q[F]=[F,0];r[u.id]=q}for(var U=0;U<B;U++){var z=q[U];z[0]=U,z[1]=h[U]}q.sort(Oi);for(var Z=0;Z<8;Z++)Z<B&&q[Z][1]?(s[Z][0]=q[Z][0],s[Z][1]=q[Z][1]):(s[Z][0]=Number.MAX_SAFE_INTEGER,s[Z][1]=0);s.sort(Ni);for(var j=u.morphAttributes.position,H=u.morphAttributes.normal,G=0,V=0;V<8;V++){var W=s[V],X=W[0],Y=W[1];X!==Number.MAX_SAFE_INTEGER&&Y?(j&&u.getAttribute("morphTarget"+V)!==j[X]&&u.setAttribute("morphTarget"+V,j[X]),H&&u.getAttribute("morphNormal"+V)!==H[X]&&u.setAttribute("morphNormal"+V,H[X]),i[V]=Y,G+=Y):(j&&!0===u.hasAttribute("morphTarget"+V)&&u.deleteAttribute("morphTarget"+V),H&&!0===u.hasAttribute("morphNormal"+V)&&u.deleteAttribute("morphNormal"+V),i[V]=0)}var Q=u.morphTargetsRelative?1:1-G;c.getUniforms().setValue(t,"morphTargetBaseInfluence",Q),c.getUniforms().setValue(t,"morphTargetInfluences",i)}}}}function Di(t,e,n,r){var i=new WeakMap;function a(t){var e=t.target;e.removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,u=e.get(o,l);if(i.get(u)!==s&&(e.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,t.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,t.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return u},dispose:function(){i=new WeakMap}}}var Bi=new Te,qi=new Le,Fi=new Ce,Ui=new Vr,zi=[],Zi=[],ji=new Float32Array(16),Hi=new Float32Array(9),Gi=new Float32Array(4);function Vi(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,a=zi[i];if(void 0===a&&(a=new Float32Array(i),zi[i]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Wi(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Xi(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function Yi(t,e){var n=Zi[e];void 0===n&&(n=new Int32Array(e),Zi[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Qi(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ki(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wi(n,e))return;t.uniform2fv(this.addr,e),Xi(n,e)}}function Ji(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Wi(n,e))return;t.uniform3fv(this.addr,e),Xi(n,e)}}function $i(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wi(n,e))return;t.uniform4fv(this.addr,e),Xi(n,e)}}function ta(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Wi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Xi(n,e)}else{if(Wi(n,r))return;Gi.set(r),t.uniformMatrix2fv(this.addr,!1,Gi),Xi(n,r)}}function ea(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Wi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Xi(n,e)}else{if(Wi(n,r))return;Hi.set(r),t.uniformMatrix3fv(this.addr,!1,Hi),Xi(n,r)}}function na(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Wi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Xi(n,e)}else{if(Wi(n,r))return;ji.set(r),t.uniformMatrix4fv(this.addr,!1,ji),Xi(n,r)}}function ra(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ia(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wi(n,e))return;t.uniform2iv(this.addr,e),Xi(n,e)}}function aa(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wi(n,e))return;t.uniform3iv(this.addr,e),Xi(n,e)}}function oa(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wi(n,e))return;t.uniform4iv(this.addr,e),Xi(n,e)}}function sa(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function la(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wi(n,e))return;t.uniform2uiv(this.addr,e),Xi(n,e)}}function ua(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wi(n,e))return;t.uniform3uiv(this.addr,e),Xi(n,e)}}function ca(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wi(n,e))return;t.uniform4uiv(this.addr,e),Xi(n,e)}}function ha(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||Bi,i)}function fa(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Fi,i)}function Aa(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Ui,i)}function da(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||qi,i)}function pa(t,e){t.uniform1fv(this.addr,e)}function ma(t,e){var n=Vi(e,this.size,2);t.uniform2fv(this.addr,n)}function va(t,e){var n=Vi(e,this.size,3);t.uniform3fv(this.addr,n)}function ga(t,e){var n=Vi(e,this.size,4);t.uniform4fv(this.addr,n)}function ya(t,e){var n=Vi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ba(t,e){var n=Vi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function _a(t,e){var n=Vi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xa(t,e){t.uniform1iv(this.addr,e)}function wa(t,e){t.uniform2iv(this.addr,e)}function Sa(t,e){t.uniform3iv(this.addr,e)}function Ma(t,e){t.uniform4iv(this.addr,e)}function Ea(t,e){t.uniform1uiv(this.addr,e)}function Ta(t,e){t.uniform2uiv(this.addr,e)}function Pa(t,e){t.uniform3uiv(this.addr,e)}function ka(t,e){t.uniform4uiv(this.addr,e)}function La(t,e,n){var r=this.cache,i=e.length,a=Yi(n,i);Wi(r,a)||(t.uniform1iv(this.addr,a),Xi(r,a));for(var o=0;o!==i;++o)n.setTexture2D(e[o]||Bi,a[o])}function Ca(t,e,n){var r=this.cache,i=e.length,a=Yi(n,i);Wi(r,a)||(t.uniform1iv(this.addr,a),Xi(r,a));for(var o=0;o!==i;++o)n.setTexture3D(e[o]||Fi,a[o])}function Ra(t,e,n){var r=this.cache,i=e.length,a=Yi(n,i);Wi(r,a)||(t.uniform1iv(this.addr,a),Xi(r,a));for(var o=0;o!==i;++o)n.setTextureCube(e[o]||Ui,a[o])}function Na(t,e,n){var r=this.cache,i=e.length,a=Yi(n,i);Wi(r,a)||(t.uniform1iv(this.addr,a),Xi(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(e[o]||qi,a[o])}var Oa=(0,L.Z)((function t(e,n,r){(0,k.Z)(this,t),this.id=e,this.addr=r,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Qi;case 35664:return Ki;case 35665:return Ji;case 35666:return $i;case 35674:return ta;case 35675:return ea;case 35676:return na;case 5124:case 35670:return ra;case 35667:case 35671:return ia;case 35668:case 35672:return aa;case 35669:case 35673:return oa;case 5125:return sa;case 36294:return la;case 36295:return ua;case 36296:return ca;case 35678:case 36198:case 36298:case 36306:case 35682:return ha;case 35679:case 36299:case 36307:return fa;case 35680:case 36300:case 36308:case 36293:return Aa;case 36289:case 36303:case 36311:case 36292:return da}}(n.type)})),Ia=(0,L.Z)((function t(e,n,r){(0,k.Z)(this,t),this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(t){switch(t){case 5126:return pa;case 35664:return ma;case 35665:return va;case 35666:return ga;case 35674:return ya;case 35675:return ba;case 35676:return _a;case 5124:case 35670:return xa;case 35667:case 35671:return wa;case 35668:case 35672:return Sa;case 35669:case 35673:return Ma;case 5125:return Ea;case 36294:return Ta;case 36295:return Pa;case 36296:return ka;case 35678:case 36198:case 36298:case 36306:case 35682:return La;case 35679:case 36299:case 36307:return Ca;case 35680:case 36300:case 36308:case 36293:return Ra;case 36289:case 36303:case 36311:case 36292:return Na}}(n.type)})),Da=function(){function t(e){(0,k.Z)(this,t),this.id=e,this.seq=[],this.map={}}return(0,L.Z)(t,[{key:"setValue",value:function(t,e,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(t,e[o.id],n)}}}]),t}(),Ba=/(\w+)(\])?(\[|\.)?/g;function qa(t,e){t.seq.push(e),t.map[e.id]=e}function Fa(t,e,n){var r=t.name,i=r.length;for(Ba.lastIndex=0;;){var a=Ba.exec(r),o=Ba.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){qa(n,void 0===u?new Oa(s,t,e):new Ia(s,t,e));break}var c=n.map[s];void 0===c&&qa(n,c=new Da(s)),n=c}}var Ua=function(){function t(e,n){(0,k.Z)(this,t),this.seq=[],this.map={};for(var r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=e.getActiveUniform(n,i);Fa(a,e.getUniformLocation(n,a.name),this)}}return(0,L.Z)(t,[{key:"setValue",value:function(t,e,n,r){var i=this.map[e];void 0!==i&&i.setValue(t,n,r)}},{key:"setOptional",value:function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)}}],[{key:"upload",value:function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}}},{key:"seqWithValue",value:function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n}}]),t}();function za(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}var Za=0;function ja(t,e,n){var r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(t,e){for(var n=t.split("\n"),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===e?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(t.getShaderSource(e),o)}return i}function Ha(t,e){var n=function(t){switch(t){case qt:return["Linear","( value )"];case Bt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ga(t,e){var n;switch(e){case W:n="Linear";break;case X:n="Reinhard";break;case Y:n="OptimizedCineon";break;case Q:n="ACESFilmic";break;case K:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Va(t){return""!==t}function Wa(t,e){var n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Xa(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var Ya=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qa(t){return t.replace(Ya,Ja)}var Ka=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ja(t,e){var n=ii[e];if(void 0===n){var r=Ka.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");n=ii[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return Qa(n)}var $a=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function to(t){return t.replace($a,eo)}function eo(t,e,n,r){for(var i="",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function no(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ro(t,e,n,r){var i,a,o=t.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(t){var e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===B?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===q?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===F&&(e="SHADOWMAP_TYPE_VSM"),e}(n),h=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case J:case $:e="ENVMAP_TYPE_CUBE";break;case nt:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),f=function(t){var e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===$&&(e="ENVMAP_MODE_REFRACTION");return e}(n),A=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case j:e="ENVMAP_BLENDING_MULTIPLY";break;case H:e="ENVMAP_BLENDING_MIX";break;case G:e="ENVMAP_BLENDING_ADD"}return e}(n),d=function(t){var e=t.envMapCubeUVHeight;if(null===e)return null;var n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),p=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Va).join("\n")}(n),m=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(s),v=o.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Va).join("\n")).length>0&&(i+="\n"),(a=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Va).join("\n")).length>0&&(a+="\n")):(i=[no(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Va).join("\n"),a=[p,no(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.envMap?"#define "+A:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==V?"#define TONE_MAPPING":"",n.toneMapping!==V?ii.tonemapping_pars_fragment:"",n.toneMapping!==V?Ga("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ii.colorspace_pars_fragment,Ha("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Va).join("\n")),l=Xa(l=Wa(l=Qa(l),n),n),u=Xa(u=Wa(u=Qa(u),n),n),l=to(l),u=to(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Zt?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Zt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,b,_=g+i+l,x=g+a+u,w=za(o,o.VERTEX_SHADER,_),S=za(o,o.FRAGMENT_SHADER,x);if(o.attachShader(v,w),o.attachShader(v,S),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),t.debug.checkShaderErrors){var M=o.getProgramInfoLog(v).trim(),E=o.getShaderInfoLog(w).trim(),T=o.getShaderInfoLog(S).trim(),P=!0,k=!0;if(!1===o.getProgramParameter(v,o.LINK_STATUS))if(P=!1,"function"===typeof t.debug.onShaderError)t.debug.onShaderError(o,v,w,S);else{var L=ja(o,w,"vertex"),C=ja(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+M+"\n"+L+"\n"+C)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==E&&""!==T||(k=!1);k&&(this.diagnostics={runnable:P,programLog:M,vertexShader:{log:E,prefix:i},fragmentShader:{log:T,prefix:a}})}return o.deleteShader(w),o.deleteShader(S),this.getUniforms=function(){return void 0===y&&(y=new Ua(o,v)),y},this.getAttributes=function(){return void 0===b&&(b=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i),o=a.name,s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(o,v)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Za++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=S,this}var io=0,ao=function(){function t(){(0,k.Z)(this,t),this.shaderCache=new Map,this.materialCache=new Map}return(0,L.Z)(t,[{key:"update",value:function(t){var e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(t){var e,n=this.materialCache.get(t),r=(0,b.Z)(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(t),this}},{key:"getVertexShaderID",value:function(t){return this._getShaderStage(t.vertexShader).id}},{key:"getFragmentShaderID",value:function(t){return this._getShaderStage(t.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(t){var e=this.materialCache,n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}},{key:"_getShaderStage",value:function(t){var e=this.shaderCache,n=e.get(t);return void 0===n&&(n=new oo(t),e.set(t,n)),n}}]),t}(),oo=(0,L.Z)((function t(e){(0,k.Z)(this,t),this.id=io++,this.code=e,this.usedTimes=0}));function so(t,e,n,r,i,a,o){var s=new _n,l=new ao,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.vertexTextures,A=i.precision,d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(t){return 0===t?"uv":"uv".concat(t)}return{getParameters:function(a,s,u,m,v){var g=m.fog,y=v.geometry,b=a.isMeshStandardMaterial?m.environment:null,_=(a.isMeshStandardMaterial?n:e).get(a.envMap||b),x=_&&_.mapping===nt?_.image.height:null,w=d[a.type];null!==a.precision&&(A=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",A,"instead.");var S,M,E,T,P=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,k=void 0!==P?P.length:0,L=0;if(void 0!==y.morphAttributes.position&&(L=1),void 0!==y.morphAttributes.normal&&(L=2),void 0!==y.morphAttributes.color&&(L=3),w){var C=oi[w];S=C.vertexShader,M=C.fragmentShader}else S=a.vertexShader,M=a.fragmentShader,l.update(a),E=l.getVertexShaderID(a),T=l.getFragmentShaderID(a);var R=t.getRenderTarget(),N=!0===v.isInstancedMesh,O=!!a.map,I=!!a.matcap,D=!!_,B=!!a.aoMap,q=!!a.lightMap,F=!!a.bumpMap,U=!!a.normalMap,Z=!!a.displacementMap,j=!!a.emissiveMap,H=!!a.metalnessMap,G=!!a.roughnessMap,W=a.anisotropy>0,X=a.clearcoat>0,Y=a.iridescence>0,Q=a.sheen>0,K=a.transmission>0,J=W&&!!a.anisotropyMap,$=X&&!!a.clearcoatMap,tt=X&&!!a.clearcoatNormalMap,et=X&&!!a.clearcoatRoughnessMap,rt=Y&&!!a.iridescenceMap,it=Y&&!!a.iridescenceThicknessMap,at=Q&&!!a.sheenColorMap,ot=Q&&!!a.sheenRoughnessMap,st=!!a.specularMap,lt=!!a.specularColorMap,ut=!!a.specularIntensityMap,ct=K&&!!a.transmissionMap,ht=K&&!!a.thicknessMap,ft=!!a.gradientMap,At=!!a.alphaMap,dt=a.alphaTest>0,pt=!!a.alphaHash,mt=!!a.extensions,vt=!!y.attributes.uv1,gt=!!y.attributes.uv2,yt=!!y.attributes.uv3;return{isWebGL2:c,shaderID:w,shaderType:a.type,shaderName:a.name,vertexShader:S,fragmentShader:M,defines:a.defines,customVertexShaderID:E,customFragmentShaderID:T,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:A,instancing:N,instancingColor:N&&null!==v.instanceColor,supportsVertexTextures:f,outputColorSpace:null===R?t.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:qt,map:O,matcap:I,envMap:D,envMapMode:D&&_.mapping,envMapCubeUVHeight:x,aoMap:B,lightMap:q,bumpMap:F,normalMap:U,displacementMap:f&&Z,emissiveMap:j,normalMapObjectSpace:U&&1===a.normalMapType,normalMapTangentSpace:U&&0===a.normalMapType,metalnessMap:H,roughnessMap:G,anisotropy:W,anisotropyMap:J,clearcoat:X,clearcoatMap:$,clearcoatNormalMap:tt,clearcoatRoughnessMap:et,iridescence:Y,iridescenceMap:rt,iridescenceThicknessMap:it,sheen:Q,sheenColorMap:at,sheenRoughnessMap:ot,specularMap:st,specularColorMap:lt,specularIntensityMap:ut,transmission:K,transmissionMap:ct,thicknessMap:ht,gradientMap:ft,opaque:!1===a.transparent&&1===a.blending,alphaMap:At,alphaTest:dt,alphaHash:pt,combine:a.combine,mapUv:O&&p(a.map.channel),aoMapUv:B&&p(a.aoMap.channel),lightMapUv:q&&p(a.lightMap.channel),bumpMapUv:F&&p(a.bumpMap.channel),normalMapUv:U&&p(a.normalMap.channel),displacementMapUv:Z&&p(a.displacementMap.channel),emissiveMapUv:j&&p(a.emissiveMap.channel),metalnessMapUv:H&&p(a.metalnessMap.channel),roughnessMapUv:G&&p(a.roughnessMap.channel),anisotropyMapUv:J&&p(a.anisotropyMap.channel),clearcoatMapUv:$&&p(a.clearcoatMap.channel),clearcoatNormalMapUv:tt&&p(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:et&&p(a.clearcoatRoughnessMap.channel),iridescenceMapUv:rt&&p(a.iridescenceMap.channel),iridescenceThicknessMapUv:it&&p(a.iridescenceThicknessMap.channel),sheenColorMapUv:at&&p(a.sheenColorMap.channel),sheenRoughnessMapUv:ot&&p(a.sheenRoughnessMap.channel),specularMapUv:st&&p(a.specularMap.channel),specularColorMapUv:lt&&p(a.specularColorMap.channel),specularIntensityMapUv:ut&&p(a.specularIntensityMap.channel),transmissionMapUv:ct&&p(a.transmissionMap.channel),thicknessMapUv:ht&&p(a.thicknessMap.channel),alphaMapUv:At&&p(a.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(U||W),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUv1s:vt,vertexUv2s:gt,vertexUv3s:yt,pointsUvs:!0===v.isPoints&&!!y.attributes.uv&&(O||At),fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:k,morphTextureStride:L,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:a.toneMapped?t.toneMapping:V,useLegacyLights:t.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:a.side===z,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:mt&&!0===a.extensions.derivatives,extensionFragDepth:mt&&!0===a.extensions.fragDepth,extensionDrawBuffers:mt&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:mt&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){s.disableAll(),e.isWebGL2&&s.enable(0);e.supportsVertexTextures&&s.enable(1);e.instancing&&s.enable(2);e.instancingColor&&s.enable(3);e.matcap&&s.enable(4);e.envMap&&s.enable(5);e.normalMapObjectSpace&&s.enable(6);e.normalMapTangentSpace&&s.enable(7);e.clearcoat&&s.enable(8);e.iridescence&&s.enable(9);e.alphaTest&&s.enable(10);e.vertexColors&&s.enable(11);e.vertexAlphas&&s.enable(12);e.vertexUv1s&&s.enable(13);e.vertexUv2s&&s.enable(14);e.vertexUv3s&&s.enable(15);e.vertexTangents&&s.enable(16);e.anisotropy&&s.enable(17);t.push(s.mask),s.disableAll(),e.fog&&s.enable(0);e.useFog&&s.enable(1);e.flatShading&&s.enable(2);e.logarithmicDepthBuffer&&s.enable(3);e.skinning&&s.enable(4);e.morphTargets&&s.enable(5);e.morphNormals&&s.enable(6);e.morphColors&&s.enable(7);e.premultipliedAlpha&&s.enable(8);e.shadowMapEnabled&&s.enable(9);e.useLegacyLights&&s.enable(10);e.doubleSided&&s.enable(11);e.flipSided&&s.enable(12);e.useDepthPacking&&s.enable(13);e.dithering&&s.enable(14);e.transmission&&s.enable(15);e.sheen&&s.enable(16);e.opaque&&s.enable(17);e.pointsUvs&&s.enable(18);t.push(s.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e,n=d[t.type];if(n){var r=oi[n];e=Ur.clone(r.uniforms)}else e=t.uniforms;return e},acquireProgram:function(e,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ro(t,n,e,a),u.push(r)),r},releaseProgram:function(t){if(0===--t.usedTimes){var e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:u,dispose:function(){l.dispose()}}}function lo(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}}function uo(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function co(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ho(){var t=[],e=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),e++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){e=0,n.length=0,r.length=0,i.length=0},push:function(t,e,o,s,l,u){var c=a(t,e,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(t,e,o,s,l,u){var c=a(t,e,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=e,r=t.length;n<r;n++){var i=t[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(t,e){n.length>1&&n.sort(t||uo),r.length>1&&r.sort(e||co),i.length>1&&i.sort(e||co)}}}function fo(){var t=new WeakMap;return{get:function(e,n){var r,i=t.get(e);return void 0===i?(r=new ho,t.set(e,[r])):n>=i.length?(r=new ho,i.push(r)):r=i[n],r},dispose:function(){t=new WeakMap}}}function Ao(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Ne,color:new tr};break;case"SpotLight":n={position:new Ne,direction:new Ne,color:new tr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ne,color:new tr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ne,skyColor:new tr,groundColor:new tr};break;case"RectAreaLight":n={color:new tr,position:new Ne,halfWidth:new Ne,halfHeight:new Ne}}return t[e.id]=n,n}}}var po=0;function mo(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function vo(t,e){for(var n=new Ao,r=function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Ne);var o=new Ne,s=new cn,l=new cn;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0;a.sort(mo);for(var _=!0===o?Math.PI:1,x=0,w=a.length;x<w;x++){var S=a[x],M=S.color,E=S.intensity,T=S.distance,P=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)s+=M.r*E*_,l+=M.g*E*_,u+=M.b*E*_;else if(S.isLightProbe)for(var k=0;k<9;k++)i.probe[k].addScaledVector(S.sh.coefficients[k],E);else if(S.isDirectionalLight){var L=n.get(S);if(L.color.copy(S.color).multiplyScalar(S.intensity*_),S.castShadow){var C=S.shadow,R=r.get(S);R.shadowBias=C.bias,R.shadowNormalBias=C.normalBias,R.shadowRadius=C.radius,R.shadowMapSize=C.mapSize,i.directionalShadow[h]=R,i.directionalShadowMap[h]=P,i.directionalShadowMatrix[h]=S.shadow.matrix,m++}i.directional[h]=L,h++}else if(S.isSpotLight){var N=n.get(S);N.position.setFromMatrixPosition(S.matrixWorld),N.color.copy(M).multiplyScalar(E*_),N.distance=T,N.coneCos=Math.cos(S.angle),N.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),N.decay=S.decay,i.spot[A]=N;var O=S.shadow;if(S.map&&(i.spotLightMap[y]=S.map,y++,O.updateMatrices(S),S.castShadow&&b++),i.spotLightMatrix[A]=O.matrix,S.castShadow){var I=r.get(S);I.shadowBias=O.bias,I.shadowNormalBias=O.normalBias,I.shadowRadius=O.radius,I.shadowMapSize=O.mapSize,i.spotShadow[A]=I,i.spotShadowMap[A]=P,g++}A++}else if(S.isRectAreaLight){var D=n.get(S);D.color.copy(M).multiplyScalar(E),D.halfWidth.set(.5*S.width,0,0),D.halfHeight.set(0,.5*S.height,0),i.rectArea[d]=D,d++}else if(S.isPointLight){var B=n.get(S);if(B.color.copy(S.color).multiplyScalar(S.intensity*_),B.distance=S.distance,B.decay=S.decay,S.castShadow){var q=S.shadow,F=r.get(S);F.shadowBias=q.bias,F.shadowNormalBias=q.normalBias,F.shadowRadius=q.radius,F.shadowMapSize=q.mapSize,F.shadowCameraNear=q.camera.near,F.shadowCameraFar=q.camera.far,i.pointShadow[f]=F,i.pointShadowMap[f]=P,i.pointShadowMatrix[f]=S.shadow.matrix,v++}i.point[f]=B,f++}else if(S.isHemisphereLight){var U=n.get(S);U.skyColor.copy(S.color).multiplyScalar(E*_),U.groundColor.copy(S.groundColor).multiplyScalar(E*_),i.hemi[p]=U,p++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=ai.LTC_FLOAT_1,i.rectAreaLTC2=ai.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ai.LTC_HALF_1,i.rectAreaLTC2=ai.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var z=i.hash;z.directionalLength===h&&z.pointLength===f&&z.spotLength===A&&z.rectAreaLength===d&&z.hemiLength===p&&z.numDirectionalShadows===m&&z.numPointShadows===v&&z.numSpotShadows===g&&z.numSpotMaps===y||(i.directional.length=h,i.spot.length=A,i.rectArea.length=d,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=g+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,z.directionalLength=h,z.pointLength=f,z.spotLength=A,z.rectAreaLength=d,z.hemiLength=p,z.numDirectionalShadows=m,z.numPointShadows=v,z.numSpotShadows=g,z.numSpotMaps=y,i.version=po++)},setupView:function(t,e){for(var n=0,r=0,a=0,u=0,c=0,h=e.matrixWorldInverse,f=0,A=t.length;f<A;f++){var d=t[f];if(d.isDirectionalLight){var p=i.directional[n];p.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),p.direction.sub(o),p.direction.transformDirection(h),n++}else if(d.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(d.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(d.isRectAreaLight){var v=i.rectArea[u];v.position.setFromMatrixPosition(d.matrixWorld),v.position.applyMatrix4(h),l.identity(),s.copy(d.matrixWorld),s.premultiply(h),l.extractRotation(s),v.halfWidth.set(.5*d.width,0,0),v.halfHeight.set(0,.5*d.height,0),v.halfWidth.applyMatrix4(l),v.halfHeight.applyMatrix4(l),u++}else if(d.isPointLight){var g=i.point[r];g.position.setFromMatrixPosition(d.matrixWorld),g.position.applyMatrix4(h),r++}else if(d.isHemisphereLight){var y=i.hemi[c];y.direction.setFromMatrixPosition(d.matrixWorld),y.direction.transformDirection(h),c++}}},state:i}}function go(t,e){var n=new vo(t,e),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(t){n.setup(r,t)},setupLightsView:function(t){n.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){i.push(t)}}}function yo(t,e){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new go(t,e),n.set(r,[i])):a>=o.length?(i=new go(t,e),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var bo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),n}(Yn),_o=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),n}(Yn);function xo(t,e,n){var r,i=new ti,a=new se,o=new se,s=new Pe,l=new bo({depthPacking:3201}),u=new _o,c={},h=n.maxTextureSize,f=(r={},(0,T.Z)(r,U,z),(0,T.Z)(r,z,U),(0,T.Z)(r,2,2),r),A=new zr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new se},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=A.clone();d.defines.HORIZONTAL_PASS=1;var p=new mr;p.setAttribute("position",new ar(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new Or(p,A),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=B;var g=this.type;function y(n,r){var i=e.update(m);A.defines.VSM_SAMPLES!==n.blurSamples&&(A.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,A.needsUpdate=!0,d.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new ke(a.x,a.y)),A.uniforms.shadow_pass.value=n.map.texture,A.uniforms.resolution.value=n.mapSize,A.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,i,A,m,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,i,d,m,null)}function b(e,n,r,i){var a=null,o=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?u:l,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,h=n.uuid,A=c[s];void 0===A&&(A={},c[s]=A);var d=A[h];void 0===d&&(d=a.clone(),A[h]=d),a=d}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===F?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(t.properties.get(a).light=r);return a}function _(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===F)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,f=c.length;h<f;h++){var A=c[h],d=u[A.materialIndex];if(d&&d.visible){var p=b(n,d,o,s);t.renderBufferDirect(a,null,l,p,n,A)}}else if(u.visible){var m=b(n,u,o,s);t.renderBufferDirect(a,null,l,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)_(v[g],r,a,o,s)}}this.render=function(e,n,r){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),c=t.getActiveMipmapLevel(),f=t.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var A=g!==F&&this.type===F,d=g===F&&this.type!==F,p=0,m=e.length;p<m;p++){var b=e[p],x=b.shadow;if(void 0!==x){if(!1!==x.autoUpdate||!1!==x.needsUpdate){a.copy(x.mapSize);var w=x.getFrameExtents();if(a.multiply(w),o.copy(x.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/w.x),a.x=o.x*w.x,x.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/w.y),a.y=o.y*w.y,x.mapSize.y=o.y)),null===x.map||!0===A||!0===d){var S=this.type!==F?{minFilter:ot,magFilter:ot}:{};null!==x.map&&x.map.dispose(),x.map=new ke(a.x,a.y,S),x.map.texture.name=b.name+".shadowMap",x.camera.updateProjectionMatrix()}t.setRenderTarget(x.map),t.clear();for(var M=x.getViewportCount(),E=0;E<M;E++){var T=x.getViewport(E);s.set(o.x*T.x,o.y*T.y,o.x*T.z,o.y*T.w),f.viewport(s),x.updateMatrices(b,E),i=x.getFrustum(),_(n,r,x.camera,b,this.type)}!0!==x.isPointLightShadow&&this.type===F&&y(x,r),x.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",b,"has no shadow.")}g=this.type,v.needsUpdate=!1,t.setRenderTarget(l,u,c)}}}function wo(t,e,n){var r,i,a=n.isWebGL2;var o=new function(){var e=!1,n=new Pe,r=null,i=new Pe(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?G(t.DEPTH_TEST):V(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},l=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){e||(n?G(t.STENCIL_TEST):V(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&l===r||(t.stencilOp(e,n,r),o=e,s=n,l=r)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},f={},A=new WeakMap,d=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,w=null,S=!1,M=null,E=null,P=null,k=null,L=null,C=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,N=0,O=t.getParameter(t.VERSION);-1!==O.indexOf("WebGL")?(N=parseFloat(/^WebGL (\d)/.exec(O)[1]),R=N>=1):-1!==O.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),R=N>=2);var I=null,D={},B=t.getParameter(t.SCISSOR_BOX),q=t.getParameter(t.VIEWPORT),F=(new Pe).fromArray(B),U=(new Pe).fromArray(q);function j(e,n,r,i){var o=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var l=0;l<r;l++)!a||e!==t.TEXTURE_3D&&e!==t.TEXTURE_2D_ARRAY?t.texImage2D(n+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o):t.texImage3D(n,0,t.RGBA,1,1,i,0,t.RGBA,t.UNSIGNED_BYTE,o);return s}var H={};function G(e){!0!==h[e]&&(t.enable(e),h[e]=!0)}function V(e){!1!==h[e]&&(t.disable(e),h[e]=!1)}H[t.TEXTURE_2D]=j(t.TEXTURE_2D,t.TEXTURE_2D,1),H[t.TEXTURE_CUBE_MAP]=j(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(H[t.TEXTURE_2D_ARRAY]=j(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),H[t.TEXTURE_3D]=j(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),G(t.DEPTH_TEST),s.setFunc(3),K(!1),J(1),G(t.CULL_FACE),Q(0);var W=(r={},(0,T.Z)(r,Z,t.FUNC_ADD),(0,T.Z)(r,101,t.FUNC_SUBTRACT),(0,T.Z)(r,102,t.FUNC_REVERSE_SUBTRACT),r);if(a)W[103]=t.MIN,W[104]=t.MAX;else{var X=e.get("EXT_blend_minmax");null!==X&&(W[103]=X.MIN_EXT,W[104]=X.MAX_EXT)}var Y=(i={},(0,T.Z)(i,200,t.ZERO),(0,T.Z)(i,201,t.ONE),(0,T.Z)(i,202,t.SRC_COLOR),(0,T.Z)(i,204,t.SRC_ALPHA),(0,T.Z)(i,210,t.SRC_ALPHA_SATURATE),(0,T.Z)(i,208,t.DST_COLOR),(0,T.Z)(i,206,t.DST_ALPHA),(0,T.Z)(i,203,t.ONE_MINUS_SRC_COLOR),(0,T.Z)(i,205,t.ONE_MINUS_SRC_ALPHA),(0,T.Z)(i,209,t.ONE_MINUS_DST_COLOR),(0,T.Z)(i,207,t.ONE_MINUS_DST_ALPHA),i);function Q(e,n,r,i,a,o,s,l){if(0!==e){if(!1===m&&(G(t.BLEND),m=!0),5===e)a=a||n,o=o||r,s=s||i,n===g&&a===_||(t.blendEquationSeparate(W[n],W[a]),g=n,_=a),r===y&&i===b&&o===x&&s===w||(t.blendFuncSeparate(Y[r],Y[i],Y[o],Y[s]),y=r,b=i,x=o,w=s),v=e,S=!1;else if(e!==v||l!==S){if(g===Z&&_===Z||(t.blendEquation(t.FUNC_ADD),g=Z,_=Z),l)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}y=null,b=null,x=null,w=null,v=e,S=l}}else!0===m&&(V(t.BLEND),m=!1)}function K(e){M!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),M=e)}function J(e){0!==e?(G(t.CULL_FACE),e!==E&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):V(t.CULL_FACE),E=e}function $(e,n,r){e?(G(t.POLYGON_OFFSET_FILL),k===n&&L===r||(t.polygonOffset(n,r),k=n,L=r)):V(t.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:s,stencil:l},enable:G,disable:V,bindFramebuffer:function(e,n){return f[e]!==n&&(t.bindFramebuffer(e,n),f[e]=n,a&&(e===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=d,o=!1;if(r)if(void 0===(a=A.get(i))&&(a=[],A.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==t.COLOR_ATTACHMENT0){for(var l=0,u=s.length;l<u;l++)a[l]=t.COLOR_ATTACHMENT0+l;a.length=s.length,o=!0}}else a[0]!==t.COLOR_ATTACHMENT0&&(a[0]=t.COLOR_ATTACHMENT0,o=!0);else a[0]!==t.BACK&&(a[0]=t.BACK,o=!0);o&&(n.isWebGL2?t.drawBuffers(a):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(e){return p!==e&&(t.useProgram(e),p=e,!0)},setBlending:Q,setMaterial:function(e,n){2===e.side?V(t.CULL_FACE):G(t.CULL_FACE);var r=e.side===z;n&&(r=!r),K(r),1===e.blending&&!1===e.transparent?Q(0):Q(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var i=e.stencilWrite;l.setTest(i),i&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),$(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?G(t.SAMPLE_ALPHA_TO_COVERAGE):V(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:K,setCullFace:J,setLineWidth:function(e){e!==P&&(R&&t.lineWidth(e),P=e)},setPolygonOffset:$,setScissorTest:function(e){e?G(t.SCISSOR_TEST):V(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+C-1),I!==e&&(t.activeTexture(e),I=e)},bindTexture:function(e,n,r){void 0===r&&(r=null===I?t.TEXTURE0+C-1:I);var i=D[r];void 0===i&&(i={type:void 0,texture:void 0},D[r]=i),i.type===e&&i.texture===n||(I!==r&&(t.activeTexture(r),I=r),t.bindTexture(e,n||H[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=D[I];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(e,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(e);void 0===i&&(i=t.getUniformBlockIndex(n,e.name),r.set(e,i))},uniformBlockBinding:function(e,n){var r=c.get(n).get(e);u.get(n)!==r&&(t.uniformBlockBinding(n,r,e.__bindingPointIndex),u.set(n,r))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===F.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),F.copy(e))},viewport:function(e){!1===U.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),U.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),!0===a&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},I=null,D={},f={},A=new WeakMap,d=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,w=null,S=!1,M=null,E=null,P=null,k=null,L=null,F.set(0,0,t.canvas.width,t.canvas.height),U.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),l.reset()}}}function So(t,e,n,r,i,a,o){var s,l,u,c,h=i.isWebGL2,f=i.maxTextures,A=i.maxCubemapSize,d=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function _(t,e){return b?new OffscreenCanvas(t,e):he("canvas")}function x(t,e,n,r){var i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?re:Math.floor,o=a(i*t.width),s=a(i*t.height);void 0===c&&(c=_(o,s));var l=n?_(o,s):c;return l.width=o,l.height=s,l.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function w(t){return ee(t.width)&&ee(t.height)}function S(t,e){return t.generateMipmaps&&e&&t.minFilter!==ot&&t.minFilter!==ut}function M(e){t.generateMipmap(e)}function E(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===h)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===t.RED&&(i===t.FLOAT&&(s=t.R32F),i===t.HALF_FLOAT&&(s=t.R16F),i===t.UNSIGNED_BYTE&&(s=t.R8)),r===t.RG&&(i===t.FLOAT&&(s=t.RG32F),i===t.HALF_FLOAT&&(s=t.RG16F),i===t.UNSIGNED_BYTE&&(s=t.RG8)),r===t.RGBA&&(i===t.FLOAT&&(s=t.RGBA32F),i===t.HALF_FLOAT&&(s=t.RGBA16F),i===t.UNSIGNED_BYTE&&(s=a===Bt&&!1===o?t.SRGB8_ALPHA8:t.RGBA8),i===t.UNSIGNED_SHORT_4_4_4_4&&(s=t.RGBA4),i===t.UNSIGNED_SHORT_5_5_5_1&&(s=t.RGB5_A1)),s!==t.R16F&&s!==t.R32F&&s!==t.RG16F&&s!==t.RG32F&&s!==t.RGBA16F&&s!==t.RGBA32F||e.get("EXT_color_buffer_float"),s}function P(t,e,n){return!0===S(t,n)||t.isFramebufferTexture&&t.minFilter!==ot&&t.minFilter!==ut?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function k(e){return e===ot||e===st||e===lt?t.NEAREST:t.LINEAR}function L(t){var e=t.target;e.removeEventListener("dispose",L),function(t){var e=r.get(t);if(void 0===e.__webglInit)return;var n=t.source,i=y.get(n);if(i){var a=i[e.__cacheKey];a.usedTimes--,0===a.usedTimes&&R(t),0===Object.keys(i).length&&y.delete(n)}r.remove(t)}(e),e.isVideoTexture&&g.delete(e)}function C(e){var n=e.target;n.removeEventListener("dispose",C),function(e){var n=e.texture,i=r.get(e),a=r.get(n);void 0!==a.__webglTexture&&(t.deleteTexture(a.__webglTexture),o.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)t.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&t.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=r.get(n[u]);h.__webglTexture&&(t.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(e)}(n)}function R(e){var n=r.get(e);t.deleteTexture(n.__webglTexture);var i=e.source;delete y.get(i)[n.__cacheKey],o.memory.textures--}var N=0;function O(e,i){var a=r.get(e);if(e.isVideoTexture&&function(t){var e=o.render.frame;g.get(t)!==e&&(g.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&a.__version!==e.version){var s=e.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void U(a,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(t.TEXTURE_2D,a.__webglTexture,t.TEXTURE0+i)}var I=(s={},(0,T.Z)(s,rt,t.REPEAT),(0,T.Z)(s,it,t.CLAMP_TO_EDGE),(0,T.Z)(s,at,t.MIRRORED_REPEAT),s),D=(l={},(0,T.Z)(l,ot,t.NEAREST),(0,T.Z)(l,st,t.NEAREST_MIPMAP_NEAREST),(0,T.Z)(l,lt,t.NEAREST_MIPMAP_LINEAR),(0,T.Z)(l,ut,t.LINEAR),(0,T.Z)(l,1007,t.LINEAR_MIPMAP_NEAREST),(0,T.Z)(l,ct,t.LINEAR_MIPMAP_LINEAR),l),B=(u={},(0,T.Z)(u,512,t.NEVER),(0,T.Z)(u,519,t.ALWAYS),(0,T.Z)(u,513,t.LESS),(0,T.Z)(u,515,t.LEQUAL),(0,T.Z)(u,514,t.EQUAL),(0,T.Z)(u,518,t.GEQUAL),(0,T.Z)(u,516,t.GREATER),(0,T.Z)(u,517,t.NOTEQUAL),u);function q(n,a,o){if(o?(t.texParameteri(n,t.TEXTURE_WRAP_S,I[a.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,I[a.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,I[a.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,D[a.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,D[a.minFilter])):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),a.wrapS===it&&a.wrapT===it||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,t.TEXTURE_MAG_FILTER,k(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,k(a.minFilter)),a.minFilter!==ot&&a.minFilter!==ut&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,B[a.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){var s=e.get("EXT_texture_filter_anisotropic");if(a.magFilter===ot)return;if(a.minFilter!==lt&&a.minFilter!==ct)return;if(a.type===pt&&!1===e.has("OES_texture_float_linear"))return;if(!1===h&&a.type===mt&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function F(e,n){var r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",L));var i=n.source,a=y.get(i);void 0===a&&(a={},y.set(i,a));var s=function(t){var e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(n);if(s!==e.__cacheKey){void 0===a[s]&&(a[s]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[e.__cacheKey];void 0!==l&&(a[e.__cacheKey].usedTimes--,0===l.usedTimes&&R(n)),e.__cacheKey=s,e.__webglTexture=a[s].texture}return r}function U(e,i,o){var s=t.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=t.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=t.TEXTURE_3D);var l=F(e,i),u=i.source;n.bindTexture(s,e.__webglTexture,t.TEXTURE0+o);var c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(t.TEXTURE0+o),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);var f,A=function(t){return!h&&(t.wrapS!==it||t.wrapT!==it||t.minFilter!==ot&&t.minFilter!==ut)}(i)&&!1===w(i.image),p=x(i.image,A,!1,d),m=w(p=V(i,p))||h,v=a.convert(i.format,i.colorSpace),g=a.convert(i.type),y=E(i.internalFormat,v,g,i.colorSpace);q(s,i,m);var b=i.mipmaps,_=h&&!0!==i.isVideoTexture,T=void 0===c.__version||!0===l,k=P(i,p,m);if(i.isDepthTexture)y=t.DEPTH_COMPONENT,h?y=i.type===pt?t.DEPTH_COMPONENT32F:i.type===dt?t.DEPTH_COMPONENT24:i.type===vt?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT16:i.type===pt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===yt&&y===t.DEPTH_COMPONENT&&i.type!==ft&&i.type!==dt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=dt,g=a.convert(i.type)),i.format===bt&&y===t.DEPTH_COMPONENT&&(y=t.DEPTH_STENCIL,i.type!==vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=vt,g=a.convert(i.type))),T&&(_?n.texStorage2D(t.TEXTURE_2D,1,y,p.width,p.height):n.texImage2D(t.TEXTURE_2D,0,y,p.width,p.height,0,v,g,null));else if(i.isDataTexture)if(b.length>0&&m){_&&T&&n.texStorage2D(t.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var L=0,C=b.length;L<C;L++)f=b[L],_?n.texSubImage2D(t.TEXTURE_2D,L,0,0,f.width,f.height,v,g,f.data):n.texImage2D(t.TEXTURE_2D,L,y,f.width,f.height,0,v,g,f.data);i.generateMipmaps=!1}else _?(T&&n.texStorage2D(t.TEXTURE_2D,k,y,p.width,p.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,p.width,p.height,v,g,p.data)):n.texImage2D(t.TEXTURE_2D,0,y,p.width,p.height,0,v,g,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){_&&T&&n.texStorage3D(t.TEXTURE_2D_ARRAY,k,y,b[0].width,b[0].height,p.depth);for(var R=0,N=b.length;R<N;R++)f=b[R],i.format!==gt?null!==v?_?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,R,0,0,0,f.width,f.height,p.depth,v,f.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,R,y,f.width,f.height,p.depth,0,f.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage3D(t.TEXTURE_2D_ARRAY,R,0,0,0,f.width,f.height,p.depth,v,g,f.data):n.texImage3D(t.TEXTURE_2D_ARRAY,R,y,f.width,f.height,p.depth,0,v,g,f.data)}else{_&&T&&n.texStorage2D(t.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var O=0,I=b.length;O<I;O++)f=b[O],i.format!==gt?null!==v?_?n.compressedTexSubImage2D(t.TEXTURE_2D,O,0,0,f.width,f.height,v,f.data):n.compressedTexImage2D(t.TEXTURE_2D,O,y,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage2D(t.TEXTURE_2D,O,0,0,f.width,f.height,v,g,f.data):n.texImage2D(t.TEXTURE_2D,O,y,f.width,f.height,0,v,g,f.data)}else if(i.isDataArrayTexture)_?(T&&n.texStorage3D(t.TEXTURE_2D_ARRAY,k,y,p.width,p.height,p.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,v,g,p.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,y,p.width,p.height,p.depth,0,v,g,p.data);else if(i.isData3DTexture)_?(T&&n.texStorage3D(t.TEXTURE_3D,k,y,p.width,p.height,p.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,v,g,p.data)):n.texImage3D(t.TEXTURE_3D,0,y,p.width,p.height,p.depth,0,v,g,p.data);else if(i.isFramebufferTexture){if(T)if(_)n.texStorage2D(t.TEXTURE_2D,k,y,p.width,p.height);else for(var D=p.width,B=p.height,U=0;U<k;U++)n.texImage2D(t.TEXTURE_2D,U,y,D,B,0,v,g,null),D>>=1,B>>=1}else if(b.length>0&&m){_&&T&&n.texStorage2D(t.TEXTURE_2D,k,y,b[0].width,b[0].height);for(var z=0,Z=b.length;z<Z;z++)f=b[z],_?n.texSubImage2D(t.TEXTURE_2D,z,0,0,v,g,f):n.texImage2D(t.TEXTURE_2D,z,y,v,g,f);i.generateMipmaps=!1}else _?(T&&n.texStorage2D(t.TEXTURE_2D,k,y,p.width,p.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,v,g,p)):n.texImage2D(t.TEXTURE_2D,0,y,v,g,p);S(i,m)&&M(s),c.__version=u.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}function z(e,i,o,s,l){var u=a.convert(o.format,o.colorSpace),c=a.convert(o.type),h=E(o.internalFormat,u,c,o.colorSpace);r.get(i).__hasExternalTextures||(l===t.TEXTURE_3D||l===t.TEXTURE_2D_ARRAY?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(t.FRAMEBUFFER,e),G(i)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,H(i)):(l===t.TEXTURE_2D||l>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Z(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer){var i=t.DEPTH_COMPONENT16;if(r||G(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===pt?i=t.DEPTH_COMPONENT32F:o.type===dt&&(i=t.DEPTH_COMPONENT24));var s=H(n);G(n)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,s,i,n.width,n.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,s,i,n.width,n.height)}else t.renderbufferStorage(t.RENDERBUFFER,i,n.width,n.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)}else if(n.depthBuffer&&n.stencilBuffer){var l=H(n);r&&!1===G(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,l,t.DEPTH24_STENCIL8,n.width,n.height):G(n)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,l,t.DEPTH24_STENCIL8,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],f=a.convert(h.format,h.colorSpace),A=a.convert(h.type),d=E(h.internalFormat,f,A,h.colorSpace),p=H(n);r&&!1===G(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,p,d,n.width,n.height):G(n)?m.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,p,d,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,d,n.width,n.height)}t.bindRenderbuffer(t.RENDERBUFFER,null)}function j(e){var i=r.get(e),a=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=H(i);if(i.depthTexture.format===yt)G(i)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==bt)throw new Error("Unknown depthTexture format");G(i)?m.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,e)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=t.createRenderbuffer(),Z(i.__webglDepthbuffer[o],e,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),Z(i.__webglDepthbuffer,e,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function H(t){return Math.min(p,t.samples)}function G(t){var n=r.get(t);return h&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(t,n){var r=t.colorSpace,i=t.format,a=t.type;return!0===t.isCompressedTexture||t.format===jt||r!==qt&&r!==Dt&&(r===Bt?!1===h?!0===e.has("EXT_sRGB")&&i===gt?(t.format=jt,t.minFilter=ut,t.generateMipmaps=!1):n=xe.sRGBToLinear(n):i===gt&&a===ht||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var t=N;return t>=f&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+f),N+=1,t},this.resetTextureUnits=function(){N=0},this.setTexture2D=O,this.setTexture2DArray=function(e,i){var a=r.get(e);e.version>0&&a.__version!==e.version?U(a,e,i):n.bindTexture(t.TEXTURE_2D_ARRAY,a.__webglTexture,t.TEXTURE0+i)},this.setTexture3D=function(e,i){var a=r.get(e);e.version>0&&a.__version!==e.version?U(a,e,i):n.bindTexture(t.TEXTURE_3D,a.__webglTexture,t.TEXTURE0+i)},this.setTextureCube=function(e,i){var o=r.get(e);e.version>0&&o.__version!==e.version?function(e,i,o){if(6!==i.image.length)return;var s=F(e,i),l=i.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(t.TEXTURE0+o),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,d=[],p=0;p<6;p++)d[p]=c||f?f?i.image[p].image:i.image[p]:x(i.image[p],!1,!0,A),d[p]=V(i,d[p]);var m,v=d[0],g=w(v)||h,y=a.convert(i.format,i.colorSpace),b=a.convert(i.type),_=E(i.internalFormat,y,b,i.colorSpace),T=h&&!0!==i.isVideoTexture,k=void 0===u.__version||!0===s,L=P(i,v,g);if(q(t.TEXTURE_CUBE_MAP,i,g),c){T&&k&&n.texStorage2D(t.TEXTURE_CUBE_MAP,L,_,v.width,v.height);for(var C=0;C<6;C++){m=d[C].mipmaps;for(var R=0;R<m.length;R++){var N=m[R];i.format!==gt?null!==y?T?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+C,R,0,0,N.width,N.height,y,N.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+C,R,_,N.width,N.height,0,N.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+C,R,0,0,N.width,N.height,y,b,N.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+C,R,_,N.width,N.height,0,y,b,N.data)}}}else{m=i.mipmaps,T&&k&&(m.length>0&&L++,n.texStorage2D(t.TEXTURE_CUBE_MAP,L,_,d[0].width,d[0].height));for(var O=0;O<6;O++)if(f){T?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,0,0,d[O].width,d[O].height,y,b,d[O].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,_,d[O].width,d[O].height,0,y,b,d[O].data);for(var I=0;I<m.length;I++){var D=m[I].image[O].image;T?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,I+1,0,0,D.width,D.height,y,b,D.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,I+1,_,D.width,D.height,0,y,b,D.data)}}else{T?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,0,0,y,b,d[O]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,0,_,y,b,d[O]);for(var B=0;B<m.length;B++){var U=m[B];T?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,B+1,0,0,y,b,U.image[O]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,B+1,_,y,b,U.image[O])}}}S(i,g)&&M(t.TEXTURE_CUBE_MAP),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}e.__version=i.version}(o,e,i):n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture,t.TEXTURE0+i)},this.rebindTextures=function(e,n,i){var a=r.get(e);void 0!==n&&z(a.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),void 0!==i&&j(e)},this.setupRenderTarget=function(e){var s=e.texture,l=r.get(e),u=r.get(s);e.addEventListener("dispose",C),!0!==e.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=t.createTexture()),u.__version=s.version,o.memory.textures++);var c=!0===e.isWebGLCubeRenderTarget,f=!0===e.isWebGLMultipleRenderTargets,A=w(e)||h;if(c){l.__webglFramebuffer=[];for(var d=0;d<6;d++)l.__webglFramebuffer[d]=t.createFramebuffer()}else{if(l.__webglFramebuffer=t.createFramebuffer(),f)if(i.drawBuffers)for(var p=e.texture,m=0,v=p.length;m<v;m++){var g=r.get(p[m]);void 0===g.__webglTexture&&(g.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&e.samples>0&&!1===G(e)){var y=f?s:[s];l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,l.__webglMultisampledFramebuffer);for(var b=0;b<y.length;b++){var _=y[b];l.__webglColorRenderbuffer[b]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,l.__webglColorRenderbuffer[b]);var x=a.convert(_.format,_.colorSpace),T=a.convert(_.type),P=E(_.internalFormat,x,T,_.colorSpace,!0===e.isXRRenderTarget),k=H(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,k,P,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+b,t.RENDERBUFFER,l.__webglColorRenderbuffer[b])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),Z(l.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(c){n.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture),q(t.TEXTURE_CUBE_MAP,s,A);for(var L=0;L<6;L++)z(l.__webglFramebuffer[L],e,s,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+L);S(s,A)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var R=e.texture,N=0,O=R.length;N<O;N++){var I=R[N],D=r.get(I);n.bindTexture(t.TEXTURE_2D,D.__webglTexture),q(t.TEXTURE_2D,I,A),z(l.__webglFramebuffer,e,I,t.COLOR_ATTACHMENT0+N,t.TEXTURE_2D),S(I,A)&&M(t.TEXTURE_2D)}n.unbindTexture()}else{var B=t.TEXTURE_2D;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(h?B=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(B,u.__webglTexture),q(B,s,A),z(l.__webglFramebuffer,e,s,t.COLOR_ATTACHMENT0,B),S(s,A)&&M(B),n.unbindTexture()}e.depthBuffer&&j(e)},this.updateRenderTargetMipmap=function(e){for(var i=w(e)||h,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,s=a.length;o<s;o++){var l=a[o];if(S(l,i)){var u=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,c=r.get(l).__webglTexture;n.bindTexture(u,c),M(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(h&&e.samples>0&&!1===G(e)){var i=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=e.width,o=e.height,s=t.COLOR_BUFFER_BIT,l=[],u=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=r.get(e),f=!0===e.isWebGLMultipleRenderTargets;if(f)for(var A=0;A<i.length;A++)n.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+A,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,c.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+A,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var d=0;d<i.length;d++){l.push(t.COLOR_ATTACHMENT0+d),e.depthBuffer&&l.push(u);var p=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===p&&(e.depthBuffer&&(s|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&(s|=t.STENCIL_BUFFER_BIT)),f&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,c.__webglColorRenderbuffer[d]),!0===p&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[u]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[u])),f){var m=r.get(i[d]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,m,0)}t.blitFramebuffer(0,0,a,o,0,0,a,o,s,t.NEAREST),v&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),f)for(var g=0;g<i.length;g++){n.bindFramebuffer(t.FRAMEBUFFER,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+g,t.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var y=r.get(i[g]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,c.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+g,t.TEXTURE_2D,y,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=z,this.useMultisampledRTT=G}function Mo(t,e,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;if(n===ht)return t.UNSIGNED_BYTE;if(1017===n)return t.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return t.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return t.BYTE;if(1011===n)return t.SHORT;if(n===ft)return t.UNSIGNED_SHORT;if(n===At)return t.INT;if(n===dt)return t.UNSIGNED_INT;if(n===pt)return t.FLOAT;if(n===mt)return r?t.HALF_FLOAT:null!==(i=e.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return t.ALPHA;if(n===gt)return t.RGBA;if(1024===n)return t.LUMINANCE;if(1025===n)return t.LUMINANCE_ALPHA;if(n===yt)return t.DEPTH_COMPONENT;if(n===bt)return t.DEPTH_STENCIL;if(n===jt)return null!==(i=e.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return t.RED;if(1029===n)return t.RED_INTEGER;if(1030===n)return t.RG;if(1031===n)return t.RG_INTEGER;if(1033===n)return t.RGBA_INTEGER;if(n===_t||n===xt||n===wt||n===St)if(a===Bt){if(null===(i=e.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===_t)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===xt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===wt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===St)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=e.get("WEBGL_compressed_texture_s3tc")))return null;if(n===_t)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===xt)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===wt)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===St)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=e.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=e.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return a===Bt?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=e.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Mt){if(null===(i=e.get("EXT_texture_compression_bptc")))return null;if(n===Mt)return a===Bt?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=e.get("EXT_texture_compression_rgtc")))return null;if(n===Mt)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===vt?r?t.UNSIGNED_INT_24_8:null!==(i=e.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==t[n]?t[n]:null}}}var Eo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,k.Z)(this,n),(t=e.call(this)).isArrayCamera=!0,t.cameras=r,t}return(0,L.Z)(n)}(jr),To=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isGroup=!0,t.type="Group",t}return(0,L.Z)(n)}(In),Po={type:"move"},ko=function(){function t(){(0,k.Z)(this,t),this._targetRay=null,this._grip=null,this._hand=null}return(0,L.Z)(t,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new To,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new To,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ne),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new To,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ne),this._grip}},{key:"dispatchEvent",value:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}},{key:"connect",value:function(t){if(t&&t.hand){var e=this._hand;if(e){var n,r=(0,b.Z)(t.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(e,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:t}),this}},{key:"disconnect",value:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(t,e,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){a=!0;var u,c=(0,b.Z)(t.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,f=e.getJointPose(h,n),A=this._getHandJoint(l,h);null!==f&&(A.matrix.fromArray(f.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=f.radius),A.visible=null!==f}}catch(v){c.e(v)}finally{c.f()}var d=l.joints["index-finger-tip"],p=l.joints["thumb-tip"],m=d.position.distanceTo(p.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&null!==(i=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=e.getPose(t.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Po)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(t,e){if(void 0===t.joints[e.jointName]){var n=new To;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}]),t}(),Lo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a,o,s,l,u,c,h){var f;if((0,k.Z)(this,n),(h=void 0!==h?h:yt)!==yt&&h!==bt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===yt&&(i=dt),void 0===i&&h===bt&&(i=vt),(f=e.call(this,null,a,o,s,l,u,h,i,c)).isDepthTexture=!0,f.image={width:t,height:r},f.magFilter=void 0!==l?l:ot,f.minFilter=void 0!==u?u:ot,f.flipY=!1,f.generateMipmaps=!1,f.compareFunction=null,f}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.compareFunction=t.compareFunction,this}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}]),n}(Te),Co=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;(0,k.Z)(this,n),i=e.call(this);var a=(0,S.Z)(i),o=null,s=1,l=null,u="local-floor",c=1,h=null,f=null,A=null,d=null,p=null,m=null,v=r.getContextAttributes(),g=null,b=null,_=[],x=[],w=new jr;w.layers.enable(1),w.viewport=new Pe;var M=new jr;M.layers.enable(2),M.viewport=new Pe;var E=[w,M],T=new Eo;T.layers.enable(1),T.layers.enable(2);var L=null,C=null;function R(t){var e=x.indexOf(t.inputSource);if(-1!==e){var n=_[e];void 0!==n&&(n.update(t.inputSource,t.frame,h||l),n.dispatchEvent({type:t.type,data:t.inputSource}))}}function N(){o.removeEventListener("select",R),o.removeEventListener("selectstart",R),o.removeEventListener("selectend",R),o.removeEventListener("squeeze",R),o.removeEventListener("squeezestart",R),o.removeEventListener("squeezeend",R),o.removeEventListener("end",N),o.removeEventListener("inputsourceschange",O);for(var e=0;e<_.length;e++){var n=x[e];null!==n&&(x[e]=null,_[e].disconnect(n))}L=null,C=null,t.setRenderTarget(g),p=null,d=null,A=null,o=null,b=null,F.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function O(t){for(var e=0;e<t.removed.length;e++){var n=t.removed[e],r=x.indexOf(n);r>=0&&(x[r]=null,_[r].disconnect(n))}for(var i=0;i<t.added.length;i++){var a=t.added[i],o=x.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=x.length){x.push(a),o=s;break}if(null===x[s]){x[s]=a,o=s;break}}if(-1===o)break}var l=_[o];l&&l.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(t){var e=_[t];return void 0===e&&(e=new ko,_[t]=e),e.getTargetRaySpace()},i.getControllerGrip=function(t){var e=_[t];return void 0===e&&(e=new ko,_[t]=e),e.getGripSpace()},i.getHand=function(t){var e=_[t];return void 0===e&&(e=new ko,_[t]=e),e.getHandSpace()},i.setFramebufferScaleFactor=function(t){s=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(t){u=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return h||l},i.setReferenceSpace=function(t){h=t},i.getBaseLayer=function(){return null!==d?d:p},i.getBinding=function(){return A},i.getFrame=function(){return m},i.getSession=function(){return o},i.setSession=function(){var e=(0,y.Z)((0,P.Z)().mark((function e(n){var i,f,m,y,_;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(o=n)){e.next=25;break}if(g=t.getRenderTarget(),o.addEventListener("select",R),o.addEventListener("selectstart",R),o.addEventListener("selectend",R),o.addEventListener("squeeze",R),o.addEventListener("squeezestart",R),o.addEventListener("squeezeend",R),o.addEventListener("end",N),o.addEventListener("inputsourceschange",O),!0===v.xrCompatible){e.next=14;break}return e.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===t.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s},p=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:p}),b=new ke(p.framebufferWidth,p.framebufferHeight,{format:gt,type:ht,colorSpace:t.outputColorSpace,stencilBuffer:v.stencil})):(f=null,m=null,y=null,v.depth&&(y=v.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,f=v.stencil?bt:yt,m=v.stencil?vt:dt),_={colorFormat:r.RGBA8,depthFormat:y,scaleFactor:s},A=new XRWebGLBinding(o,r),d=A.createProjectionLayer(_),o.updateRenderState({layers:[d]}),b=new ke(d.textureWidth,d.textureHeight,{format:gt,type:ht,depthTexture:new Lo(d.textureWidth,d.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,f),stencilBuffer:v.stencil,colorSpace:t.outputColorSpace,samples:v.antialias?4:0}),t.properties.get(b).__ignoreDepthValues=d.ignoreDepthValues),b.isXRRenderTarget=!0,this.setFoveation(c),h=null,e.next=20,o.requestReferenceSpace(u);case 20:l=e.sent,F.setContext(o),F.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};var I=new Ne,D=new Ne;function B(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}i.updateCamera=function(t){if(null!==o){T.near=M.near=w.near=t.near,T.far=M.far=w.far=t.far,L===T.near&&C===T.far||(o.updateRenderState({depthNear:T.near,depthFar:T.far}),L=T.near,C=T.far);var e=t.parent,n=T.cameras;B(T,e);for(var r=0;r<n.length;r++)B(n[r],e);2===n.length?function(t,e,n){I.setFromMatrixPosition(e.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);var r=I.distanceTo(D),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],f=o*c,A=o*h,d=r/(-c+h),p=d*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(p),t.translateZ(d),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var m=o+d,v=s+d,g=f-p,y=A+(r-p),b=l*s/v*m,_=u*s/v*m;t.projectionMatrix.makePerspective(g,y,b,_,m,v),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}(T,w,M):T.projectionMatrix.copy(w.projectionMatrix),function(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld));t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0);for(var r=t.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*Qt*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,T,e)}},i.getCamera=function(){return T},i.getFoveation=function(){if(null!==d||null!==p)return c},i.setFoveation=function(t){c=t,null!==d&&(d.fixedFoveation=t),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=t)};var q=null;var F=new ei;return F.setAnimationLoop((function(e,n){if(f=n.getViewerPose(h||l),m=n,null!==f){var r=f.views;null!==p&&(t.setRenderTargetFramebuffer(b,p.framebuffer),t.setRenderTarget(b));var i=!1;r.length!==T.cameras.length&&(T.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],u=null;if(null!==p)u=p.getViewport(s);else{var c=A.getViewSubImage(d,s);u=c.viewport,0===o&&(t.setRenderTargetTextures(b,c.colorTexture,d.ignoreDepthValues?void 0:c.depthStencilTexture),t.setRenderTarget(b))}var v=E[o];void 0===v&&((v=new jr).layers.enable(o),v.viewport=new Pe,E[o]=v),v.matrix.fromArray(s.transform.matrix),v.matrix.decompose(v.position,v.quaternion,v.scale),v.projectionMatrix.fromArray(s.projectionMatrix),v.projectionMatrixInverse.copy(v.projectionMatrix).invert(),v.viewport.set(u.x,u.y,u.width,u.height),0===o&&(T.matrix.copy(v.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===i&&T.cameras.push(v)}}for(var g=0;g<_.length;g++){var y=x[g],w=_[g];null!==y&&void 0!==w&&w.update(y,n,h||l)}q&&q(e,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),m=null})),i.setAnimationLoop=function(t){q=t},i.dispose=function(){},i}return(0,L.Z)(n)}(Vt);function Ro(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===z&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===z&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=e.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===t.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,Fr(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(t,i):i.isMeshToonMaterial?(r(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,i)):i.isMeshPhongMaterial?(r(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,i)):i.isMeshStandardMaterial?(r(t,i),function(t,r){t.metalness.value=r.metalness,r.metalnessMap&&(t.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,t.metalnessMapTransform));t.roughness.value=r.roughness,r.roughnessMap&&(t.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,t.roughnessMapTransform));var i=e.get(r).envMap;i&&(t.envMapIntensity.value=r.envMapIntensity)}(t,i),i.isMeshPhysicalMaterial&&function(t,e,r){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform)));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),e.side===z&&t.clearcoatNormalScale.value.negate()));e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform)));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=r.texture,t.transmissionSamplerSize.value.set(r.width,r.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform)));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform));e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,i,s)):i.isMeshMatcapMaterial?(r(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,i)):i.isMeshDepthMaterial?r(t,i):i.isMeshDistanceMaterial?(r(t,i),function(t,n){var r=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(r.matrixWorld),t.nearDistance.value=r.shadow.camera.near,t.farDistance.value=r.shadow.camera.far}(t,i)):i.isMeshNormalMaterial?r(t,i):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,r,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*r,t.scale.value=.5*i,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i,a,o):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function No(t,e,n,r){var i={},a={},o=[],s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(t,e,n){var r=t.value;if(void 0===n[e]){if("number"===typeof r)n[e]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[e]=a}return!0}if("number"===typeof r){if(n[e]!==r)return n[e]=r,!0}else for(var s=Array.isArray(n[e])?n[e]:[n[e]],l=Array.isArray(r)?r:[r],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(t){var e={boundary:0,storage:0};return"number"===typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function c(e){var n=e.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),t.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(t,e){var n=e.program;r.uniformBlockBinding(t,n)},update:function(n,h){var f=i[n.id];void 0===f&&(!function(t){for(var e=t.uniforms,n=0,r=16,i=0,a=0,o=e.length;a<o;a++){for(var s=e[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,f=c.length;h<f;h++){var A=u(c[h]);l.boundary+=A.boundary,l.storage+=A.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-l.boundary<0&&(n+=r-i,s.__offset=n);n+=l.storage}(i=n%r)>0&&(n+=r-i);t.__size=n,t.__cache={}}(n),f=function(e){var n=function(){for(var t=0;t<s;t++)if(-1===o.indexOf(t))return o.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();e.__bindingPointIndex=n;var r=t.createBuffer(),i=e.__size,a=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,i,a),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var A=h.program;r.updateUBOMapping(n,A);var d=e.render.frame;a[n.id]!==d&&(!function(e){var n=i[e.id],r=e.uniforms,a=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===l(c,o,a)){for(var h=c.__offset,f=Array.isArray(c.value)?c.value:[c.value],A=0,d=0;d<f.length;d++){var p=f[d],m=u(p);"number"===typeof p?(c.__data[0]=p,t.bufferSubData(t.UNIFORM_BUFFER,h+A,c.__data)):p.isMatrix3?(c.__data[0]=p.elements[0],c.__data[1]=p.elements[1],c.__data[2]=p.elements[2],c.__data[3]=p.elements[0],c.__data[4]=p.elements[3],c.__data[5]=p.elements[4],c.__data[6]=p.elements[5],c.__data[7]=p.elements[0],c.__data[8]=p.elements[6],c.__data[9]=p.elements[7],c.__data[10]=p.elements[8],c.__data[11]=p.elements[0]):(p.toArray(c.__data,A),A+=m.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,h,c.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(n),a[n.id]=d)},dispose:function(){for(var e in i)t.deleteBuffer(i[e]);o=[],i={},a={}}}}var Oo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,k.Z)(this,t);var n,r=e.canvas,i=void 0===r?function(){var t=he("canvas");return t.style.display="block",t}():r,a=e.context,o=void 0===a?null:a,s=e.depth,l=void 0===s||s,u=e.stencil,c=void 0===u||u,h=e.alpha,f=void 0!==h&&h,A=e.antialias,d=void 0!==A&&A,p=e.premultipliedAlpha,m=void 0===p||p,v=e.preserveDrawingBuffer,g=void 0!==v&&v,y=e.powerPreference,b=void 0===y?"default":y,_=e.failIfMajorPerformanceCaveat,x=void 0!==_&&_;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:f;var w=new Uint32Array(4),S=new Int32Array(4),M=null,E=null,T=[],P=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Bt,this.useLegacyLights=!0,this.toneMapping=V,this.toneMappingExposure=1;var L=this,R=!1,N=0,O=0,I=null,D=-1,B=null,q=new Pe,F=new Pe,Z=null,j=new tr(0),H=0,G=i.width,W=i.height,X=1,Y=null,Q=null,K=new Pe(0,0,G,W),J=new Pe(0,0,G,W),$=!1,tt=new ti,et=!1,nt=!1,rt=null,it=new cn,at=new se,ot=new Ne,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function lt(){return null===I?X:1}var ut,At,yt,bt,_t,xt,wt,St,Mt,Et,Tt,Pt,kt,Lt,Ct,Rt,Nt,Ot,It,Dt,Ft,Ut,zt,Zt,jt=o;function Ht(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=i.getContext(r,e);if(null!==a)return a}return null}try{var Gt={alpha:!0,depth:l,stencil:c,antialias:d,premultipliedAlpha:m,preserveDrawingBuffer:g,powerPreference:b,failIfMajorPerformanceCaveat:x};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(C)),i.addEventListener("webglcontextlost",Yt,!1),i.addEventListener("webglcontextrestored",Qt,!1),i.addEventListener("webglcontextcreationerror",Kt,!1),null===jt){var Vt=["webgl2","webgl","experimental-webgl"];if(!0===L.isWebGL1Renderer&&Vt.shift(),null===(jt=Ht(Vt,Gt)))throw Ht(Vt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&jt instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===jt.getShaderPrecisionFormat&&(jt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(fe){throw console.error("THREE.WebGLRenderer: "+fe.message),fe}function Wt(){ut=new ki(jt),At=new hi(jt,ut,e),ut.init(At),Ut=new Mo(jt,ut,At),yt=new wo(jt,ut,At),bt=new Ri(jt),_t=new lo,xt=new So(jt,ut,yt,_t,At,Ut,bt),wt=new Ai(L),St=new Pi(L),Mt=new ni(jt,At),zt=new ui(jt,ut,Mt,At),Et=new Li(jt,Mt,bt,zt),Tt=new Di(jt,Et,Mt,bt),It=new Ii(jt,At,xt),Rt=new fi(_t),Pt=new so(L,wt,St,ut,At,zt,Rt),kt=new Ro(L,_t),Lt=new fo,Ct=new yo(ut,At),Ot=new li(L,wt,St,yt,Tt,n,m),Nt=new xo(L,Tt,At),Zt=new No(jt,bt,At,yt),Dt=new ci(jt,ut,bt,At),Ft=new Ci(jt,ut,bt,At),bt.programs=Pt.programs,L.capabilities=At,L.extensions=ut,L.properties=_t,L.renderLists=Lt,L.shadowMap=Nt,L.state=yt,L.info=bt}Wt();var Xt=new Co(L,jt);function Yt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function Qt(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;var t=bt.autoReset,e=Nt.enabled,n=Nt.autoUpdate,r=Nt.needsUpdate,i=Nt.type;Wt(),bt.autoReset=t,Nt.enabled=e,Nt.autoUpdate=n,Nt.needsUpdate=r,Nt.type=i}function Kt(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Jt(t){var e=t.target;e.removeEventListener("dispose",Jt),function(t){(function(t){var e=_t.get(t).programs;void 0!==e&&(e.forEach((function(t){Pt.releaseProgram(t)})),t.isShaderMaterial&&Pt.releaseShaderCache(t))})(t),_t.remove(t)}(e)}this.xr=Xt,this.getContext=function(){return jt},this.getContextAttributes=function(){return jt.getContextAttributes()},this.forceContextLoss=function(){var t=ut.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=ut.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(t){void 0!==t&&(X=t,this.setSize(G,W,!1))},this.getSize=function(t){return t.set(G,W)},this.setSize=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Xt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=t,W=e,i.width=Math.floor(t*X),i.height=Math.floor(e*X),!0===n&&(i.style.width=t+"px",i.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return t.set(G*X,W*X).floor()},this.setDrawingBufferSize=function(t,e,n){G=t,W=e,X=n,i.width=Math.floor(t*n),i.height=Math.floor(e*n),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return t.copy(q)},this.getViewport=function(t){return t.copy(K)},this.setViewport=function(t,e,n,r){t.isVector4?K.set(t.x,t.y,t.z,t.w):K.set(t,e,n,r),yt.viewport(q.copy(K).multiplyScalar(X).floor())},this.getScissor=function(t){return t.copy(J)},this.setScissor=function(t,e,n,r){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,n,r),yt.scissor(F.copy(J).multiplyScalar(X).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(t){yt.setScissorTest($=t)},this.setOpaqueSort=function(t){Y=t},this.setTransparentSort=function(t){Q=t},this.getClearColor=function(t){return t.copy(Ot.getClearColor())},this.setClearColor=function(){Ot.setClearColor.apply(Ot,arguments)},this.getClearAlpha=function(){return Ot.getClearAlpha()},this.setClearAlpha=function(){Ot.setClearAlpha.apply(Ot,arguments)},this.clear=function(){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==I){var i=I.texture.format;r=1033===i||1031===i||1029===i}if(r){var a=I.texture.type,o=a===ht||a===dt||a===ft||a===vt||1017===a||1018===a,s=Ot.getClearColor(),l=Ot.getClearAlpha(),u=s.r,c=s.g,h=s.b;o?(w[0]=u,w[1]=c,w[2]=h,w[3]=l,jt.clearBufferuiv(jt.COLOR,0,w)):(S[0]=u,S[1]=c,S[2]=h,S[3]=l,jt.clearBufferiv(jt.COLOR,0,S))}else n|=jt.COLOR_BUFFER_BIT}t&&(n|=jt.DEPTH_BUFFER_BIT),e&&(n|=jt.STENCIL_BUFFER_BIT),jt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Yt,!1),i.removeEventListener("webglcontextrestored",Qt,!1),i.removeEventListener("webglcontextcreationerror",Kt,!1),Lt.dispose(),Ct.dispose(),_t.dispose(),wt.dispose(),St.dispose(),Tt.dispose(),zt.dispose(),Zt.dispose(),Pt.dispose(),Xt.dispose(),Xt.removeEventListener("sessionstart",te),Xt.removeEventListener("sessionend",ee),rt&&(rt.dispose(),rt=null),ne.stop()},this.renderBufferDirect=function(t,e,n,r,i,a){null===e&&(e=st);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(t,e,n,r,i){!0!==e.isScene&&(e=st);xt.resetTextureUnits();var a=e.fog,o=r.isMeshStandardMaterial?e.environment:null,s=null===I?L.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:qt,l=(r.isMeshStandardMaterial?St:wt).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,A=!!n.morphAttributes.color,d=r.toneMapped?L.toneMapping:V,p=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==p?p.length:0,v=_t.get(r),g=E.state.lights;if(!0===et&&(!0===nt||t!==B)){var y=t===B&&r.id===D;Rt.setState(r,t,y)}var b=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==g.state.version||v.outputColorSpace!==s||i.isInstancedMesh&&!1===v.instancing?b=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?b=!0:i.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||!0===r.fog&&v.fog!==a?b=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===Rt.numPlanes&&v.numIntersection===Rt.numIntersection?(v.vertexAlphas!==u||v.vertexTangents!==c||v.morphTargets!==h||v.morphNormals!==f||v.morphColors!==A||v.toneMapping!==d||!0===At.isWebGL2&&v.morphTargetsCount!==m)&&(b=!0):b=!0:b=!0:b=!0:(b=!0,v.__version=r.version);var _=v.currentProgram;!0===b&&(_=ue(r,e,i));var x=!1,w=!1,S=!1,M=_.getUniforms(),T=v.uniforms;yt.useProgram(_.program)&&(x=!0,w=!0,S=!0);r.id!==D&&(D=r.id,w=!0);if(x||B!==t){if(M.setValue(jt,"projectionMatrix",t.projectionMatrix),At.logarithmicDepthBuffer&&M.setValue(jt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),B!==t&&(B=t,w=!0,S=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var P=M.map.cameraPosition;void 0!==P&&P.setValue(jt,ot.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(jt,"isOrthographic",!0===t.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&M.setValue(jt,"viewMatrix",t.matrixWorldInverse)}if(i.isSkinnedMesh){M.setOptional(jt,i,"bindMatrix"),M.setOptional(jt,i,"bindMatrixInverse");var k=i.skeleton;k&&(At.floatVertexTextures?(null===k.boneTexture&&k.computeBoneTexture(),M.setValue(jt,"boneTexture",k.boneTexture,xt),M.setValue(jt,"boneTextureSize",k.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var C=n.morphAttributes;(void 0!==C.position||void 0!==C.normal||void 0!==C.color&&!0===At.isWebGL2)&&It.update(i,n,_);(w||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,M.setValue(jt,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=l,T.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);w&&(M.setValue(jt,"toneMappingExposure",L.toneMappingExposure),v.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(T,S),a&&!0===r.fog&&kt.refreshFogUniforms(T,a),kt.refreshMaterialUniforms(T,r,X,W,rt),Ua.upload(jt,v.uniformsList,T,xt));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ua.upload(jt,v.uniformsList,T,xt),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(jt,"center",i.center);if(M.setValue(jt,"modelViewMatrix",i.modelViewMatrix),M.setValue(jt,"normalMatrix",i.normalMatrix),M.setValue(jt,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var R=r.uniformsGroups,N=0,O=R.length;N<O;N++)if(At.isWebGL2){var q=R[N];Zt.update(q,_),Zt.bind(q,_)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return _}(t,e,n,r,i);yt.setMaterial(r,o);var l=n.index,u=1;!0===r.wireframe&&(l=Et.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,f=c.start*u,A=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),A=Math.min(A,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),A=Math.min(A,l.count)):void 0!==h&&null!==h&&(f=Math.max(f,0),A=Math.min(A,h.count));var d=A-f;if(!(d<0||d===1/0)){var p;zt.setup(i,r,s,n,l);var m=Dt;if(null!==l&&(p=Mt.get(l),(m=Ft).setIndex(p)),i.isMesh)!0===r.wireframe?(yt.setLineWidth(r.wireframeLinewidth*lt()),m.setMode(jt.LINES)):m.setMode(jt.TRIANGLES);else if(i.isLine){var v=r.linewidth;void 0===v&&(v=1),yt.setLineWidth(v*lt()),i.isLineSegments?m.setMode(jt.LINES):i.isLineLoop?m.setMode(jt.LINE_LOOP):m.setMode(jt.LINE_STRIP)}else i.isPoints?m.setMode(jt.POINTS):i.isSprite&&m.setMode(jt.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(f,d,i.count);else if(n.isInstancedBufferGeometry){var g=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,y=Math.min(n.instanceCount,g);m.renderInstances(f,d,y)}else m.render(f,d)}},this.compile=function(t,e){function n(t,e,n){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=z,t.needsUpdate=!0,ue(t,e,n),t.side=U,t.needsUpdate=!0,ue(t,e,n),t.side=2):ue(t,e,n)}(E=Ct.get(t)).init(),P.push(E),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(E.pushLight(t),t.castShadow&&E.pushShadow(t))})),E.setupLights(L.useLegacyLights),t.traverse((function(e){var r=e.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],t,e)}else n(r,t,e)})),P.pop(),E=null};var $t=null;function te(){ne.stop()}function ee(){ne.start()}var ne=new ei;function ie(t,e,n,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)E.pushLight(t),t.castShadow&&E.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||tt.intersectsSprite(t)){r&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var i=Tt.update(t),a=t.material;a.visible&&M.push(t,i,a,n,ot.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||tt.intersectsObject(t))){var o=Tt.update(t),s=t.material;if(r&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),ot.copy(t.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ot.copy(o.boundingSphere.center)),ot.applyMatrix4(t.matrixWorld).applyMatrix4(it)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var h=l[u],f=s[h.materialIndex];f&&f.visible&&M.push(t,o,f,n,ot.z,h)}else s.visible&&M.push(t,o,s,n,ot.z,null)}for(var A=t.children,d=0,p=A.length;d<p;d++)ie(A[d],e,n,r)}}function ae(t,e,n,r){var i=t.opaque,a=t.transmissive,o=t.transparent;E.setupLightsView(n),!0===et&&Rt.setGlobalState(L.clippingPlanes,n),a.length>0&&function(t,e,n,r){var i=At.isWebGL2;null===rt&&(rt=new ke(1,1,{generateMipmaps:!0,type:ut.has("EXT_color_buffer_half_float")?mt:ht,minFilter:ct,samples:i?4:0}));L.getDrawingBufferSize(at),i?rt.setSize(at.x,at.y):rt.setSize(re(at.x),re(at.y));var a=L.getRenderTarget();L.setRenderTarget(rt),L.getClearColor(j),(H=L.getClearAlpha())<1&&L.setClearColor(16777215,.5);L.clear();var o=L.toneMapping;L.toneMapping=V,oe(t,n,r),xt.updateMultisampleRenderTarget(rt),xt.updateRenderTargetMipmap(rt);for(var s=!1,l=0,u=e.length;l<u;l++){var c=e[l],h=c.object,f=c.geometry,A=c.material,d=c.group;if(2===A.side&&h.layers.test(r.layers)){var p=A.side;A.side=z,A.needsUpdate=!0,le(h,n,r,f,A,d),A.side=p,A.needsUpdate=!0,s=!0}}!0===s&&(xt.updateMultisampleRenderTarget(rt),xt.updateRenderTargetMipmap(rt));L.setRenderTarget(a),L.setClearColor(j,H),L.toneMapping=o}(i,a,e,n),r&&yt.viewport(q.copy(r)),i.length>0&&oe(i,e,n),a.length>0&&oe(a,e,n),o.length>0&&oe(o,e,n),yt.buffers.depth.setTest(!0),yt.buffers.depth.setMask(!0),yt.buffers.color.setMask(!0),yt.setPolygonOffset(!1)}function oe(t,e,n){for(var r=!0===e.isScene?e.overrideMaterial:null,i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&le(s,e,n,l,u,c)}}function le(t,e,n,r,i,a){t.onBeforeRender(L,e,n,r,i,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),i.onBeforeRender(L,e,n,r,t,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=z,i.needsUpdate=!0,L.renderBufferDirect(n,e,r,i,t,a),i.side=U,i.needsUpdate=!0,L.renderBufferDirect(n,e,r,i,t,a),i.side=2):L.renderBufferDirect(n,e,r,i,t,a),t.onAfterRender(L,e,n,r,i,a)}function ue(t,e,n){!0!==e.isScene&&(e=st);var r=_t.get(t),i=E.state.lights,a=E.state.shadowsArray,o=i.state.version,s=Pt.getParameters(t,i.state,a,e,n),l=Pt.getProgramCacheKey(s),u=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?St:wt).get(t.envMap||r.environment),void 0===u&&(t.addEventListener("dispose",Jt),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return ce(t,s),c}else s.uniforms=Pt.getUniforms(t),t.onBuild(n,s,L),t.onBeforeCompile(s,L),c=Pt.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(h.clippingPlanes=Rt.uniform),ce(t,s),r.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),A=Ua.seqWithValue(f.seq,h);return r.currentProgram=c,r.uniformsList=A,c}function ce(t,e){var n=_t.get(t);n.outputColorSpace=e.outputColorSpace,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}ne.setAnimationLoop((function(t){$t&&$t(t)})),"undefined"!==typeof self&&ne.setContext(self),this.setAnimationLoop=function(t){$t=t,Xt.setAnimationLoop(t),null===t?ne.stop():ne.start()},Xt.addEventListener("sessionstart",te),Xt.addEventListener("sessionend",ee),this.render=function(t,e){if(void 0===e||!0===e.isCamera){if(!0!==R){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===Xt.enabled&&!0===Xt.isPresenting&&(!0===Xt.cameraAutoUpdate&&Xt.updateCamera(e),e=Xt.getCamera()),!0===t.isScene&&t.onBeforeRender(L,t,e,I),(E=Ct.get(t,P.length)).init(),P.push(E),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),tt.setFromProjectionMatrix(it),nt=this.localClippingEnabled,et=Rt.init(this.clippingPlanes,nt),(M=Lt.get(t,T.length)).init(),T.push(M),ie(t,e,0,L.sortObjects),M.finish(),!0===L.sortObjects&&M.sort(Y,Q),this.info.render.frame++,!0===et&&Rt.beginShadows();var n=E.state.shadowsArray;if(Nt.render(n,t,e),!0===et&&Rt.endShadows(),!0===this.info.autoReset&&this.info.reset(),Ot.render(M,t),E.setupLights(L.useLegacyLights),e.isArrayCamera)for(var r=e.cameras,i=0,a=r.length;i<a;i++){var o=r[i];ae(M,t,o,o.viewport)}else ae(M,t,e);null!==I&&(xt.updateMultisampleRenderTarget(I),xt.updateRenderTargetMipmap(I)),!0===t.isScene&&t.onAfterRender(L,t,e),zt.resetDefaultState(),D=-1,B=null,P.pop(),E=P.length>0?P[P.length-1]:null,T.pop(),M=T.length>0?T[T.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(t,e,n){_t.get(t.texture).__webglTexture=e,_t.get(t.depthTexture).__webglTexture=n;var r=_t.get(t);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ut.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){var n=_t.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;I=t,N=e,O=n;var r=!0,i=null,a=!1,o=!1;if(t){var s=_t.get(t);void 0!==s.__useDefaultFramebuffer?(yt.bindFramebuffer(jt.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?xt.setupRenderTarget(t):s.__hasExternalTextures&&xt.rebindTextures(t,_t.get(t.texture).__webglTexture,_t.get(t.depthTexture).__webglTexture);var l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=_t.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=u[e],a=!0):i=At.isWebGL2&&t.samples>0&&!1===xt.useMultisampledRTT(t)?_t.get(t).__webglMultisampledFramebuffer:u,q.copy(t.viewport),F.copy(t.scissor),Z=t.scissorTest}else q.copy(K).multiplyScalar(X).floor(),F.copy(J).multiplyScalar(X).floor(),Z=$;if(yt.bindFramebuffer(jt.FRAMEBUFFER,i)&&At.drawBuffers&&r&&yt.drawBuffers(t,i),yt.viewport(q),yt.scissor(F),yt.setScissorTest(Z),a){var c=_t.get(t.texture);jt.framebufferTexture2D(jt.FRAMEBUFFER,jt.COLOR_ATTACHMENT0,jt.TEXTURE_CUBE_MAP_POSITIVE_X+e,c.__webglTexture,n)}else if(o){var h=_t.get(t.texture),f=e||0;jt.framebufferTextureLayer(jt.FRAMEBUFFER,jt.COLOR_ATTACHMENT0,h.__webglTexture,n||0,f)}D=-1},this.readRenderTargetPixels=function(t,e,n,r,i,a,o){if(t&&t.isWebGLRenderTarget){var s=_t.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){yt.bindFramebuffer(jt.FRAMEBUFFER,s);try{var l=t.texture,u=l.format,c=l.type;if(u!==gt&&Ut.convert(u)!==jt.getParameter(jt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===mt&&(ut.has("EXT_color_buffer_half_float")||At.isWebGL2&&ut.has("EXT_color_buffer_float"));if(c!==ht&&Ut.convert(c)!==jt.getParameter(jt.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==pt||!(At.isWebGL2||ut.has("OES_texture_float")||ut.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&jt.readPixels(e,n,r,i,Ut.convert(u),Ut.convert(c),a)}finally{var f=null!==I?_t.get(I).__webglFramebuffer:null;yt.bindFramebuffer(jt.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r);xt.setTexture2D(e,0),jt.copyTexSubImage2D(jt.TEXTURE_2D,n,0,0,t.x,t.y,i,a),yt.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e.image.width,a=e.image.height,o=Ut.convert(n.format),s=Ut.convert(n.type);xt.setTexture2D(n,0),jt.pixelStorei(jt.UNPACK_FLIP_Y_WEBGL,n.flipY),jt.pixelStorei(jt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),jt.pixelStorei(jt.UNPACK_ALIGNMENT,n.unpackAlignment),e.isDataTexture?jt.texSubImage2D(jt.TEXTURE_2D,r,t.x,t.y,i,a,o,s,e.image.data):e.isCompressedTexture?jt.compressedTexSubImage2D(jt.TEXTURE_2D,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):jt.texSubImage2D(jt.TEXTURE_2D,r,t.x,t.y,o,s,e.image),0===r&&n.generateMipmaps&&jt.generateMipmap(jt.TEXTURE_2D),yt.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(L.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,l=t.max.z-t.min.z+1,u=Ut.convert(r.format),c=Ut.convert(r.type);if(r.isData3DTexture)xt.setTexture3D(r,0),a=jt.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");xt.setTexture2DArray(r,0),a=jt.TEXTURE_2D_ARRAY}jt.pixelStorei(jt.UNPACK_FLIP_Y_WEBGL,r.flipY),jt.pixelStorei(jt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),jt.pixelStorei(jt.UNPACK_ALIGNMENT,r.unpackAlignment);var h=jt.getParameter(jt.UNPACK_ROW_LENGTH),f=jt.getParameter(jt.UNPACK_IMAGE_HEIGHT),A=jt.getParameter(jt.UNPACK_SKIP_PIXELS),d=jt.getParameter(jt.UNPACK_SKIP_ROWS),p=jt.getParameter(jt.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;jt.pixelStorei(jt.UNPACK_ROW_LENGTH,m.width),jt.pixelStorei(jt.UNPACK_IMAGE_HEIGHT,m.height),jt.pixelStorei(jt.UNPACK_SKIP_PIXELS,t.min.x),jt.pixelStorei(jt.UNPACK_SKIP_ROWS,t.min.y),jt.pixelStorei(jt.UNPACK_SKIP_IMAGES,t.min.z),n.isDataTexture||n.isData3DTexture?jt.texSubImage3D(a,i,e.x,e.y,e.z,o,s,l,u,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),jt.compressedTexSubImage3D(a,i,e.x,e.y,e.z,o,s,l,u,m.data)):jt.texSubImage3D(a,i,e.x,e.y,e.z,o,s,l,u,c,m),jt.pixelStorei(jt.UNPACK_ROW_LENGTH,h),jt.pixelStorei(jt.UNPACK_IMAGE_HEIGHT,f),jt.pixelStorei(jt.UNPACK_SKIP_PIXELS,A),jt.pixelStorei(jt.UNPACK_SKIP_ROWS,d),jt.pixelStorei(jt.UNPACK_SKIP_IMAGES,p),0===i&&r.generateMipmaps&&jt.generateMipmap(a),yt.unbindTexture()}},this.initTexture=function(t){t.isCubeTexture?xt.setTextureCube(t,0):t.isData3DTexture?xt.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?xt.setTexture2DArray(t,0):xt.setTexture2D(t,0),yt.unbindTexture()},this.resetState=function(){N=0,O=0,I=null,yt.reset(),zt.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,L.Z)(t,[{key:"coordinateSystem",get:function(){return Ht}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Bt?It:3e3},set:function(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===It?Bt:qt}}]),t}(),Io=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(Oo);Io.prototype.isWebGL1Renderer=!0;var Do=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isScene=!0,t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.backgroundBlurriness=0,t.backgroundIntensity=1,t.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,S.Z)(t)})),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}]),n}(In),Bo=function(){function t(e,n){(0,k.Z)(this,t),this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=void 0!==e?e.length/n:0,this.usage=zt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Kt()}return(0,L.Z)(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"toJSON",value:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kt()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),t}(),qo=new Ne,Fo=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,k.Z)(this,t),this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}return(0,L.Z)(t,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(t){this.data.needsUpdate=t}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.data.count;e<n;e++)qo.fromBufferAttribute(this,e),qo.applyMatrix4(t),this.setXYZ(e,qo.x,qo.y,qo.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)qo.fromBufferAttribute(this,e),qo.applyNormalMatrix(t),this.setXYZ(e,qo.x,qo.y,qo.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)qo.fromBufferAttribute(this,e),qo.transformDirection(t),this.setXYZ(e,qo.x,qo.y,qo.z);return this}},{key:"setX",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}},{key:"setY",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}},{key:"setZ",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}},{key:"setW",value:function(t,e){return this.normalized&&(e=ae(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}},{key:"getX",value:function(t){var e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=ie(e,this.array)),e}},{key:"getY",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=ie(e,this.array)),e}},{key:"getZ",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=ie(e,this.array)),e}},{key:"getW",value:function(t){var e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=ie(e,this.array)),e}},{key:"setXY",value:function(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array),r=ae(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}},{key:"setXYZW",value:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=ae(e,this.array),n=ae(n,this.array),r=ae(r,this.array),i=ae(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},{key:"clone",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new ar(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new t(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)e.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),t}();var Uo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,k.Z)(this,n),(a=e.call(this,t,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}]),n}(ar),zo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new tr(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}]),n}(Yn),Zo=new Ne,jo=new Ne,Ho=new cn,Go=new un,Vo=new tn,Wo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zo;return(0,k.Z)(this,n),(t=e.call(this)).isLine=!0,t.type="Line",t.geometry=r,t.material=i,t.updateMorphTargets(),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.material=t.material,this.geometry=t.geometry,this}},{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,i=e.count;r<i;r++)Zo.fromBufferAttribute(e,r-1),jo.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=Zo.distanceTo(jo);t.setAttribute("lineDistance",new lr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(t,e){var n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Vo.copy(n.boundingSphere),Vo.applyMatrix4(r),Vo.radius+=i,!1!==t.ray.intersectsSphere(Vo)){Ho.copy(r).invert(),Go.copy(t.ray).applyMatrix4(Ho);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Ne,u=new Ne,c=new Ne,h=new Ne,f=this.isLineSegments?2:1,A=n.index,d=n.attributes.position;if(null!==A)for(var p=Math.max(0,a.start),m=Math.min(A.count,a.start+a.count)-1;p<m;p+=f){var v=A.getX(p),g=A.getX(p+1);if(l.fromBufferAttribute(d,v),u.fromBufferAttribute(d,g),!(Go.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var y=t.ray.origin.distanceTo(h);y<t.near||y>t.far||e.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),_=Math.min(d.count,a.start+a.count)-1;b<_;b+=f){if(l.fromBufferAttribute(d,b),u.fromBufferAttribute(d,b+1),!(Go.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var x=t.ray.origin.distanceTo(h);x<t.near||x>t.far||e.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(In),Xo=new Ne,Yo=new Ne,Qo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;return(0,k.Z)(this,n),(i=e.call(this,t,r)).isLineSegments=!0,i.type="LineSegments",i}return(0,L.Z)(n,[{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var e=t.attributes.position,n=[],r=0,i=e.count;r<i;r+=2)Xo.fromBufferAttribute(e,r),Yo.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Xo.distanceTo(Yo);t.setAttribute("lineDistance",new lr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(Wo);var Ko=function(){function t(){(0,k.Z)(this,t),this.type="Curve",this.arcLengthDivisions=200}return(0,L.Z)(t,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)}},{key:"getPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=t;a++)i+=(e=this.getPoint(a/t)).distanceTo(r),n.push(i),r=e;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(t,e){var n=1e-4,r=t-n,i=t+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=e||(a.isVector2?new se:new Ne);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=new Ne,r=[],i=[],a=[],o=new Ne,s=new cn,l=0;l<=t;l++){var u=l/t;r[l]=this.getTangentAt(u,new Ne)}i[0]=new Ne,a[0]=new Ne;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),f=Math.abs(r[0].y),A=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),A<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var d=1;d<=t;d++){if(i[d]=i[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(Jt(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(s.makeRotationAxis(o,p))}a[d].crossVectors(r[d],i[d])}if(!0===e){var m=Math.acos(Jt(i[0].dot(i[t]),-1,1));m/=t,r[0].dot(o.crossVectors(i[0],i[t]))>0&&(m=-m);for(var v=1;v<=t;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),t}(),Jo=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,k.Z)(this,n),(t=e.call(this)).isEllipseCurve=!0,t.type="EllipseCurve",t.aX=r,t.aY=i,t.xRadius=a,t.yRadius=o,t.aStartAngle=s,t.aEndAngle=l,t.aClockwise=u,t.aRotation=c,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t,e){for(var n=e||new se,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=l-this.aY;s=h*u-f*c+this.aX,l=h*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}]),n}(Ko),$o=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a,o,s){var l;return(0,k.Z)(this,n),(l=e.call(this,t,r,i,i,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return(0,L.Z)(n)}(Jo);function ts(){var t=0,e=0,n=0,r=0;function i(i,a,o,s){t=i,e=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(t,e,n,r,a){i(e,n,a*(n-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,l*=o,u*=o)},calc:function(i){var a=i*i;return t+e*i+n*a+r*(a*i)}}}var es=new Ne,ns=new ts,rs=new ts,is=new ts,as=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,k.Z)(this,n),(t=e.call(this)).isCatmullRomCurve3=!0,t.type="CatmullRomCurve3",t.points=r,t.closed=i,t.curveType=a,t.tension=o,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,i=this.points,a=i.length,o=(a-(this.closed?0:1))*t,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?e=i[(s-1)%a]:(es.subVectors(i[0],i[1]).add(i[0]),e=es);var u=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(es.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=es),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(u),h),A=Math.pow(u.distanceToSquared(c),h),d=Math.pow(c.distanceToSquared(n),h);A<1e-4&&(A=1),f<1e-4&&(f=A),d<1e-4&&(d=A),ns.initNonuniformCatmullRom(e.x,u.x,c.x,n.x,f,A,d),rs.initNonuniformCatmullRom(e.y,u.y,c.y,n.y,f,A,d),is.initNonuniformCatmullRom(e.z,u.z,c.z,n.z,f,A,d)}else"catmullrom"===this.curveType&&(ns.initCatmullRom(e.x,u.x,c.x,n.x,this.tension),rs.initCatmullRom(e.y,u.y,c.y,n.y,this.tension),is.initCatmullRom(e.z,u.z,c.z,n.z,this.tension));return r.set(ns.calc(l),rs.calc(l),is.calc(l)),r}},{key:"copy",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var i=t.points[e];this.points.push((new Ne).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}]),n}(Ko);function os(t,e,n,r,i){var a=.5*(r-e),o=.5*(i-n),s=t*t;return(2*n-2*r+a+o)*(t*s)+(-3*n+3*r-2*a-o)*s+a*t+n}function ss(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function ls(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}var us=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new se,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new se,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new se;return(0,k.Z)(this,n),(t=e.call(this)).isCubicBezierCurve=!0,t.type="CubicBezierCurve",t.v0=r,t.v1=i,t.v2=a,t.v3=o,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return e.set(ls(t,n.x,r.x,i.x,a.x),ls(t,n.y,r.y,i.y,a.y)),e}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Ko),cs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ne,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ne;return(0,k.Z)(this,n),(t=e.call(this)).isCubicBezierCurve3=!0,t.type="CubicBezierCurve3",t.v0=r,t.v1=i,t.v2=a,t.v3=o,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return e.set(ls(t,n.x,r.x,i.x,a.x),ls(t,n.y,r.y,i.y,a.y),ls(t,n.z,r.z,i.z,a.z)),e}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Ko),hs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new se,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se;return(0,k.Z)(this,n),(t=e.call(this)).isLineCurve=!0,t.type="LineCurve",t.v1=r,t.v2=i,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(t,e){return this.getTangent(t,e)}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ko),fs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne;return(0,k.Z)(this,n),(t=e.call(this)).isLineCurve3=!0,t.type="LineCurve3",t.v1=r,t.v2=i,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne;return 1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(t,e){return this.getTangent(t,e)}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ko),As=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new se,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new se;return(0,k.Z)(this,n),(t=e.call(this)).isQuadraticBezierCurve=!0,t.type="QuadraticBezierCurve",t.v0=r,t.v1=i,t.v2=a,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se,n=this.v0,r=this.v1,i=this.v2;return e.set(ss(t,n.x,r.x,i.x),ss(t,n.y,r.y,i.y)),e}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ko),ds=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ne;return(0,k.Z)(this,n),(t=e.call(this)).isQuadraticBezierCurve3=!0,t.type="QuadraticBezierCurve3",t.v0=r,t.v1=i,t.v2=a,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne,n=this.v0,r=this.v1,i=this.v2;return e.set(ss(t,n.x,r.x,i.x),ss(t,n.y,r.y,i.y),ss(t,n.z,r.z,i.z)),e}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ko),ps=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,k.Z)(this,n),(t=e.call(this)).isSplineCurve=!0,t.type="SplineCurve",t.points=r,t}return(0,L.Z)(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new se,n=this.points,r=(n.length-1)*t,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return e.set(os(a,o.x,s.x,l.x,u.x),os(a,o.y,s.y,l.y,u.y)),e}},{key:"copy",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var i=t.points[e];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var i=this.points[e];t.points.push(i.toArray())}return t}},{key:"fromJSON",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var i=t.points[e];this.points.push((new se).fromArray(i))}return this}}]),n}(Ko),ms=Object.freeze({__proto__:null,ArcCurve:$o,CatmullRomCurve3:as,CubicBezierCurve:us,CubicBezierCurve3:cs,EllipseCurve:Jo,LineCurve:hs,LineCurve3:fs,QuadraticBezierCurve:As,QuadraticBezierCurve3:ds,SplineCurve:ps}),vs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).type="CurvePath",t.curves=[],t.autoClose=!1,t}return(0,L.Z)(n,[{key:"add",value:function(t){this.curves.push(t)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new hs(e,t))}},{key:"getPoint",value:function(t,e){for(var n=t*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,e)}i++}return null}},{key:"getLength",value:function(){var t=this.getCurveLengths();return t[t.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}},{key:"getPoints",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,r=this.curves.length;e<r;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t}},{key:"fromJSON",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var i=t.curves[e];this.curves.push((new ms[i.type]).fromJSON(i))}return this}}]),n}(Ko),gs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).type="Path",r.currentPoint=new se,t&&r.setFromPoints(t),r}return(0,L.Z)(n,[{key:"setFromPoints",value:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}},{key:"moveTo",value:function(t,e){return this.currentPoint.set(t,e),this}},{key:"lineTo",value:function(t,e){var n=new hs(this.currentPoint.clone(),new se(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,r){var i=new As(this.currentPoint.clone(),new se(t,e),new se(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(t,e,n,r,i,a){var o=new us(this.currentPoint.clone(),new se(t,e),new se(n,r),new se(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(t){var e=[this.currentPoint.clone()].concat(t),n=new ps(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}},{key:"arc",value:function(t,e,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+o,e+s,n,r,i,a),this}},{key:"absarc",value:function(t,e,n,r,i,a){return this.absellipse(t,e,n,n,r,i,a),this}},{key:"ellipse",value:function(t,e,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+l,e+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(t,e,n,r,i,a,o,s){var l=new Jo(t,e,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.currentPoint.copy(t.currentPoint),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.currentPoint=this.currentPoint.toArray(),t}},{key:"fromJSON",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}]),n}(vs),ys=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,k.Z)(this,n),(t=e.call(this)).type="CircleGeometry",t.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],h=new Ne,f=new se;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var A=0,d=3;A<=i;A++,d+=3){var p=a+A/i*o;h.x=r*Math.cos(p),h.y=r*Math.sin(p),l.push(h.x,h.y,h.z),u.push(0,0,1),f.x=(l[d]/r+1)/2,f.y=(l[d+1]/r+1)/2,c.push(f.x,f.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return t.setIndex(s),t.setAttribute("position",new lr(l,3)),t.setAttribute("normal",new lr(u,3)),t.setAttribute("uv",new lr(c,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.radius,t.segments,t.thetaStart,t.thetaLength)}}]),n}(mr),bs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,k.Z)(this,n),(t=e.call(this)).type="CylinderGeometry",t.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=(0,S.Z)(t);o=Math.floor(o),s=Math.floor(s);var f=[],A=[],d=[],p=[],m=0,v=[],g=a/2,y=0;function b(t){for(var e=m,n=new se,a=new Ne,s=0,l=!0===t?r:i,v=!0===t?1:-1,b=1;b<=o;b++)A.push(0,g*v,0),d.push(0,v,0),p.push(.5,.5),m++;for(var _=m,x=0;x<=o;x++){var w=x/o*c+u,S=Math.cos(w),M=Math.sin(w);a.x=l*M,a.y=g*v,a.z=l*S,A.push(a.x,a.y,a.z),d.push(0,v,0),n.x=.5*S+.5,n.y=.5*M*v+.5,p.push(n.x,n.y),m++}for(var E=0;E<o;E++){var T=e+E,P=_+E;!0===t?f.push(P,P+1,T):f.push(P+1,P,T),s+=3}h.addGroup(y,s,!0===t?1:2),y+=s}return function(){for(var t=new Ne,e=new Ne,n=0,l=(i-r)/a,b=0;b<=s;b++){for(var _=[],x=b/s,w=x*(i-r)+r,S=0;S<=o;S++){var M=S/o,E=M*c+u,T=Math.sin(E),P=Math.cos(E);e.x=w*T,e.y=-x*a+g,e.z=w*P,A.push(e.x,e.y,e.z),t.set(T,l,P).normalize(),d.push(t.x,t.y,t.z),p.push(M,1-x),_.push(m++)}v.push(_)}for(var k=0;k<o;k++)for(var L=0;L<s;L++){var C=v[L][k],R=v[L+1][k],N=v[L+1][k+1],O=v[L][k+1];f.push(C,R,O),f.push(R,N,O),n+=6}h.addGroup(y,n,0),y+=n}(),!1===l&&(r>0&&b(!0),i>0&&b(!1)),t.setIndex(f),t.setAttribute("position",new lr(A,3)),t.setAttribute("normal",new lr(d,3)),t.setAttribute("uv",new lr(p,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}]),n}(mr),_s=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this,t)).uuid=Kt(),r.type="Shape",r.holes=[],r}return(0,L.Z)(n,[{key:"getPointsHoles",value:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var i=t.holes[e];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,r=this.holes.length;e<r;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t}},{key:"fromJSON",value:function(t){(0,x.Z)((0,w.Z)(n.prototype),"fromJSON",this).call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var i=t.holes[e];this.holes.push((new gs).fromJSON(i))}return this}}]),n}(gs),xs=function(t,e){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=e&&e.length,h=c?e[0]*u:t.length,f=ws(t,0,h,u,!0),A=[];if(!f||f.next===f.prev)return A;if(c&&(f=function(t,e,n,r){var i,a,o,s=[];for(i=0,a=e.length;i<a;i++)(o=ws(t,e[i]*r,i<a-1?e[i+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Os(o));for(s.sort(Ls),i=0;i<s.length;i++)n=Cs(s[i],n);return n}(t,e,f,u)),t.length>80*u){n=i=t[0],r=a=t[1];for(var d=u;d<h;d+=u)(o=t[d])<n&&(n=o),(s=t[d+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?32767/l:0}return Ms(f,A,u,n,r,l,0),A};function ws(t,e,n,r,i){var a,o;if(i===function(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}(t,e,n,r)>0)for(a=e;a<n;a+=r)o=Hs(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=Hs(a,t[a],t[a+1],o);return o&&qs(o,o.next)&&(Gs(o),o=o.next),o}function Ss(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!qs(r,r.next)&&0!==Bs(r.prev,r,r.next))r=r.next;else{if(Gs(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Ms(t,e,n,r,i,a,o){if(t){!o&&a&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=Ns(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(t,r,i,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?Ts(t,r,i,a):Es(t))e.push(s.i/n|0),e.push(t.i/n|0),e.push(l.i/n|0),Gs(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?Ms(t=Ps(Ss(t),e,n),e,n,r,i,a,2):2===o&&ks(t,e,n,r,i,a):Ms(Ss(t),e,n,r,i,a,1);break}}}function Es(t){var e=t.prev,n=t,r=t.next;if(Bs(e,n,r)>=0)return!1;for(var i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,A=s>l?s>u?s:u:l>u?l:u,d=r.next;d!==e;){if(d.x>=c&&d.x<=f&&d.y>=h&&d.y<=A&&Is(i,s,a,l,o,u,d.x,d.y)&&Bs(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function Ts(t,e,n,r){var i=t.prev,a=t,o=t.next;if(Bs(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,f=o.y,A=s<l?s<u?s:u:l<u?l:u,d=c<h?c<f?c:f:h<f?h:f,p=s>l?s>u?s:u:l>u?l:u,m=c>h?c>f?c:f:h>f?h:f,v=Ns(A,d,e,n,r),g=Ns(p,m,e,n,r),y=t.prevZ,b=t.nextZ;y&&y.z>=v&&b&&b.z<=g;){if(y.x>=A&&y.x<=p&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Is(s,c,l,h,u,f,y.x,y.y)&&Bs(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=A&&b.x<=p&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&Is(s,c,l,h,u,f,b.x,b.y)&&Bs(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=A&&y.x<=p&&y.y>=d&&y.y<=m&&y!==i&&y!==o&&Is(s,c,l,h,u,f,y.x,y.y)&&Bs(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=g;){if(b.x>=A&&b.x<=p&&b.y>=d&&b.y<=m&&b!==i&&b!==o&&Is(s,c,l,h,u,f,b.x,b.y)&&Bs(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Ps(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!qs(i,a)&&Fs(i,r,r.next,a)&&Zs(i,a)&&Zs(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),Gs(r),Gs(r.next),r=t=a),r=r.next}while(r!==t);return Ss(r)}function ks(t,e,n,r,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ds(o,s)){var l=js(o,s);return o=Ss(o,o.next),l=Ss(l,l.next),Ms(o,e,n,r,i,a,0),void Ms(l,e,n,r,i,a,0)}s=s.next}o=o.next}while(o!==t)}function Ls(t,e){return t.x-e.x}function Cs(t,e){var n=function(t,e){var n,r=e,i=-1/0,a=t.x,o=t.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==e);if(!n)return null;var l,u=n,c=n.x,h=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&Is(o<h?a:i,o,c,h,o<h?i:a,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(a-r.x),Zs(r,t)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&Rs(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(t,e);if(!n)return e;var r=js(n,t);return Ss(r,r.next),Ss(n,n.next)}function Rs(t,e){return Bs(t.prev,t,e.prev)<0&&Bs(e.next,t,t.next)<0}function Ns(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Os(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Is(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Ds(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Fs(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Zs(t,e)&&Zs(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Bs(t.prev,t,e.prev)||Bs(t,e.prev,e))||qs(t,e)&&Bs(t.prev,t,t.next)>0&&Bs(e.prev,e,e.next)>0)}function Bs(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function qs(t,e){return t.x===e.x&&t.y===e.y}function Fs(t,e,n,r){var i=zs(Bs(t,e,n)),a=zs(Bs(t,e,r)),o=zs(Bs(n,r,t)),s=zs(Bs(n,r,e));return i!==a&&o!==s||(!(0!==i||!Us(t,n,e))||(!(0!==a||!Us(t,r,e))||(!(0!==o||!Us(n,t,r))||!(0!==s||!Us(n,e,r)))))}function Us(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function zs(t){return t>0?1:t<0?-1:0}function Zs(t,e){return Bs(t.prev,t,t.next)<0?Bs(t,e,t.next)>=0&&Bs(t,t.prev,e)>=0:Bs(t,e,t.prev)<0||Bs(t,t.next,e)<0}function js(t,e){var n=new Vs(t.i,t.x,t.y),r=new Vs(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Hs(t,e,n,r){var i=new Vs(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Gs(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Vs(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Ws=function(){function t(){(0,k.Z)(this,t)}return(0,L.Z)(t,null,[{key:"area",value:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n}},{key:"isClockWise",value:function(e){return t.area(e)<0}},{key:"triangulateShape",value:function(t,e){var n=[],r=[],i=[];Xs(t),Ys(n,t);var a=t.length;e.forEach(Xs);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,Ys(n,e[o]);for(var s=xs(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),t}();function Xs(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ys(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var Qs=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s([new se(.5,.5),new se(-.5,.5),new se(-.5,-.5),new se(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,k.Z)(this,n),(t=e.call(this)).type="ExtrudeGeometry",t.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=(0,S.Z)(t),o=[],s=[],l=0,u=r.length;l<u;l++){c(r[l])}function c(t){var e,n,r,l,u,c=[],h=void 0!==i.curveSegments?i.curveSegments:12,f=void 0!==i.steps?i.steps:1,A=void 0!==i.depth?i.depth:1,d=void 0===i.bevelEnabled||i.bevelEnabled,p=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:p-.1,v=void 0!==i.bevelOffset?i.bevelOffset:0,g=void 0!==i.bevelSegments?i.bevelSegments:3,y=i.extrudePath,b=void 0!==i.UVGenerator?i.UVGenerator:Ks,_=!1;y&&(e=y.getSpacedPoints(f),_=!0,d=!1,n=y.computeFrenetFrames(f,!1),r=new Ne,l=new Ne,u=new Ne),d||(g=0,p=0,m=0,v=0);var x=t.extractPoints(h),w=x.shape,S=x.holes;if(!Ws.isClockWise(w)){w=w.reverse();for(var M=0,E=S.length;M<E;M++){var T=S[M];Ws.isClockWise(T)&&(S[M]=T.reverse())}}for(var P=Ws.triangulateShape(w,S),k=w,L=0,C=S.length;L<C;L++){var R=S[L];w=w.concat(R)}function N(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().addScaledVector(e,n)}var O=w.length,I=P.length;function D(t,e,n){var r,i,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s,h=o*u-s*l;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),A=Math.sqrt(l*l+u*u),d=e.x-s/f,p=e.y+o/f,m=((n.x-u/A-d)*u-(n.y+l/A-p)*l)/(o*u-s*l),v=(r=d+o*m-t.x)*r+(i=p+s*m-t.y)*i;if(v<=2)return new se(r,i);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(u)&&(g=!0),g?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new se(r/a,i/a)}for(var B=[],q=0,F=k.length,U=F-1,z=q+1;q<F;q++,U++,z++)U===F&&(U=0),z===F&&(z=0),B[q]=D(k[q],k[U],k[z]);for(var Z,j=[],H=B.concat(),G=0,V=S.length;G<V;G++){var W=S[G];Z=[];for(var X=0,Y=W.length,Q=Y-1,K=X+1;X<Y;X++,Q++,K++)Q===Y&&(Q=0),K===Y&&(K=0),Z[X]=D(W[X],W[Q],W[K]);j.push(Z),H=H.concat(Z)}for(var J=0;J<g;J++){for(var $=J/g,tt=p*Math.cos($*Math.PI/2),et=m*Math.sin($*Math.PI/2)+v,nt=0,rt=k.length;nt<rt;nt++){var it=N(k[nt],B[nt],et);Ct(it.x,it.y,-tt)}for(var at=0,ot=S.length;at<ot;at++){var st=S[at];Z=j[at];for(var lt=0,ut=st.length;lt<ut;lt++){var ct=N(st[lt],Z[lt],et);Ct(ct.x,ct.y,-tt)}}}for(var ht=m+v,ft=0;ft<O;ft++){var At=d?N(w[ft],H[ft],ht):w[ft];_?(l.copy(n.normals[0]).multiplyScalar(At.x),r.copy(n.binormals[0]).multiplyScalar(At.y),u.copy(e[0]).add(l).add(r),Ct(u.x,u.y,u.z)):Ct(At.x,At.y,0)}for(var dt=1;dt<=f;dt++)for(var pt=0;pt<O;pt++){var mt=d?N(w[pt],H[pt],ht):w[pt];_?(l.copy(n.normals[dt]).multiplyScalar(mt.x),r.copy(n.binormals[dt]).multiplyScalar(mt.y),u.copy(e[dt]).add(l).add(r),Ct(u.x,u.y,u.z)):Ct(mt.x,mt.y,A/f*dt)}for(var vt=g-1;vt>=0;vt--){for(var gt=vt/g,yt=p*Math.cos(gt*Math.PI/2),bt=m*Math.sin(gt*Math.PI/2)+v,_t=0,xt=k.length;_t<xt;_t++){var wt=N(k[_t],B[_t],bt);Ct(wt.x,wt.y,A+yt)}for(var St=0,Mt=S.length;St<Mt;St++){var Et=S[St];Z=j[St];for(var Tt=0,Pt=Et.length;Tt<Pt;Tt++){var kt=N(Et[Tt],Z[Tt],bt);_?Ct(kt.x,kt.y+e[f-1].y,e[f-1].x+yt):Ct(kt.x,kt.y,A+yt)}}}function Lt(t,e){for(var n=t.length;--n>=0;){var r=n,i=n-1;i<0&&(i=t.length-1);for(var a=0,o=f+2*g;a<o;a++){var s=O*a,l=O*(a+1);Nt(e+r+s,e+i+s,e+i+l,e+r+l)}}}function Ct(t,e,n){c.push(t),c.push(e),c.push(n)}function Rt(t,e,n){Ot(t),Ot(e),Ot(n);var r=o.length/3,i=b.generateTopUV(a,o,r-3,r-2,r-1);It(i[0]),It(i[1]),It(i[2])}function Nt(t,e,n,r){Ot(t),Ot(e),Ot(r),Ot(e),Ot(n),Ot(r);var i=o.length/3,s=b.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);It(s[0]),It(s[1]),It(s[3]),It(s[1]),It(s[2]),It(s[3])}function Ot(t){o.push(c[3*t+0]),o.push(c[3*t+1]),o.push(c[3*t+2])}function It(t){s.push(t.x),s.push(t.y)}!function(){var t=o.length/3;if(d){for(var e=0,n=O*e,r=0;r<I;r++){var i=P[r];Rt(i[2]+n,i[1]+n,i[0]+n)}n=O*(e=f+2*g);for(var s=0;s<I;s++){var l=P[s];Rt(l[0]+n,l[1]+n,l[2]+n)}}else{for(var u=0;u<I;u++){var c=P[u];Rt(c[2],c[1],c[0])}for(var h=0;h<I;h++){var A=P[h];Rt(A[0]+O*f,A[1]+O*f,A[2]+O*f)}}a.addGroup(t,o.length/3-t,0)}(),function(){var t=o.length/3,e=0;Lt(k,e),e+=k.length;for(var n=0,r=S.length;n<r;n++){var i=S[n];Lt(i,e),e+=i.length}a.addGroup(t,o.length/3-t,1)}()}return t.setAttribute("position",new lr(o,3)),t.setAttribute("uv",new lr(s,2)),t.computeVertexNormals(),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);n.options=Object.assign({},e),void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}}],[{key:"fromJSON",value:function(t,e){for(var r=[],i=0,a=t.shapes.length;i<a;i++){var o=e[t.shapes[i]];r.push(o)}var s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new ms[s.type]).fromJSON(s)),new n(r,t.options)}}]),n}(mr),Ks={generateTopUV:function(t,e,n,r,i){var a=e[3*n],o=e[3*n+1],s=e[3*r],l=e[3*r+1],u=e[3*i],c=e[3*i+1];return[new se(a,o),new se(s,l),new se(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*r],c=e[3*r+1],h=e[3*r+2],f=e[3*i],A=e[3*i+1],d=e[3*i+2],p=e[3*a],m=e[3*a+1],v=e[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new se(o,1-l),new se(u,1-h),new se(f,1-d),new se(p,1-v)]:[new se(s,1-l),new se(c,1-h),new se(A,1-d),new se(m,1-v)]}};var Js=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,k.Z)(this,n),(t=e.call(this)).type="SphereGeometry",t.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],A=new Ne,d=new Ne,p=[],m=[],v=[],g=[],y=0;y<=a;y++){var b=[],_=y/a,x=0;0===y&&0===l?x=.5/i:y===a&&c===Math.PI&&(x=-.5/i);for(var w=0;w<=i;w++){var S=w/i;A.x=-r*Math.cos(o+S*s)*Math.sin(l+_*u),A.y=r*Math.cos(l+_*u),A.z=r*Math.sin(o+S*s)*Math.sin(l+_*u),m.push(A.x,A.y,A.z),d.copy(A).normalize(),v.push(d.x,d.y,d.z),g.push(S+x,1-_),b.push(h++)}f.push(b)}for(var M=0;M<a;M++)for(var E=0;E<i;E++){var T=f[M][E+1],P=f[M][E],L=f[M+1][E],C=f[M+1][E+1];(0!==M||l>0)&&p.push(T,P,C),(M!==a-1||c<Math.PI)&&p.push(P,L,C)}return t.setIndex(p),t.setAttribute("position",new lr(m,3)),t.setAttribute("normal",new lr(v,3)),t.setAttribute("uv",new lr(g,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new n(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}]),n}(mr),$s=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ds(new Ne(-1,-1,0),new Ne(-1,1,0),new Ne(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,k.Z)(this,n),(t=e.call(this)).type="TubeGeometry",t.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);t.tangents=l.tangents,t.normals=l.normals,t.binormals=l.binormals;var u=new Ne,c=new Ne,h=new se,f=new Ne,A=[],d=[],p=[],m=[];function v(t){f=r.getPointAt(t/i,f);for(var e=l.normals[t],n=l.binormals[t],s=0;s<=o;s++){var h=s/o*Math.PI*2,p=Math.sin(h),m=-Math.cos(h);c.x=m*e.x+p*n.x,c.y=m*e.y+p*n.y,c.z=m*e.z+p*n.z,c.normalize(),d.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,A.push(u.x,u.y,u.z)}}return function(){for(var t=0;t<i;t++)v(t);v(!1===s?i:0),function(){for(var t=0;t<=i;t++)for(var e=0;e<=o;e++)h.x=t/i,h.y=e/o,p.push(h.x,h.y)}(),function(){for(var t=1;t<=i;t++)for(var e=1;e<=o;e++){var n=(o+1)*(t-1)+(e-1),r=(o+1)*t+(e-1),a=(o+1)*t+e,s=(o+1)*(t-1)+e;m.push(n,r,s),m.push(r,a,s)}}()}(),t.setIndex(m),t.setAttribute("position",new lr(A,3)),t.setAttribute("normal",new lr(d,3)),t.setAttribute("uv",new lr(p,2)),t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.path=this.parameters.path.toJSON(),t}}],[{key:"fromJSON",value:function(t){return new n((new ms[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}]),n}(mr),tl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,k.Z)(this,n),(t=e.call(this)).type="WireframeGeometry",t.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Ne,s=new Ne;if(null!==r.index){var l=r.attributes.position,u=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,f=c.length;h<f;++h)for(var A=c[h],d=A.start,p=d,m=d+A.count;p<m;p+=3)for(var v=0;v<3;v++){var g=u.getX(p+v),y=u.getX(p+(v+1)%3);o.fromBufferAttribute(l,g),s.fromBufferAttribute(l,y),!0===el(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var b=r.attributes.position,_=0,x=b.count/3;_<x;_++)for(var w=0;w<3;w++){var S=3*_+w,M=3*_+(w+1)%3;o.fromBufferAttribute(b,S),s.fromBufferAttribute(b,M),!0===el(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}t.setAttribute("position",new lr(i,3))}return t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}]),n}(mr);function el(t,e,n){var r="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z),i="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var nl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new tr(16777215),r.specular=new tr(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new tr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new se(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=j,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Yn),rl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),(r=e.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new tr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new tr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new se(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=j,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(t),r}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}]),n}(Yn);function il(t,e,n){return ol(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)}function al(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function ol(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var sl=function(){function t(e,n,r,i){(0,k.Z)(this,t),this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,L.Z)(t,[{key:"evaluate",value:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,t<(r=e[++n]))break e}a=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,t>=(i=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),t}(),ll=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a){var o;return(0,k.Z)(this,n),(o=e.call(this,t,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:kt,endingEnd:kt},o}return(0,L.Z)(n,[{key:"intervalChanged_",value:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Lt:i=t,o=2*e-n;break;case Ct:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Lt:a=t,s=2*n-e;break;case Ct:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,A=(n-e)/(r-e),d=A*A,p=d*A,m=-h*p+2*h*d-h*A,v=(1+h)*p+(-1.5-2*h)*d+(-.5+h)*A+1,g=(-1-f)*p+(1.5+f)*d+.5*A,y=f*p-f*d,b=0;b!==o;++b)i[b]=m*a[u+b]+v*a[l+b]+g*a[s+b]+y*a[c+b];return i}}]),n}(sl),ul=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a){return(0,k.Z)(this,n),e.call(this,t,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(r-e),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}]),n}(sl),cl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a){return(0,k.Z)(this,n),e.call(this,t,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(t){return this.copySampleValue_(t-1)}}]),n}(sl),hl=function(){function t(e,n,r,i){if((0,k.Z)(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=al(n,this.TimeBufferType),this.values=al(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,L.Z)(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new cl(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new ul(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new ll(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case Et:e=this.InterpolantFactoryMethodDiscrete;break;case Tt:e=this.InterpolantFactoryMethodLinear;break;case Pt:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Et;case this.InterpolantFactoryMethodLinear:return Tt;case this.InterpolantFactoryMethodSmooth:return Pt}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this}},{key:"trim",value:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=il(n,i,a),this.values=il(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==r&&ol(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=il(this.times),e=il(this.values),n=this.getValueSize(),r=this.getInterpolation()===Pt,i=t.length-1,a=1,o=1;o<i;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,f=0;f!==n;++f){var A=e[u+f];if(A!==e[c+f]||A!==e[h+f]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var d=o*n,p=a*n,m=0;m!==n;++m)e[p+m]=e[d+m]}++a}}if(i>0){t[a]=t[i];for(var v=i*n,g=a*n,y=0;y!==n;++y)e[g+y]=e[v+y];++a}return a!==t.length?(this.times=il(t,0,a),this.values=il(e,0,a*n)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=il(this.times,0),e=il(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(t){var e,n=t.constructor;if(n.toJSON!==this.toJSON)e=n.toJSON(t);else{e={name:t.name,times:al(t.times,Array),values:al(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}]),t}();hl.prototype.TimeBufferType=Float32Array,hl.prototype.ValueBufferType=Float32Array,hl.prototype.DefaultInterpolation=Tt;var fl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(hl);fl.prototype.ValueTypeName="bool",fl.prototype.ValueBufferType=Array,fl.prototype.DefaultInterpolation=Et,fl.prototype.InterpolantFactoryMethodLinear=void 0,fl.prototype.InterpolantFactoryMethodSmooth=void 0;var Al=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(hl);Al.prototype.ValueTypeName="color";var dl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(hl);dl.prototype.ValueTypeName="number";var pl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a){return(0,k.Z)(this,n),e.call(this,t,r,i,a)}return(0,L.Z)(n,[{key:"interpolate_",value:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(r-e),l=t*o,u=l+o;l!==u;l+=4)Re.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(sl),ml=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new pl(this.times,this.values,this.getValueSize(),t)}}]),n}(hl);ml.prototype.ValueTypeName="quaternion",ml.prototype.DefaultInterpolation=Tt,ml.prototype.InterpolantFactoryMethodSmooth=void 0;var vl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(hl);vl.prototype.ValueTypeName="string",vl.prototype.ValueBufferType=Array,vl.prototype.DefaultInterpolation=Et,vl.prototype.InterpolantFactoryMethodLinear=void 0,vl.prototype.InterpolantFactoryMethodSmooth=void 0;var gl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){return(0,k.Z)(this,n),e.apply(this,arguments)}return(0,L.Z)(n)}(hl);gl.prototype.ValueTypeName="vector";var yl={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},bl=(0,L.Z)((function t(e,n,r){(0,k.Z)(this,t);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(t){s++,!1===a&&void 0!==i.onStart&&i.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){var e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var r=u[e],i=u[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return i}return null}})),_l=new bl,xl=function(){function t(e){(0,k.Z)(this,t),this.manager=void 0!==e?e:_l,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,L.Z)(t,[{key:"load",value:function(){}},{key:"loadAsync",value:function(t,e){var n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),t}();xl.DEFAULT_MATERIAL_NAME="__DEFAULT";var wl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){return(0,k.Z)(this,n),e.call(this,t)}return(0,L.Z)(n,[{key:"load",value:function(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=yl.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;var o=he("img");function s(){u(),yl.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){u(),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o}}]),n}(xl),Sl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){return(0,k.Z)(this,n),e.call(this,t)}return(0,L.Z)(n,[{key:"load",value:function(t,e,n,r){var i=new Te,a=new wl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}]),n}(xl),Ml=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,k.Z)(this,n),(r=e.call(this)).isLight=!0,r.type="Light",r.color=new tr(t),r.intensity=i,r}return(0,L.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),n}(In),El=new cn,Tl=new Ne,Pl=new Ne,kl=function(){function t(e){(0,k.Z)(this,t),this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new se(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ti,this._frameExtents=new se(1,1),this._viewportCount=1,this._viewports=[new Pe(0,0,1,1)]}return(0,L.Z)(t,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,n=this.matrix;Tl.setFromMatrixPosition(t.matrixWorld),e.position.copy(Tl),Pl.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Pl),e.updateMatrixWorld(),El.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(El),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(El)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),t}(),Ll=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this,new di(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,t}return(0,L.Z)(n)}(kl),Cl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;return(0,k.Z)(this,n),(i=e.call(this,t,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(In.DEFAULT_UP),i.updateMatrix(),i.target=new In,i.shadow=new Ll,i}return(0,L.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(Ml),Rl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;return(0,k.Z)(this,n),(i=e.call(this,t,r)).isAmbientLight=!0,i.type="AmbientLight",i}return(0,L.Z)(n)}(Ml),Nl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).isInstancedBufferGeometry=!0,t.type="InstancedBufferGeometry",t.instanceCount=1/0,t}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.instanceCount=t.instanceCount,this}},{key:"toJSON",value:function(){var t=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}]),n}(mr),Ol=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,k.Z)(this,t),this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,L.Z)(t,[{key:"start",value:function(){this.startTime=Il(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=Il();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}();function Il(){return("undefined"===typeof performance?Date:performance).now()}var Dl="\\[\\]\\.:\\/",Bl=new RegExp("["+Dl+"]","g"),ql="[^"+Dl+"]",Fl="[^"+Dl.replace("\\.","")+"]",Ul=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ql)+/(WCOD+)?/.source.replace("WCOD",Fl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ql)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ql)+"$"),zl=["material","materials","bones","map"],Zl=function(){function t(e,n,r){(0,k.Z)(this,t);var i=r||jl.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}return(0,L.Z)(t,[{key:"getValue",value:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}},{key:"setValue",value:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}},{key:"bind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}},{key:"unbind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}]),t}(),jl=function(){function t(e,n,r){(0,k.Z)(this,t),this.path=n,this.parsedPath=r||t.parseTrackName(n),this.node=t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,L.Z)(t,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(t,e){t[e]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]}},{key:"_getValue_arrayElement",value:function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(t,e){this.resolvedProperty.toArray(t,e)}},{key:"_setValue_direct",value:function(t,e){this.targetObject[this.propertyName]=t[e]}},{key:"_setValue_direct_setNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]}},{key:"_setValue_array_setNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(t,e){this.resolvedProperty.fromArray(t,e)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(t,e){this.bind(),this.getValue(t,e)}},{key:"_setValue_unbound",value:function(t,e){this.bind(),this.setValue(t,e)}},{key:"bind",value:function(){var e=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(e||(e=t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=n.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var l=e[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(e,n,r){return e&&e.isAnimationObjectGroup?new t.Composite(e,n,r):new t(e,n,r)}},{key:"sanitizeNodeName",value:function(t){return t.replace(/\s/g,"_").replace(Bl,"")}},{key:"parseTrackName",value:function(t){var e=Ul.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==zl.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}},{key:"findNode",value:function(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===e||i.uuid===e)return i;var a=t(i.children);if(a)return a}return null}(t.children);if(r)return r}return null}}]),t}();jl.Composite=Zl,jl.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},jl.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},jl.prototype.GetterByBindingType=[jl.prototype._getValue_direct,jl.prototype._getValue_array,jl.prototype._getValue_arrayElement,jl.prototype._getValue_toArray],jl.prototype.SetterByBindingTypeAndVersioning=[[jl.prototype._setValue_direct,jl.prototype._setValue_direct_setNeedsUpdate,jl.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jl.prototype._setValue_array,jl.prototype._setValue_array_setNeedsUpdate,jl.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jl.prototype._setValue_arrayElement,jl.prototype._setValue_arrayElement_setNeedsUpdate,jl.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jl.prototype._setValue_fromArray,jl.prototype._setValue_fromArray_setNeedsUpdate,jl.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);var Hl=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,k.Z)(this,n),(i=e.call(this,t,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return(0,L.Z)(n,[{key:"copy",value:function(t){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"clone",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"clone",this).call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e}},{key:"toJSON",value:function(t){var e=(0,x.Z)((0,w.Z)(n.prototype),"toJSON",this).call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}]),n}(Bo),Gl=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,k.Z)(this,t),this.ray=new un(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new _n,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,L.Z)(t,[{key:"set",value:function(t,e){this.ray.set(t,e)}},{key:"setFromCamera",value:function(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}},{key:"intersectObject",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Wl(t,this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),e.sort(Vl),e}},{key:"intersectObjects",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=t.length;r<i;r++)Wl(t[r],this,n,e);return n.sort(Vl),n}}]),t}();function Vl(t,e){return t.distance-e.distance}function Wl(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r)for(var i=t.children,a=0,o=i.length;a<o;a++)Wl(i[a],e,n,!0)}var Xl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,k.Z)(this,t),this.radius=e,this.phi=n,this.theta=r,this}return(0,L.Z)(t,[{key:"set",value:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Jt(e/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Yl=new Ne,Ql=new Ne,Kl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ne,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne;(0,k.Z)(this,t),this.start=e,this.end=n}return(0,L.Z)(t,[{key:"set",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:"copy",value:function(t){return this.start.copy(t.start),this.end.copy(t.end),this}},{key:"getCenter",value:function(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(t){return t.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function(t,e){Yl.subVectors(t,this.start),Ql.subVectors(this.end,this.start);var n=Ql.dot(Ql),r=Ql.dot(Yl)/n;return e&&(r=Jt(r,0,1)),r}},{key:"closestPointToPoint",value:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:"equals",value:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();var Jl=function(){function t(){(0,k.Z)(this,t),this.type="ShapePath",this.color=new tr,this.subPaths=[],this.currentPath=null}return(0,L.Z)(t,[{key:"moveTo",value:function(t,e){return this.currentPath=new gs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}},{key:"lineTo",value:function(t,e){return this.currentPath.lineTo(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this}},{key:"bezierCurveTo",value:function(t,e,n,r,i,a){return this.currentPath.bezierCurveTo(t,e,n,r,i,a),this}},{key:"splineThru",value:function(t){return this.currentPath.splineThru(t),this}},{key:"toShapes",value:function(t){function e(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],l=-l,s=e[i],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=u*(t.x-o.x)-l*(t.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n,r,i,a=Ws.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new _s).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=t?!l:l;var u,c,h=[],f=[],A=[],d=0;f[d]=void 0,A[d]=[];for(var p=0,m=o.length;p<m;p++)n=a(u=(r=o[p]).getPoints()),(n=t?!n:n)?(!l&&f[d]&&d++,f[d]={s:new _s,p:u},f[d].s.curves=r.curves,l&&d++,A[d]=[]):A[d].push({h:r,p:u[0]});if(!f[0])return function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new _s;a.curves=i.curves,e.push(a)}return e}(o);if(f.length>1){for(var v=!1,g=0,y=0,b=f.length;y<b;y++)h[y]=[];for(var _=0,x=f.length;_<x;_++)for(var w=A[_],S=0;S<w.length;S++){for(var M=w[S],E=!0,T=0;T<f.length;T++)e(M.p,f[T].p)&&(_!==T&&g++,E?(E=!1,h[T].push(M)):v=!0);E&&h[_].push(M)}g>0&&!1===v&&(A=h)}for(var P=0,k=f.length;P<k;P++){i=f[P].s,s.push(i);for(var L=0,C=(c=A[P]).length;L<C;L++)i.holes.push(c[L].h)}return s}}]),t}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:C}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=C);var $l=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return(0,k.Z)(this,n),(t=e.call(this)).isCSS2DObject=!0,t.element=r,t.element.style.position="absolute",t.element.style.userSelect="none",t.element.setAttribute("draggable",!1),t.center=new se(.5,.5),t.addEventListener("removed",(function(){this.traverse((function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)}))})),t}return(0,L.Z)(n,[{key:"copy",value:function(t,e){return(0,x.Z)((0,w.Z)(n.prototype),"copy",this).call(this,t,e),this.element=t.element.cloneNode(!0),this.center=t.center,this}}]),n}(In),tu=new Ne,eu=new cn,nu=new cn,ru=new Ne,iu=new Ne,au=(0,L.Z)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,k.Z)(this,t);var n,r,i,a,o=this,s={objects:new WeakMap},l=void 0!==e.element?e.element:document.createElement("div");function u(t,e,n){if(t.isCSS2DObject){tu.setFromMatrixPosition(t.matrixWorld),tu.applyMatrix4(nu);var r=!0===t.visible&&tu.z>=-1&&tu.z<=1&&!0===t.layers.test(n.layers);if(t.element.style.display=!0===r?"":"none",!0===r){t.onBeforeRender(o,e,n);var h=t.element;h.style.transform="translate("+-100*t.center.x+"%,"+-100*t.center.y+"%)translate("+(tu.x*i+i)+"px,"+(-tu.y*a+a)+"px)",h.parentNode!==l&&l.appendChild(h),t.onAfterRender(o,e,n)}var f={distanceToCameraSquared:c(n,t)};s.objects.set(t,f)}for(var A=0,d=t.children.length;A<d;A++)u(t.children[A],e,n)}function c(t,e){return ru.setFromMatrixPosition(t.matrixWorld),iu.setFromMatrixPosition(e.matrixWorld),ru.distanceToSquared(iu)}l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:n,height:r}},this.render=function(t,e){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),eu.copy(e.matrixWorldInverse),nu.multiplyMatrices(e.projectionMatrix,eu),u(t,t,e),function(t){for(var e=function(t){var e=[];return t.traverse((function(t){t.isCSS2DObject&&e.push(t)})),e}(t).sort((function(t,e){return t.renderOrder!==e.renderOrder?e.renderOrder-t.renderOrder:s.objects.get(t).distanceToCameraSquared-s.objects.get(e).distanceToCameraSquared})),n=e.length,r=0,i=e.length;r<i;r++)e[r].element.style.zIndex=n-r}(t)},this.setSize=function(t,e){i=(n=t)/2,a=(r=e)/2,l.style.width=t+"px",l.style.height=e+"px"}}));var ou=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},su="object"==typeof global&&global&&global.Object===Object&&global,lu="object"==typeof self&&self&&self.Object===Object&&self,uu=su||lu||Function("return this")(),cu=function(){return uu.Date.now()},hu=/\s/;var fu=function(t){for(var e=t.length;e--&&hu.test(t.charAt(e)););return e},Au=/^\s+/;var du=function(t){return t?t.slice(0,fu(t)+1).replace(Au,""):t},pu=uu.Symbol,mu=Object.prototype,vu=mu.hasOwnProperty,gu=mu.toString,yu=pu?pu.toStringTag:void 0;var bu=function(t){var e=vu.call(t,yu),n=t[yu];try{t[yu]=void 0;var r=!0}catch(a){}var i=gu.call(t);return r&&(e?t[yu]=n:delete t[yu]),i},_u=Object.prototype.toString;var xu=function(t){return _u.call(t)},wu=pu?pu.toStringTag:void 0;var Su=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":wu&&wu in Object(t)?bu(t):xu(t)};var Mu=function(t){return null!=t&&"object"==typeof t};var Eu=function(t){return"symbol"==typeof t||Mu(t)&&"[object Symbol]"==Su(t)},Tu=/^[-+]0x[0-9a-f]+$/i,Pu=/^0b[01]+$/i,ku=/^0o[0-7]+$/i,Lu=parseInt;var Cu=function(t){if("number"==typeof t)return t;if(Eu(t))return NaN;if(ou(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ou(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=du(t);var n=Pu.test(t);return n||ku.test(t)?Lu(t.slice(2),n?2:8):Tu.test(t)?NaN:+t},Ru=Math.max,Nu=Math.min;var Ou=function(t,e,n){var r,i,a,o,s,l,u=0,c=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function A(e){var n=r,a=i;return r=i=void 0,u=e,o=t.apply(a,n)}function d(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-u>=a}function p(){var t=cu();if(d(t))return m(t);s=setTimeout(p,function(t){var n=e-(t-l);return h?Nu(n,a-(t-u)):n}(t))}function m(t){return s=void 0,f&&r?A(t):(r=i=void 0,o)}function v(){var t=cu(),n=d(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(p,e),c?A(t):o}(l);if(h)return clearTimeout(s),s=setTimeout(p,e),A(l)}return void 0===s&&(s=setTimeout(p,e)),o}return e=Cu(e)||0,ou(n)&&(c=!!n.leading,a=(h="maxWait"in n)?Ru(Cu(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:m(cu())},v};function Iu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fu(r.key),r)}}function Du(t,e,n){return e&&Iu(t.prototype,e),n&&Iu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fu(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var Uu=Du((function t(e,n){var r=n.default,i=void 0===r?null:r,a=n.triggerUpdate,o=void 0===a||a,s=n.onChange,l=void 0===s?function(t,e){}:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=o,this.onChange=l}));function zu(t){var e=t.stateInit,n=void 0===e?function(){return{}}:e,r=t.props,i=void 0===r?{}:r,a=t.methods,o=void 0===a?{}:a,s=t.aliases,l=void 0===s?{}:s,u=t.init,c=void 0===u?function(){}:u,h=t.update,f=void 0===h?function(){}:h,A=Object.keys(i).map((function(t){return new Uu(t,i[t])}));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},n instanceof Function?n(t):n,{initialised:!1}),r={};function i(e){return a(e,t),s(),i}var a=function(t,n){c.call(i,t,e,n),e.initialised=!0},s=Ou((function(){e.initialised&&(f.call(i,e,r),r={})}),1);return A.forEach((function(t){i[t.name]=function(t){var n=t.name,a=t.triggerUpdate,o=void 0!==a&&a,l=t.onChange,u=void 0===l?function(t,e){}:l,c=t.defaultVal,h=void 0===c?null:c;return function(t){var a=e[n];if(!arguments.length)return a;var l=void 0===t?h:t;return e[n]=l,u.call(i,l,e,a),!r.hasOwnProperty(n)&&(r[n]=a),o&&s(),i}}(t)})),Object.keys(o).forEach((function(t){i[t]=function(){for(var n,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=o[t]).call.apply(n,[i,e].concat(a))}})),Object.entries(l).forEach((function(t){var e=Bu(t,2),n=e[0],r=e[1];return i[n]=i[r]})),i.resetProps=function(){return A.forEach((function(t){i[t.name](t.defaultVal)})),i},i.resetProps(),e._rerender=s,i}}var Zu=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(t){var e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Zu.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Zu.Bounce.In(2*t):.5*Zu.Bounce.Out(2*t-1)+.5}}),generatePow:function(t){return void 0===t&&(t=4),t=(t=t<Number.EPSILON?Number.EPSILON:t)>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(2*e,t)/2:(1-Math.pow(2-2*e,t))/2+.5}}}}),ju=function(){return performance.now()},Hu=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=ju()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!e;i&&!1===i.update(t,a)&&!e&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Gu={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=Gu.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[n],t[n-1],n-r):a(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,a=Gu.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-e,r-o)*i(e,o)*t[o]*a(r,o);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=Gu.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),a(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):a(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=Gu.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var a=.5*(n-t),o=.5*(r-e),s=i*i;return(2*e-2*n+a+o)*(i*s)+(-3*e+3*n-2*a-o)*s+a*i+e}}},Vu=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Wu=new Hu,Xu=function(){function t(t,e){void 0===e&&(e=Wu),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Zu.Linear.None,this._interpolationFunction=Gu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Vu.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){if(void 0===e&&(e=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=e,this},t.prototype.duration=function(t){return void 0===t&&(t=1e3),this._duration=t,this},t.prototype.dynamic=function(t){return void 0===t&&(t=!1),this._isDynamic=t,this},t.prototype.start=function(t,e){if(void 0===t&&(t=ju()),void 0===e&&(e=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||e){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,e)}return this},t.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},t.prototype._setupProperties=function(t,e,n,r,i){for(var a in n){var o=t[a],s=Array.isArray(o),l=s?"array":typeof o,u=!s&&Array.isArray(n[a]);if("undefined"!==l&&"function"!==l){if(u){if(0===(m=n[a]).length)continue;for(var c=[o],h=0,f=m.length;h<f;h+=1){var A=this._handleRelativeValue(o,m[h]);if(isNaN(A)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}c.push(A)}u&&(n[a]=c)}if("object"!==l&&!s||!o||u)("undefined"===typeof e[a]||i)&&(e[a]=o),s||(e[a]*=1),r[a]=u?n[a].slice().reverse():e[a]||0;else{e[a]=s?[]:{};var d=o;for(var p in d)e[a][p]=d[p];r[a]=s?[]:{};var m=n[a];if(!this._isDynamic){var v={};for(var p in m)v[p]=m[p];n[a]=m=v}this._setupProperties(d,e[a],m,r[a],i)}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=ju()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=ju()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return void 0===t&&(t=Wu),this._group=t,this},t.prototype.delay=function(t){return void 0===t&&(t=0),this._delayTime=t,this},t.prototype.repeat=function(t){return void 0===t&&(t=0),this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return void 0===t&&(t=!1),this._yoyo=t,this},t.prototype.easing=function(t){return void 0===t&&(t=Zu.Linear.None),this._easingFunction=t,this},t.prototype.interpolation=function(t){return void 0===t&&(t=Gu.Linear),this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=ju()),void 0===e&&(e=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(t-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,r){for(var i in n)if(void 0!==e[i]){var a=e[i]||0,o=n[i],s=Array.isArray(t[i]),l=Array.isArray(o);!s&&l?t[i]=this._interpolationFunction(o,r):"object"===typeof o&&o?this._updateProperties(t[i],a,o,r):"number"===typeof(o=this._handleRelativeValue(a,o))&&(t[i]=a+(o-a)*r)}},t.prototype._handleRelativeValue=function(t,e){return"string"!==typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"===typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),Yu=(Vu.nextId,Wu),Qu=(Yu.getAll.bind(Yu),Yu.removeAll.bind(Yu),Yu.add.bind(Yu),Yu.remove.bind(Yu),Yu.update.bind(Yu)),Ku=n(7089),Ju=function(){function t(){(0,k.Z)(this,t),this._partials=new Float64Array(32),this._n=0}return(0,L.Z)(t,[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=e[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(e[n++]=o),t=a}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(t=a,!(n=(e=r[--i])-((a=t+e)-t))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(e=2*n)==(t=a+e)-a&&(a=t)}return a}}]),t}();var $u=1e-6,tc=1e-12,ec=Math.PI,nc=ec/2,rc=ec/4,ic=2*ec,ac=180/ec,oc=ec/180,sc=Math.abs,lc=Math.atan,uc=Math.atan2,cc=Math.cos,hc=Math.ceil,fc=(Math.exp,Math.floor,Math.hypot),Ac=(Math.log,Math.pow,Math.sin),dc=Math.sign||function(t){return t>0?1:t<0?-1:0},pc=Math.sqrt;Math.tan;function mc(t){return t>1?nc:t<-1?-nc:Math.asin(t)}function vc(t){return(t=Ac(t/2))*t}function gc(){}function yc(t,e){t&&Mc.hasOwnProperty(t.type)&&Mc[t.type](t,e)}var bc,_c,xc,wc,Sc={Feature:function(t,e){yc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)yc(n[r].geometry,e)}},Mc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ec(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ec(n[r],e,0)},Polygon:function(t,e){Tc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)yc(n[r],e)}};function Ec(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Tc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ec(t[n],e,1);e.polygonEnd()}function Pc(t,e){t&&Sc.hasOwnProperty(t.type)?Sc[t.type](t,e):yc(t,e)}var kc={sphere:gc,point:gc,lineStart:function(){kc.point=Cc,kc.lineEnd=Lc},lineEnd:gc,polygonStart:gc,polygonEnd:gc};function Lc(){kc.point=kc.lineEnd=gc}function Cc(t,e){_c=t*=oc,xc=Ac(e*=oc),wc=cc(e),kc.point=Rc}function Rc(t,e){t*=oc;var n=Ac(e*=oc),r=cc(e),i=sc(t-_c),a=cc(i),o=r*Ac(i),s=wc*n-xc*r*a,l=xc*n+wc*r*a;bc.add(uc(pc(o*o+s*s),l)),_c=t,xc=n,wc=r}var Nc=[null,null],Oc={type:"LineString",coordinates:Nc};function Ic(t,e){return Nc[0]=t,Nc[1]=e,function(t){return bc=new Ju,Pc(t,kc),+bc}(Oc)}function Dc(t,e){var n=t[0]*oc,r=t[1]*oc,i=e[0]*oc,a=e[1]*oc,o=cc(r),s=Ac(r),l=cc(a),u=Ac(a),c=o*cc(n),h=o*Ac(n),f=l*cc(i),A=l*Ac(i),d=2*mc(pc(vc(a-r)+o*l*vc(i-n))),p=Ac(d),m=d?function(t){var e=Ac(t*=d)/p,n=Ac(d-t)/p,r=n*c+e*f,i=n*h+e*A,a=n*s+e*u;return[uc(i,r)*ac,uc(a,pc(r*r+i*i))*ac]}:function(){return[n*ac,r*ac]};return m.distance=d,m}function Bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gc(r.key),r)}}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qc(t)}function Fc(t,e){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fc(t,e)}function Uc(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zc(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qc(t);if(e){var i=qc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Uc(this,n)}}function Zc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||jc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(t,e){if(t){if("string"===typeof t)return Hc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hc(t,e):void 0}}function Hc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gc(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var Vc=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=[],n=null;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(r){if(n){var i=180*Ic(r,n)/Math.PI;if(i>t)for(var a=Dc(n,r),o=1/Math.ceil(i/t),s=o;s<1;)e.push(a(s)),s+=o}e.push(n=r)})),e},Wc="undefined"!==typeof window&&window.THREE?window.THREE:{BufferGeometry:mr,Float32BufferAttribute:lr},Xc=(new Wc.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Yc=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fc(t,e)}(a,t);var e,n,r,i=zc(a);function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).type="GeoJsonGeometry",e.parameters={geoJson:t,radius:n,resolution:r};var o=({Point:c,MultiPoint:function(t,e){var n={vertices:[],indices:[]};return t.map((function(t){return c(t,e)})).forEach((function(t){var e=Zc(t,1)[0];Qc(n,e)})),[n]},LineString:h,MultiLineString:function(t,e){var n={vertices:[],indices:[]};return t.map((function(t){return h(t,e)})).forEach((function(t){var e=Zc(t,1)[0];Qc(n,e)})),[n]},Polygon:f,MultiPolygon:function(t,e){var n={vertices:[],indices:[]},r={vertices:[],indices:[]};t.map((function(t){return f(t,e)})).forEach((function(t){var e=Zc(t,2),i=e[0],a=e[1];Qc(n,i),a&&Qc(r,a)}));var i=[n];return r.vertices.length&&i.push(r),i}}[t.type]||function(){return[]})(t.coordinates,n),s=[],l=[],u=0;function c(t,e){return[{vertices:Jc(t[1],t[0],e),indices:[]}]}function h(t,e){for(var n=Vc(t,r).map((function(t){var n=Zc(t,2),r=n[0];return Jc(n[1],r,e)})),i=Ku.flatten([n]).vertices,a=Math.round(i.length/3),o=[],s=1;s<a;s++)o.push(s-1,s);return[{vertices:i,indices:o}]}function f(t,e){for(var n=t.map((function(t){return Vc(t,r).map((function(t){var n=Zc(t,2),r=n[0];return Jc(n[1],r,e)}))})),i=Ku.flatten(n),a=i.vertices,o=i.holes,s=o[0]||1/0,l=a.slice(0,3*s),u=a.slice(3*s),c=new Set(o),h=Math.round(a.length/3),f=[],A=[],d=1;d<h;d++)c.has(d)||(d<s?f.push(d-1,d):A.push(d-1-s,d-s));var p=[{indices:f,vertices:l}];return o.length&&p.push({indices:A,vertices:u}),p}return o.forEach((function(t){var n=s.length;Qc({indices:s,vertices:l},t),e.addGroup(n,s.length-n,u++)})),s.length&&e.setIndex(s),l.length&&e[Xc]("position",new Wc.Float32BufferAttribute(l,3)),e}return e=a,n&&Bc(e.prototype,n),r&&Bc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Wc.BufferGeometry);function Qc(t,e){var n=Math.round(t.vertices.length/3);Kc(t.vertices,e.vertices),Kc(t.indices,e.indices.map((function(t){return t+n})))}function Kc(t,e){var n,r=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jc(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i)}}catch(a){r.e(a)}finally{r.f()}}function Jc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}function $c(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function th(t,e,n){var r=$c(t,e-$u,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function eh(t,e,n){var r=$c(t,e-$u,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function nh(){return function(){var t,e,n,r,i,a,o,s,l,u,c,h,f=10,A=f,d=90,p=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:g()}}function g(){return $c(hc(r/d)*d,n,d).map(c).concat($c(hc(s/p)*p,o,p).map(h)).concat($c(hc(e/f)*f,t,f).filter((function(t){return sc(t%d)>$u})).map(l)).concat($c(hc(a/A)*A,i,A).filter((function(t){return sc(t%p)>$u})).map(u))}return v.lines=function(){return g().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(h(o).slice(1),c(n).reverse().slice(1),h(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),v.precision(m)):[[r,s],[n,o]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),v.precision(m)):[[e,a],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(d=+t[0],p=+t[1],v):[d,p]},v.stepMinor=function(t){return arguments.length?(f=+t[0],A=+t[1],v):[f,A]},v.precision=function(f){return arguments.length?(m=+f,l=th(a,i,90),u=eh(e,t,m),c=th(s,o,90),h=eh(r,n,m),v):m},v.extentMajor([[-180,-90+$u],[180,90-$u]]).extentMinor([[-180,-80-$u],[180,80+$u]])}()()}function rh(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!t.hasAttribute("position")||!t.hasAttribute("normal")||!t.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(t){if(t.normalized||t.isInterleavedBufferAttribute){for(var e=new Float32Array(t.count*t.itemSize),n=0,r=0;n<t.count;n++)e[r++]=t.getX(n),e[r++]=t.getY(n),t.itemSize>2&&(e[r++]=t.getZ(n));return e}return t.array instanceof Float32Array?t.array:new Float32Array(t.array)}var i=t.index?t.toNonIndexed():t,a=e.generateTangents(r(i.attributes.position),r(i.attributes.normal),r(i.attributes.uv));if(n)for(var o=3;o<a.length;o+=4)a[o]*=-1;return i.setAttribute("tangent",new ar(a,4)),t!==i&&t.copy(i),t}function ih(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null!==t[0].index,r=new Set(Object.keys(t[0].attributes)),i=new Set(Object.keys(t[0].morphAttributes)),a={},o={},s=t[0].morphTargetsRelative,l=new mr,u=0,c=0;c<t.length;++c){var h=t[c],f=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var A in h.attributes){if(!r.has(A))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+A+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[A]&&(a[A]=[]),a[A].push(h.attributes[A]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(s!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var d in h.morphAttributes){if(!i.has(d))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[d]&&(o[d]=[]),o[d].push(h.morphAttributes[d])}if(e){var p=void 0;if(n)p=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;p=h.attributes.position.count}l.addGroup(u,p,c),u+=p}}if(n){for(var m=0,v=[],g=0;g<t.length;++g){for(var y=t[g].index,b=0;b<y.count;++b)v.push(y.getX(b)+m);m+=t[g].attributes.position.count}l.setIndex(v)}for(var _ in a){var x=ah(a[_]);if(!x)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+_+" attribute."),null;l.setAttribute(_,x)}for(var w in o){var S=o[w][0].length;if(0===S)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[w]=[];for(var M=0;M<S;++M){for(var E=[],T=0;T<o[w].length;++T)E.push(o[w][T][M]);var P=ah(E);if(!P)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+w+" morphAttribute."),null;l.morphAttributes[w].push(P)}}return l}function ah(t){for(var e,n,r,i=-1,a=0,o=0;o<t.length;++o){var s=t[o];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===e&&(e=s.array.constructor),e!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=s.normalized),r!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===i&&(i=s.gpuType),i!==s.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;a+=s.array.length}for(var l=new e(a),u=0,c=0;c<t.length;++c)l.set(t[c].array,u),u+=t[c].array.length;var h=new ar(l,n,r);return void 0!==i&&(h.gpuType=i),h}function oh(t){return t.isInstancedInterleavedBufferAttribute||t.isInterleavedBufferAttribute?lh(t):t.isInstancedBufferAttribute?(new Uo).copy(t):(new ar).copy(t)}function sh(t){for(var e,n=0,r=0,i=0,a=t.length;i<a;++i){var o=t[i];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,r+=o.itemSize}for(var s=new Bo(new e(n),r),l=0,u=[],c=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],f=0,A=t.length;f<A;f++){var d=t[f],p=d.itemSize,m=d.count,v=new Fo(s,p,l,d.normalized);u.push(v),l+=p;for(var g=0;g<m;g++)for(var y=0;y<p;y++)v[h[y]](g,d[c[y]](g))}return u}function lh(t){var e,n=t.data.array.constructor,r=t.count,i=t.itemSize,a=t.normalized,o=new n(r*i);e=t.isInstancedInterleavedBufferAttribute?new Uo(o,i,a,t.meshPerAttribute):new ar(o,i,a);for(var s=0;s<r;s++)e.setX(s,t.getX(s)),i>=2&&e.setY(s,t.getY(s)),i>=3&&e.setZ(s,t.getZ(s)),i>=4&&e.setW(s,t.getW(s));return e}function uh(t){var e=t.attributes,n=t.morphTargets,r=new Map;for(var i in e){var a=e[i];a.isInterleavedBufferAttribute&&(r.has(a)||r.set(a,lh(a)),e[i]=r.get(a))}for(var o in n){var s=n[o];s.isInterleavedBufferAttribute&&(r.has(s)||r.set(s,lh(s)),n[o]=r.get(s))}}function ch(t){var e=0;for(var n in t.attributes){var r=t.getAttribute(n);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var i=t.getIndex();return e+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0}function hh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,Number.EPSILON);for(var n={},r=t.getIndex(),i=t.getAttribute("position"),a=r?r.count:i.count,o=0,s=Object.keys(t.attributes),l={},u={},c=[],h=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"],A=0,d=s.length;A<d;A++){var p=s[A],m=t.attributes[p];l[p]=new ar(new m.array.constructor(m.count*m.itemSize),m.itemSize,m.normalized);var v=t.morphAttributes[p];v&&(u[p]=new ar(new v.array.constructor(v.count*v.itemSize),v.itemSize,v.normalized))}for(var g=Math.log10(1/e),y=Math.pow(10,g),b=0;b<a;b++){for(var _=r?r.getX(b):b,x="",w=0,S=s.length;w<S;w++)for(var M=s[w],E=t.getAttribute(M),T=E.itemSize,P=0;P<T;P++)x+="".concat(~~(E[h[P]](_)*y),",");if(x in n)c.push(n[x]);else{for(var k=0,L=s.length;k<L;k++)for(var C=s[k],R=t.getAttribute(C),N=t.morphAttributes[C],O=R.itemSize,I=l[C],D=u[C],B=0;B<O;B++){var q=h[B],F=f[B];if(I[F](o,R[q](_)),N)for(var U=0,z=N.length;U<z;U++)D[U][F](o,N[U][q](_))}n[x]=o,c.push(o),o++}}var Z=t.clone();for(var j in t.attributes){var H=l[j];if(Z.setAttribute(j,new ar(H.array.slice(0,o*H.itemSize),H.itemSize,H.normalized)),j in u)for(var G=0;G<u[j].length;G++){var V=u[j][G];Z.morphAttributes[j][G]=new ar(V.array.slice(0,o*V.itemSize),V.itemSize,V.normalized)}}return Z.setIndex(c),Z}function fh(t,e){if(e===Rt)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Ot||e===Nt){var n=t.getIndex();if(null===n){var r=[],i=t.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var a=0;a<i.count;a++)r.push(a);t.setIndex(r),n=t.getIndex()}var o=n.count-2,s=[];if(e===Ot)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2===0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=t.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function Ah(t){var e=new Ne,n=new Ne,r=new Ne,i=new Ne,a=new Ne,o=new Ne,s=new Ne,l=new Ne,u=new Ne;function c(t,c,h,f,A,d,p,m){e.fromBufferAttribute(c,A),n.fromBufferAttribute(c,d),r.fromBufferAttribute(c,p);var v=t.morphTargetInfluences;if(h&&v){s.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(var g=0,y=h.length;g<y;g++){var b=v[g],_=h[g];0!==b&&(i.fromBufferAttribute(_,A),a.fromBufferAttribute(_,d),o.fromBufferAttribute(_,p),f?(s.addScaledVector(i,b),l.addScaledVector(a,b),u.addScaledVector(o,b)):(s.addScaledVector(i.sub(e),b),l.addScaledVector(a.sub(n),b),u.addScaledVector(o.sub(r),b)))}e.add(s),n.add(l),r.add(u)}t.isSkinnedMesh&&(t.applyBoneTransform(A,e),t.applyBoneTransform(d,n),t.applyBoneTransform(p,r)),m[3*A+0]=e.x,m[3*A+1]=e.y,m[3*A+2]=e.z,m[3*d+0]=n.x,m[3*d+1]=n.y,m[3*d+2]=n.z,m[3*p+0]=r.x,m[3*p+1]=r.y,m[3*p+2]=r.z}var h,f,A,d,p,m,v,g,y=t.geometry,b=t.material,_=y.index,x=y.attributes.position,w=y.morphAttributes.position,S=y.morphTargetsRelative,M=y.attributes.normal,E=y.morphAttributes.position,T=y.groups,P=y.drawRange,k=new Float32Array(x.count*x.itemSize),L=new Float32Array(M.count*M.itemSize);if(null!==_)if(Array.isArray(b))for(d=0,m=T.length;d<m;d++)for(g=T[d],p=Math.max(g.start,P.start),v=Math.min(g.start+g.count,P.start+P.count);p<v;p+=3)c(t,x,w,S,h=_.getX(p),f=_.getX(p+1),A=_.getX(p+2),k),c(t,M,E,S,h,f,A,L);else for(d=Math.max(0,P.start),m=Math.min(_.count,P.start+P.count);d<m;d+=3)c(t,x,w,S,h=_.getX(d),f=_.getX(d+1),A=_.getX(d+2),k),c(t,M,E,S,h,f,A,L);else if(Array.isArray(b))for(d=0,m=T.length;d<m;d++)for(g=T[d],p=Math.max(g.start,P.start),v=Math.min(g.start+g.count,P.start+P.count);p<v;p+=3)c(t,x,w,S,h=p,f=p+1,A=p+2,k),c(t,M,E,S,h,f,A,L);else for(d=Math.max(0,P.start),m=Math.min(x.count,P.start+P.count);d<m;d+=3)c(t,x,w,S,h=d,f=d+1,A=d+2,k),c(t,M,E,S,h,f,A,L);return{positionAttribute:x,normalAttribute:M,morphedPositionAttribute:new lr(k,3),morphedNormalAttribute:new lr(L,3)}}function dh(t){if(0===t.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),t;var e=t.groups;if(e=e.sort((function(t,e){return t.materialIndex!==e.materialIndex?t.materialIndex-e.materialIndex:t.start-e.start})),null===t.getIndex()){for(var n=t.getAttribute("position"),r=[],i=0;i<n.count;i+=3)r.push(i,i+1,i+2);t.setIndex(r)}for(var a=t.getIndex(),o=[],s=0;s<e.length;s++)for(var l=e[s],u=l.start,c=u+l.count,h=u;h<c;h++)o.push(a.getX(h));t.dispose(),t.setIndex(o);for(var f=0,A=0;A<e.length;A++){var d=e[A];d.start=f,f+=d.count}var p=e[0];t.groups=[p];for(var m=1;m<e.length;m++){var v=e[m];p.materialIndex===v.materialIndex?p.count+=v.count:(p=v,t.groups.push(p))}return t}function ph(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3,n=Math.cos(e),r=100*(1+1e-10),i=[new Ne,new Ne,new Ne],a=new Ne,o=new Ne,s=new Ne,l=new Ne;function u(t){var e=~~(t.x*r),n=~~(t.y*r),i=~~(t.z*r);return"".concat(e,",").concat(n,",").concat(i)}for(var c=t.toNonIndexed(),h=c.attributes.position,f={},A=0,d=h.count/3;A<d;A++){var p=3*A,m=i[0].fromBufferAttribute(h,p+0),v=i[1].fromBufferAttribute(h,p+1),g=i[2].fromBufferAttribute(h,p+2);a.subVectors(g,v),o.subVectors(m,v);for(var y=(new Ne).crossVectors(a,o).normalize(),b=0;b<3;b++){var _=u(i[b]);_ in f||(f[_]=[]),f[_].push(y)}}for(var x=new Float32Array(3*h.count),w=new ar(x,3,!1),S=0,M=h.count/3;S<M;S++){var E=3*S,T=i[0].fromBufferAttribute(h,E+0),P=i[1].fromBufferAttribute(h,E+1),k=i[2].fromBufferAttribute(h,E+2);a.subVectors(k,P),o.subVectors(T,P),s.crossVectors(a,o).normalize();for(var L=0;L<3;L++){var C=f[u(i[L])];l.set(0,0,0);for(var R=0,N=C.length;R<N;R++){var O=C[R];s.dot(O)>n&&l.add(O)}l.normalize(),w.setXYZ(E+L,l.x,l.y,l.z)}}return c.setAttribute("normal",w),c}function mh(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return console.warn("THREE.BufferGeometryUtils: mergeBufferGeometries() has been renamed to mergeGeometries()."),ih(t,e)}function vh(t){return console.warn("THREE.BufferGeometryUtils: mergeBufferAttributes() has been renamed to mergeAttributes()."),ah(t)}var gh=function(t){return"function"===typeof t?t:"string"===typeof t?function(e){return e[t]}:function(e){return t}};function yh(t){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(t)}var bh=/^\s+/,_h=/\s+$/;function xh(t,e){if(e=e||{},(t=t||"")instanceof xh)return t;if(!(this instanceof xh))return new xh(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(bh,"").replace(_h,"").toLowerCase();var e,n=!1;if(Fh[t])t=Fh[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=Yh.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=Yh.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=Yh.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=Yh.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=Yh.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=Yh.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=Yh.hex8.exec(t))return{r:Hh(e[1]),g:Hh(e[2]),b:Hh(e[3]),a:Xh(e[4]),format:n?"name":"hex8"};if(e=Yh.hex6.exec(t))return{r:Hh(e[1]),g:Hh(e[2]),b:Hh(e[3]),format:n?"name":"hex"};if(e=Yh.hex4.exec(t))return{r:Hh(e[1]+""+e[1]),g:Hh(e[2]+""+e[2]),b:Hh(e[3]+""+e[3]),a:Xh(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=Yh.hex3.exec(t))return{r:Hh(e[1]+""+e[1]),g:Hh(e[2]+""+e[2]),b:Hh(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==yh(t)&&(Qh(t.r)&&Qh(t.g)&&Qh(t.b)?(l=t.r,u=t.g,c=t.b,e={r:255*Zh(l,255),g:255*Zh(u,255),b:255*Zh(c,255)},o=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):Qh(t.h)&&Qh(t.s)&&Qh(t.v)?(r=Vh(t.s),i=Vh(t.v),e=function(t,e,n){t=6*Zh(t,360),e=Zh(e,100),n=Zh(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,o,a,a,s,n][l],c=[s,n,n,o,a,a][l],h=[a,a,s,n,n,o][l];return{r:255*u,g:255*c,b:255*h}}(t.h,r,i),o=!0,s="hsv"):Qh(t.h)&&Qh(t.s)&&Qh(t.l)&&(r=Vh(t.s),a=Vh(t.l),e=function(t,e,n){var r,i,a;function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=Zh(t,360),e=Zh(e,100),n=Zh(n,100),0===e)r=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*a}}(t.h,r,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));var l,u,c;return n=zh(n),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function wh(t,e,n){t=Zh(t,255),e=Zh(e,255),n=Zh(n,255);var r,i,a=Math.max(t,e,n),o=Math.min(t,e,n),s=(a+o)/2;if(a==o)r=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:s}}function Sh(t,e,n){t=Zh(t,255),e=Zh(e,255),n=Zh(n,255);var r,i,a=Math.max(t,e,n),o=Math.min(t,e,n),s=a,l=a-o;if(i=0===a?0:l/a,a==o)r=0;else{switch(a){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:s}}function Mh(t,e,n,r){var i=[Gh(Math.round(t).toString(16)),Gh(Math.round(e).toString(16)),Gh(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Eh(t,e,n,r){return[Gh(Wh(r)),Gh(Math.round(t).toString(16)),Gh(Math.round(e).toString(16)),Gh(Math.round(n).toString(16))].join("")}function Th(t,e){e=0===e?0:e||10;var n=xh(t).toHsl();return n.s-=e/100,n.s=jh(n.s),xh(n)}function Ph(t,e){e=0===e?0:e||10;var n=xh(t).toHsl();return n.s+=e/100,n.s=jh(n.s),xh(n)}function kh(t){return xh(t).desaturate(100)}function Lh(t,e){e=0===e?0:e||10;var n=xh(t).toHsl();return n.l+=e/100,n.l=jh(n.l),xh(n)}function Ch(t,e){e=0===e?0:e||10;var n=xh(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),xh(n)}function Rh(t,e){e=0===e?0:e||10;var n=xh(t).toHsl();return n.l-=e/100,n.l=jh(n.l),xh(n)}function Nh(t,e){var n=xh(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,xh(n)}function Oh(t){var e=xh(t).toHsl();return e.h=(e.h+180)%360,xh(e)}function Ih(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=xh(t).toHsl(),r=[xh(t)],i=360/e,a=1;a<e;a++)r.push(xh({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function Dh(t){var e=xh(t).toHsl(),n=e.h;return[xh(t),xh({h:(n+72)%360,s:e.s,l:e.l}),xh({h:(n+216)%360,s:e.s,l:e.l})]}function Bh(t,e,n){e=e||6,n=n||30;var r=xh(t).toHsl(),i=360/n,a=[xh(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(xh(r));return a}function qh(t,e){e=e||6;for(var n=xh(t).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/e;e--;)o.push(xh({h:r,s:i,v:a})),a=(a+s)%1;return o}xh.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=zh(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Sh(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Sh(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=wh(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=wh(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return Mh(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var a=[Gh(Math.round(t).toString(16)),Gh(Math.round(e).toString(16)),Gh(Math.round(n).toString(16)),Gh(Wh(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Zh(this._r,255))+"%",g:Math.round(100*Zh(this._g,255))+"%",b:Math.round(100*Zh(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Zh(this._r,255))+"%, "+Math.round(100*Zh(this._g,255))+"%, "+Math.round(100*Zh(this._b,255))+"%)":"rgba("+Math.round(100*Zh(this._r,255))+"%, "+Math.round(100*Zh(this._g,255))+"%, "+Math.round(100*Zh(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Uh[Mh(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+Eh(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=xh(t);n="#"+Eh(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return xh(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Lh,arguments)},brighten:function(){return this._applyModification(Ch,arguments)},darken:function(){return this._applyModification(Rh,arguments)},desaturate:function(){return this._applyModification(Th,arguments)},saturate:function(){return this._applyModification(Ph,arguments)},greyscale:function(){return this._applyModification(kh,arguments)},spin:function(){return this._applyModification(Nh,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Bh,arguments)},complement:function(){return this._applyCombination(Oh,arguments)},monochromatic:function(){return this._applyCombination(qh,arguments)},splitcomplement:function(){return this._applyCombination(Dh,arguments)},triad:function(){return this._applyCombination(Ih,[3])},tetrad:function(){return this._applyCombination(Ih,[4])}},xh.fromRatio=function(t,e){if("object"==yh(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:Vh(t[r]));t=n}return xh(t,e)},xh.equals=function(t,e){return!(!t||!e)&&xh(t).toRgbString()==xh(e).toRgbString()},xh.random=function(){return xh.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},xh.mix=function(t,e,n){n=0===n?0:n||50;var r=xh(t).toRgb(),i=xh(e).toRgb(),a=n/100;return xh({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},xh.readability=function(t,e){var n=xh(t),r=xh(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},xh.isReadable=function(t,e,n){var r,i,a=xh.readability(t,e);switch(i=!1,r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},xh.mostReadable=function(t,e,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var u=0;u<e.length;u++)(r=xh.readability(t,e[u]))>l&&(l=r,s=xh(e[u]));return xh.isReadable(t,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,xh.mostReadable(t,["#fff","#000"],n))};var Fh=xh.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Uh=xh.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(Fh);function zh(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Zh(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"===typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function jh(t){return Math.min(1,Math.max(0,t))}function Hh(t){return parseInt(t,16)}function Gh(t){return 1==t.length?"0"+t:""+t}function Vh(t){return t<=1&&(t=100*t+"%"),t}function Wh(t){return Math.round(255*parseFloat(t)).toString(16)}function Xh(t){return Hh(t)/255}var Yh=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Qh(t){return!!Yh.CSS_UNIT.exec(t)}function Kh(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||tf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t){return function(t){if(Array.isArray(t))return ef(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(t,e){if(t){if("string"===typeof t)return ef(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(t,e):void 0}}function ef(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nf(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var rf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(e instanceof Array?e.length?e:[void 0]:[e]).map((function(t){return{keyAccessor:t,isProp:!(t instanceof Function)}})),a=t.reduce((function(t,e){var r=t,a=e;return i.forEach((function(t,e){var o,s=t.keyAccessor;if(t.isProp){var l=a,u=l[s],c=Kh(l,[s].map(nf));o=u,a=c}else o=s(a,e);e+1<i.length?(r.hasOwnProperty(o)||(r[o]={}),r=r[o]):n?(r.hasOwnProperty(o)||(r[o]=[]),r[o].push(a)):r[o]=a})),t}),{});n instanceof Function&&function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(e).forEach((function(t){return e[t]=n(e[t])})):Object.values(e).forEach((function(e){return t(e,r+1)}))}(a);var o=a;return r&&(o=[],function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?o.push({keys:n,vals:e}):Object.entries(e).forEach((function(e){var r=Jh(e,2),i=r[0],a=r[1];return t(a,[].concat($h(n),[i]))}))}(a),e instanceof Array&&0===e.length&&1===o.length&&(o[0].keys=[])),o};function af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function of(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sf(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||cf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(t){return function(t){if(Array.isArray(t))return hf(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||cf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(t,e){if(t){if("string"===typeof t)return hf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hf(t,e):void 0}}function hf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ff=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function Af(t,e,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,a=n.dataBindAttr,o=void 0===a?"__data":a,s=n.idAccessor,l=n.purge,u=void 0!==l&&l,c=function(t){return t.hasOwnProperty(o)},h=e.filter((function(t){return!c(t)})),f=e.filter(c).map((function(t){return t[o]})),A=u?{enter:t,exit:f,update:[]}:function(t,e,n){var r={enter:[],update:[],exit:[]};if(n){var i=rf(t,n,!1),a=rf(e,n,!1),o=Object.assign({},i,a);Object.entries(o).forEach((function(t){var e=lf(t,2),n=e[0],o=e[1],s=i.hasOwnProperty(n)?a.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],a[n]]:o)}))}else{var s=new Set(t),l=new Set(e);new Set([].concat(uf(s),uf(l))).forEach((function(t){var e=s.has(t)?l.has(t)?"update":"exit":"enter";r[e].push("update"===e?[t,t]:t)}))}return r}(f,t,s);return A.update=A.update.map((function(t){var e=lf(t,2),n=e[0],r=e[1];return n!==r&&(r[i]=n[i],r[i][o]=r),r})),A.exit=A.exit.concat(h.map((function(t){return of({},i,t)}))),A}function df(t,e,n,r,i){var a=i.createObj,o=void 0===a?function(t){return{}}:a,s=i.updateObj,l=void 0===s?function(t,e){}:s,u=i.exitObj,c=void 0===u?function(t){}:u,h=i.objBindAttr,f=void 0===h?"__obj":h,A=i.dataBindAttr,d=void 0===A?"__data":A,p=sf(i,ff),m=Af(t,e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?af(Object(n),!0).forEach((function(e){of(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({objBindAttr:f,dataBindAttr:d},p)),v=m.enter,g=m.update;m.exit.forEach((function(t){var e=t[f];delete t[f],c(e),r(e)}));var y=function(t){var e=[];return t.forEach((function(t){var n=o(t);n&&(n[d]=t,t[f]=n,e.push(n))})),e}(v);!function(t){t.forEach((function(t){var e=t[f];e&&(e[d]=t,l(e,t))}))}([].concat(uf(v),uf(g))),y.forEach(n)}var pf=n(6253),mf=Math.sqrt(50),vf=Math.sqrt(10),gf=Math.sqrt(2);function yf(t,e,n){var r,i,a,o=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=mf?10:l>=vf?5:l>=gf?2:1;return s<0?(a=Math.pow(10,-s)/u,(r=Math.round(t*a))/a<t&&++r,(i=Math.round(e*a))/a>e&&--i,a=-a):(a=Math.pow(10,s)*u,(r=Math.round(t/a))*a<t&&++r,(i=Math.round(e/a))*a>e&&--i),i<r&&.5<=n&&n<2?yf(t,e,2*n):[r,i,a]}function bf(t,e,n){return yf(t=+t,e=+e,n=+n)[2]}function _f(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xf(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wf(t){var e,n,r;function i(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<a){if(0!==e(r,r))return a;do{var o=i+a>>>1;n(t[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==t.length?(e=_f,n=function(e,n){return _f(t(e),n)},r=function(e,n){return t(e)-n}):(e=t===_f||t===xf?t:Sf,n=t,r=t),{left:i,center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<a){if(0!==e(r,r))return a;do{var o=i+a>>>1;n(t[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function Sf(){return 0}var Mf=wf(_f),Ef=Mf.right,Tf=(Mf.left,wf((function(t){return null===t?NaN:+t})).center,Ef);function Pf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lf(){}var Cf=.7,Rf=1/Cf,Nf="\\s*([+-]?\\d+)\\s*",Of="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",If="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Df=/^#([0-9a-f]{3,8})$/,Bf=new RegExp("^rgb\\(".concat(Nf,",").concat(Nf,",").concat(Nf,"\\)$")),qf=new RegExp("^rgb\\(".concat(If,",").concat(If,",").concat(If,"\\)$")),Ff=new RegExp("^rgba\\(".concat(Nf,",").concat(Nf,",").concat(Nf,",").concat(Of,"\\)$")),Uf=new RegExp("^rgba\\(".concat(If,",").concat(If,",").concat(If,",").concat(Of,"\\)$")),zf=new RegExp("^hsl\\(".concat(Of,",").concat(If,",").concat(If,"\\)$")),Zf=new RegExp("^hsla\\(".concat(Of,",").concat(If,",").concat(If,",").concat(Of,"\\)$")),jf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hf(){return this.rgb().formatHex()}function Gf(){return this.rgb().formatRgb()}function Vf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Df.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Wf(e):3===n?new Qf(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xf(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Bf.exec(t))?new Qf(e[1],e[2],e[3],1):(e=qf.exec(t))?new Qf(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ff.exec(t))?Xf(e[1],e[2],e[3],e[4]):(e=Uf.exec(t))?Xf(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=zf.exec(t))?nA(e[1],e[2]/100,e[3]/100,1):(e=Zf.exec(t))?nA(e[1],e[2]/100,e[3]/100,e[4]):jf.hasOwnProperty(t)?Wf(jf[t]):"transparent"===t?new Qf(NaN,NaN,NaN,0):null}function Wf(t){return new Qf(t>>16&255,t>>8&255,255&t,1)}function Xf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qf(t,e,n,r)}function Yf(t,e,n,r){return 1===arguments.length?((i=t)instanceof Lf||(i=Vf(i)),i?new Qf((i=i.rgb()).r,i.g,i.b,i.opacity):new Qf):new Qf(t,e,n,null==r?1:r);var i}function Qf(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Kf(){return"#".concat(eA(this.r)).concat(eA(this.g)).concat(eA(this.b))}function Jf(){var t=$f(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(tA(this.r),", ").concat(tA(this.g),", ").concat(tA(this.b)).concat(1===t?")":", ".concat(t,")"))}function $f(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eA(t){return((t=tA(t))<16?"0":"")+t.toString(16)}function nA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new iA(t,e,n,r)}function rA(t){if(t instanceof iA)return new iA(t.h,t.s,t.l,t.opacity);if(t instanceof Lf||(t=Vf(t)),!t)return new iA;if(t instanceof iA)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new iA(o,s,l,t.opacity)}function iA(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function aA(t){return(t=(t||0)%360)<0?t+360:t}function oA(t){return Math.max(0,Math.min(1,t||0))}function sA(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function lA(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}Pf(Lf,Vf,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Hf,formatHex:Hf,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rA(this).formatHsl()},formatRgb:Gf,toString:Gf}),Pf(Qf,Yf,kf(Lf,{brighter:function(t){return t=null==t?Rf:Math.pow(Rf,t),new Qf(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Cf:Math.pow(Cf,t),new Qf(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Qf(tA(this.r),tA(this.g),tA(this.b),$f(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kf,formatHex:Kf,formatHex8:function(){return"#".concat(eA(this.r)).concat(eA(this.g)).concat(eA(this.b)).concat(eA(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Jf,toString:Jf})),Pf(iA,(function(t,e,n,r){return 1===arguments.length?rA(t):new iA(t,e,n,null==r?1:r)}),kf(Lf,{brighter:function(t){return t=null==t?Rf:Math.pow(Rf,t),new iA(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Cf:Math.pow(Cf,t),new iA(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qf(sA(t>=240?t-240:t+120,i,r),sA(t,i,r),sA(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new iA(aA(this.h),oA(this.s),oA(this.l),$f(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=$f(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(aA(this.h),", ").concat(100*oA(this.s),"%, ").concat(100*oA(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var uA=function(t){return function(){return t}};function cA(t,e){return function(n){return t+n*e}}function hA(t){return 1===(t=+t)?fA:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):uA(isNaN(e)?n:e)}}function fA(t,e){var n=e-t;return n?cA(t,n):uA(isNaN(t)?e:t)}var AA=function t(e){var n=hA(e);function r(t,e){var r=n((t=Yf(t)).r,(e=Yf(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=fA(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function dA(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Yf(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}dA((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return lA((n-r/e)*e,o,i,a,s)}})),dA((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return lA((n-r/e)*e,i,a,o,s)}}));function pA(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function mA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vA(t,e){return(mA(e)?pA:gA)(t,e)}function gA(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=MA(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function yA(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bA(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _A(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=MA(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var xA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wA=new RegExp(xA.source,"g");function SA(t,e){var n,r,i,a=xA.lastIndex=wA.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=xA.exec(t))&&(r=wA.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:bA(n,r)})),a=wA.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function MA(t,e){var n,r=typeof e;return null==e||"boolean"===r?uA(e):("number"===r?bA:"string"===r?(n=Vf(e))?(e=n,AA):SA:e instanceof Vf?AA:e instanceof Date?yA:mA(e)?pA:Array.isArray(e)?gA:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?_A:bA)(t,e)}function EA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function TA(t){return+t}var PA=[0,1];function kA(t){return t}function LA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function CA(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=LA(i,r),a=n(o,a)):(r=LA(r,i),a=n(a,o)),function(t){return a(r(t))}}function RA(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=LA(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Tf(t,e,1,r)-1;return a[n](i[n](e))}}function NA(){var t,e,n,r,i,a,o=PA,s=PA,l=MA,u=kA;function c(){var t=Math.min(o.length,s.length);return u!==kA&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?RA:CA,i=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(u(e)))}return h.invert=function(n){return u(e((a||(a=r(s,o.map(t),bA)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,TA),c()):o.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=EA,c()},h.clamp=function(t){return arguments.length?(u=!!t||kA,c()):u!==kA},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function OA(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var IA,DA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function BA(t){if(!(e=DA.exec(t)))throw new Error("invalid format: "+t);var e;return new qA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qA(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function FA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function UA(t){return(t=FA(Math.abs(t)))?t[1]:NaN}function zA(t,e){var n=FA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}BA.prototype=qA.prototype,qA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ZA={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return zA(100*t,e)},r:zA,s:function(t,e){var n=FA(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(IA=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+FA(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function jA(t){return t}var HA,GA,VA,WA=Array.prototype.map,XA=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function YA(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?jA:(e=WA.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?jA:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(WA.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=BA(t)).fill,n=t.align,h=t.sign,f=t.symbol,A=t.zero,d=t.width,p=t.comma,m=t.precision,v=t.trim,g=t.type;"n"===g?(p=!0,g="g"):ZA[g]||(void 0===m&&(m=12),v=!0,g="g"),(A||"0"===e&&"="===n)&&(A=!0,e="0",n="=");var y="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===f?a:/[%p]/.test(g)?l:"",_=ZA[g],x=/[defgprs%]/.test(g);function w(t){var i,a,l,f=y,w=b;if("c"===g)w=_(t)+w,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:_(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:u:"-"===h||"("===h?"":h)+f,w=("s"===g?XA[8+IA/3]:"")+w+(S&&"("===h?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?o+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}p&&!A&&(t=r(t,1/0));var M=f.length+t.length+w.length,E=M<d?new Array(d-M+1).join(e):"";switch(p&&A&&(t=r(E+t,E.length?d-w.length:1/0),E=""),n){case"<":t=f+t+w+E;break;case"=":t=f+E+t+w;break;case"^":t=E.slice(0,M=E.length>>1)+f+t+w+E.slice(M);break;default:t=E+f+t+w}return s(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=BA(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(UA(e)/3))),i=Math.pow(10,-r),a=XA[8+r/3];return function(t){return n(i*t)+a}}}}function QA(t,e,n,r){var i,a=function(t,e,n){n=+n;var r=(e=+e)<(t=+t),i=r?bf(e,t,n):bf(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=BA(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(UA(e)/3)))-UA(Math.abs(t)))}(a,o))||(r.precision=i),VA(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,UA(e)-UA(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-UA(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return GA(r)}function KA(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];var r=e<t,i=r?yf(e,t,n):yf(t,e,n),a=(0,_.Z)(i,3),o=a[0],s=a[1],l=a[2];if(!(s>=o))return[];var u=s-o+1,c=new Array(u);if(r)if(l<0)for(var h=0;h<u;++h)c[h]=(s-h)/-l;else for(var f=0;f<u;++f)c[f]=(s-f)*l;else if(l<0)for(var A=0;A<u;++A)c[A]=(o+A)/-l;else for(var d=0;d<u;++d)c[d]=(o+d)*l;return c}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return QA(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=bf(l,u,n))===r)return a[o]=l,a[s]=u,e(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function JA(){var t=NA()(kA,kA);return t.copy=function(){return e=t,JA().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},OA.apply(t,arguments),KA(t)}HA=YA({thousands:",",grouping:[3],currency:["$",""]}),GA=HA.format,VA=HA.formatPrefix;var $A=(0,P.Z)().mark(td);function td(t){var e,n,r;return(0,P.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=(0,b.Z)(t),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),e.e(i.t1);case 13:return i.prev=13,e.f(),i.finish(13);case 16:case"end":return i.stop()}}),$A,null,[[1,10,13,16]])}function ed(t){return Array.from(td(t))}function nd(t,e){var n,r;if(void 0===e){var i,a=(0,b.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(h){a.e(h)}finally{a.f()}}else{var s,l=-1,u=(0,b.Z)(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=(c=e(c,++l,t))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(h){u.e(h)}finally{u.f()}}return[n,r]}var rd=134217729,id=33306690738754706e-32;function ad(t,e,n,r,i){var a,o,s,l,u=e[0],c=r[0],h=0,f=0;c>u===c>-u?(a=u,u=e[++h]):(a=c,c=r[++f]);var A=0;if(h<t&&f<n)for(c>u===c>-u?(s=a-((o=u+a)-u),u=e[++h]):(s=a-((o=c+a)-c),c=r[++f]),a=o,0!==s&&(i[A++]=s);h<t&&f<n;)c>u===c>-u?(s=a-((o=a+u)-(l=o-a))+(u-l),u=e[++h]):(s=a-((o=a+c)-(l=o-a))+(c-l),c=r[++f]),a=o,0!==s&&(i[A++]=s);for(;h<t;)s=a-((o=a+u)-(l=o-a))+(u-l),u=e[++h],a=o,0!==s&&(i[A++]=s);for(;f<n;)s=a-((o=a+c)-(l=o-a))+(c-l),c=r[++f],a=o,0!==s&&(i[A++]=s);return 0===a&&0!==A||(i[A++]=a),A}function od(t){return new Float64Array(t)}var sd=22204460492503146e-32,ld=11093356479670487e-47,ud=od(4),cd=od(8),hd=od(12),fd=od(16),Ad=od(4);function dd(t,e,n,r,i,a){var o=(e-a)*(n-i),s=(t-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=33306690738754716e-32*u?l:-function(t,e,n,r,i,a,o){var s,l,u,c,h,f,A,d,p,m,v,g,y,b,_,x,w,S,M=t-i,E=n-i,T=e-a,P=r-a;h=(_=(d=M-(A=(f=rd*M)-(f-M)))*(m=P-(p=(f=rd*P)-(f-P)))-((b=M*P)-A*p-d*p-A*m))-(v=_-(w=(d=T-(A=(f=rd*T)-(f-T)))*(m=E-(p=(f=rd*E)-(f-E)))-((x=T*E)-A*p-d*p-A*m))),ud[0]=_-(v+h)+(h-w),h=(y=b-((g=b+v)-(h=g-b))+(v-h))-(v=y-x),ud[1]=y-(v+h)+(h-x),h=(S=g+v)-g,ud[2]=g-(S-h)+(v-h),ud[3]=S;var k=function(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}(4,ud),L=sd*o;if(k>=L||-k>=L)return k;if(s=t-(M+(h=t-M))+(h-i),u=n-(E+(h=n-E))+(h-i),l=e-(T+(h=e-T))+(h-a),c=r-(P+(h=r-P))+(h-a),0===s&&0===l&&0===u&&0===c)return k;if(L=ld*o+id*Math.abs(k),(k+=M*c+P*s-(T*u+E*l))>=L||-k>=L)return k;h=(_=(d=s-(A=(f=rd*s)-(f-s)))*(m=P-(p=(f=rd*P)-(f-P)))-((b=s*P)-A*p-d*p-A*m))-(v=_-(w=(d=l-(A=(f=rd*l)-(f-l)))*(m=E-(p=(f=rd*E)-(f-E)))-((x=l*E)-A*p-d*p-A*m))),Ad[0]=_-(v+h)+(h-w),h=(y=b-((g=b+v)-(h=g-b))+(v-h))-(v=y-x),Ad[1]=y-(v+h)+(h-x),h=(S=g+v)-g,Ad[2]=g-(S-h)+(v-h),Ad[3]=S;var C=ad(4,ud,4,Ad,cd);h=(_=(d=M-(A=(f=rd*M)-(f-M)))*(m=c-(p=(f=rd*c)-(f-c)))-((b=M*c)-A*p-d*p-A*m))-(v=_-(w=(d=T-(A=(f=rd*T)-(f-T)))*(m=u-(p=(f=rd*u)-(f-u)))-((x=T*u)-A*p-d*p-A*m))),Ad[0]=_-(v+h)+(h-w),h=(y=b-((g=b+v)-(h=g-b))+(v-h))-(v=y-x),Ad[1]=y-(v+h)+(h-x),h=(S=g+v)-g,Ad[2]=g-(S-h)+(v-h),Ad[3]=S;var R=ad(C,cd,4,Ad,hd);h=(_=(d=s-(A=(f=rd*s)-(f-s)))*(m=c-(p=(f=rd*c)-(f-c)))-((b=s*c)-A*p-d*p-A*m))-(v=_-(w=(d=l-(A=(f=rd*l)-(f-l)))*(m=u-(p=(f=rd*u)-(f-u)))-((x=l*u)-A*p-d*p-A*m))),Ad[0]=_-(v+h)+(h-w),h=(y=b-((g=b+v)-(h=g-b))+(v-h))-(v=y-x),Ad[1]=y-(v+h)+(h-x),h=(S=g+v)-g,Ad[2]=g-(S-h)+(v-h),Ad[3]=S;var N=ad(R,hd,4,Ad,fd);return fd[N-1]}(t,e,n,r,i,a,u)}od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(8),od(8),od(8),od(4),od(8),od(8),od(8),od(12),od(192),od(192);od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(8),od(8),od(8),od(8),od(8),od(8),od(8),od(8),od(8),od(4),od(4),od(4),od(8),od(16),od(16),od(16),od(32),od(32),od(48),od(64),od(1152),od(1152);od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(4),od(24),od(24),od(24),od(24),od(24),od(24),od(24),od(24),od(24),od(24),od(1152),od(1152),od(1152),od(1152),od(1152),od(2304),od(2304),od(3456),od(5760),od(8),od(8),od(8),od(16),od(24),od(48),od(48),od(96),od(192),od(384),od(384),od(384),od(768);od(96),od(96),od(96),od(1152);var pd=Math.pow(2,-52),md=new Uint32Array(512),vd=function(){function t(e){(0,k.Z)(this,t);var n=e.length>>1;if(n>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,L.Z)(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=t.length>>1,o=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<a;c++){var h=t[2*c],f=t[2*c+1];h<o&&(o=h),f<s&&(s=f),h>l&&(l=h),f>u&&(u=f),this._ids[c]=c}for(var A,d,p,m=(o+l)/2,v=(s+u)/2,g=1/0,y=0;y<a;y++){var b=gd(m,v,t[2*y],t[2*y+1]);b<g&&(A=y,g=b)}var _=t[2*A],x=t[2*A+1];g=1/0;for(var w=0;w<a;w++)if(w!==A){var S=gd(_,x,t[2*w],t[2*w+1]);S<g&&S>0&&(d=w,g=S)}for(var M=t[2*d],E=t[2*d+1],T=1/0,P=0;P<a;P++)if(P!==A&&P!==d){var k=bd(_,x,M,E,t[2*P],t[2*P+1]);k<T&&(p=P,T=k)}var L=t[2*p],C=t[2*p+1];if(T===1/0){for(var R=0;R<a;R++)this._dists[R]=t[2*R]-t[0]||t[2*R+1]-t[1];_d(this._ids,this._dists,0,a-1);for(var N=new Uint32Array(a),O=0,I=0,D=-1/0;I<a;I++){var B=this._ids[I];this._dists[B]>D&&(N[O++]=B,D=this._dists[B])}return this.hull=N.subarray(0,O),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(dd(_,x,M,E,L,C)<0){var q=d,F=M,U=E;d=p,M=L,E=C,p=q,L=F,C=U}var z=function(t,e,n,r,i,a){var o=n-t,s=r-e,l=i-t,u=a-e,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),A=t+(u*c-s*h)*f,d=e+(o*h-l*c)*f;return{x:A,y:d}}(_,x,M,E,L,C);this._cx=z.x,this._cy=z.y;for(var Z=0;Z<a;Z++)this._dists[Z]=gd(t[2*Z],t[2*Z+1],z.x,z.y);_d(this._ids,this._dists,0,a-1),this._hullStart=A;var j=3;n[A]=e[p]=d,n[d]=e[A]=p,n[p]=e[d]=A,r[A]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(_,x)]=A,i[this._hashKey(M,E)]=d,i[this._hashKey(L,C)]=p,this.trianglesLen=0,this._addTriangle(A,d,p,-1,-1,-1);for(var H,G,V=0;V<this._ids.length;V++){var W=this._ids[V],X=t[2*W],Y=t[2*W+1];if(!(V>0&&Math.abs(X-H)<=pd&&Math.abs(Y-G)<=pd)&&(H=X,G=Y,W!==A&&W!==d&&W!==p)){for(var Q=0,K=0,J=this._hashKey(X,Y);K<this._hashSize&&(-1===(Q=i[(J+K)%this._hashSize])||Q===n[Q]);K++);for(var $=Q=e[Q],tt=void 0;tt=n[$],dd(X,Y,t[2*$],t[2*$+1],t[2*tt],t[2*tt+1])>=0;)if(($=tt)===Q){$=-1;break}if(-1!==$){var et=this._addTriangle($,W,n[$],-1,-1,r[$]);r[W]=this._legalize(et+2),r[$]=et,j++;for(var nt=n[$];tt=n[nt],dd(X,Y,t[2*nt],t[2*nt+1],t[2*tt],t[2*tt+1])<0;)et=this._addTriangle(nt,W,tt,r[W],-1,r[nt]),r[W]=this._legalize(et+2),n[nt]=nt,j--,nt=tt;if($===Q)for(;dd(X,Y,t[2*(tt=e[$])],t[2*tt+1],t[2*$],t[2*$+1])<0;)et=this._addTriangle(tt,W,$,-1,r[$],r[tt]),this._legalize(et+2),r[tt]=et,n[$]=$,j--,$=tt;this._hullStart=e[W]=$,n[$]=e[nt]=W,n[W]=nt,i[this._hashKey(X,Y)]=W,i[this._hashKey(t[2*$],t[2*$+1])]=$}}}this.hull=new Uint32Array(j);for(var rt=0,it=this._hullStart;rt<j;rt++)this.hull[rt]=it,it=n[it];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor(function(t,e){var n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(t){for(var e=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[t],s=t-t%3;if(a=s+(t+2)%3,-1!==o){var l=o-o%3,u=s+(t+1)%3,c=l+(o+2)%3,h=e[a],f=e[t],A=e[u],d=e[c];if(yd(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*A],r[2*A+1],r[2*d],r[2*d+1])){e[t]=d,e[o]=h;var p=n[c];if(-1===p){var m=this._hullStart;do{if(this._hullTri[m]===c){this._hullTri[m]=t;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(t,p),this._link(o,n[a]),this._link(a,c);var v=l+(o+1)%3;i<md.length&&(md[i++]=v)}else{if(0===i)break;t=md[--i]}}else{if(0===i)break;t=md[--i]}}return a}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wd,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sd,i=e.length,a=new Float64Array(2*i),o=0;o<i;o++){var s=e[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new t(a)}}]),t}();function gd(t,e,n,r){var i=t-n,a=e-r;return i*i+a*a}function yd(t,e,n,r,i,a,o,s){var l=t-o,u=e-s,c=n-o,h=r-s,f=i-o,A=a-s,d=c*c+h*h,p=f*f+A*A;return l*(h*p-d*A)-u*(c*p-d*f)+(l*l+u*u)*(c*A-h*f)<0}function bd(t,e,n,r,i,a){var o=n-t,s=r-e,l=i-t,u=a-e,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),A=(u*c-s*h)*f,d=(o*h-l*c)*f;return A*A+d*d}function _d(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=t[i],o=e[a],s=i-1;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=a}else{var l=n+1,u=r;xd(t,n+r>>1,l),e[t[n]]>e[t[r]]&&xd(t,n,r),e[t[l]]>e[t[r]]&&xd(t,l,r),e[t[n]]>e[t[l]]&&xd(t,n,l);for(var c=t[l],h=e[c];;){do{l++}while(e[t[l]]<h);do{u--}while(e[t[u]]>h);if(u<l)break;xd(t,l,u)}t[n+1]=t[u],t[u]=c,r-l+1>=u-n?(_d(t,e,l,r),_d(t,e,n,u-1)):(_d(t,e,n,u-1),_d(t,e,l,r))}}function xd(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function wd(t){return t[0]}function Sd(t){return t[1]}function Md(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r,i=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),a="Feature"===(r=e).type?r.geometry:r,o=a.type,s=e.bbox,l=a.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===o&&(l=[l]);for(var u=!1,c=0;c<l.length&&!u;c++)if(Ed(i,l[c][0],n.ignoreBoundary)){for(var h=!1,f=1;f<l[c].length&&!h;)Ed(i,l[c][f],!n.ignoreBoundary)&&(h=!0),f++;h||(u=!0)}return u}function Ed(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,a=e.length-1;i<e.length;a=i++){var o=e[i][0],s=e[i][1],l=e[a][0],u=e[a][1];if(t[1]*(o-l)+s*(l-t[0])+u*(t[0]-o)===0&&(o-t[0])*(l-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!==u>t[1]&&t[0]<(l-o)*(t[1]-s)/(u-s)+o&&(r=!r)}return r}var Td,Pd,kd,Ld,Cd,Rd,Nd,Od,Id,Dd,Bd,qd,Fd,Ud,zd,Zd,jd=new Ju,Hd=new Ju,Gd={point:gc,lineStart:gc,lineEnd:gc,polygonStart:function(){jd=new Ju,Gd.lineStart=Vd,Gd.lineEnd=Wd},polygonEnd:function(){var t=+jd;Hd.add(t<0?ic+t:t),this.lineStart=this.lineEnd=this.point=gc},sphere:function(){Hd.add(ic)}};function Vd(){Gd.point=Xd}function Wd(){Yd(Td,Pd)}function Xd(t,e){Gd.point=Yd,Td=t,Pd=e,kd=t*=oc,Ld=cc(e=(e*=oc)/2+rc),Cd=Ac(e)}function Yd(t,e){var n=(t*=oc)-kd,r=n>=0?1:-1,i=r*n,a=cc(e=(e*=oc)/2+rc),o=Ac(e),s=Cd*o,l=Ld*a+s*cc(i),u=s*r*Ac(i);jd.add(uc(u,l)),kd=t,Ld=a,Cd=o}function Qd(t){return[uc(t[1],t[0]),mc(t[2])]}function Kd(t){var e=t[0],n=t[1],r=cc(n);return[r*cc(e),r*Ac(e),Ac(n)]}function Jd(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $d(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tp(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ep(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function np(t){var e=pc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var rp={point:ip,lineStart:op,lineEnd:sp,polygonStart:function(){rp.point=lp,rp.lineStart=up,rp.lineEnd=cp,Ud=new Ju,Gd.polygonStart()},polygonEnd:function(){Gd.polygonEnd(),rp.point=ip,rp.lineStart=op,rp.lineEnd=sp,jd<0?(Rd=-(Od=180),Nd=-(Id=90)):Ud>$u?Id=90:Ud<-$u&&(Nd=-90),Zd[0]=Rd,Zd[1]=Od},sphere:function(){Rd=-(Od=180),Nd=-(Id=90)}};function ip(t,e){zd.push(Zd=[Rd=t,Od=t]),e<Nd&&(Nd=e),e>Id&&(Id=e)}function ap(t,e){var n=Kd([t*oc,e*oc]);if(Fd){var r=$d(Fd,n),i=$d([r[1],-r[0],0],r);np(i),i=Qd(i);var a,o=t-Dd,s=o>0?1:-1,l=i[0]*ac*s,u=sc(o)>180;u^(s*Dd<l&&l<s*t)?(a=i[1]*ac)>Id&&(Id=a):u^(s*Dd<(l=(l+360)%360-180)&&l<s*t)?(a=-i[1]*ac)<Nd&&(Nd=a):(e<Nd&&(Nd=e),e>Id&&(Id=e)),u?t<Dd?hp(Rd,t)>hp(Rd,Od)&&(Od=t):hp(t,Od)>hp(Rd,Od)&&(Rd=t):Od>=Rd?(t<Rd&&(Rd=t),t>Od&&(Od=t)):t>Dd?hp(Rd,t)>hp(Rd,Od)&&(Od=t):hp(t,Od)>hp(Rd,Od)&&(Rd=t)}else zd.push(Zd=[Rd=t,Od=t]);e<Nd&&(Nd=e),e>Id&&(Id=e),Fd=n,Dd=t}function op(){rp.point=ap}function sp(){Zd[0]=Rd,Zd[1]=Od,rp.point=ip,Fd=null}function lp(t,e){if(Fd){var n=t-Dd;Ud.add(sc(n)>180?n+(n>0?360:-360):n)}else Bd=t,qd=e;Gd.point(t,e),ap(t,e)}function up(){Gd.lineStart()}function cp(){lp(Bd,qd),Gd.lineEnd(),sc(Ud)>$u&&(Rd=-(Od=180)),Zd[0]=Rd,Zd[1]=Od,Fd=null}function hp(t,e){return(e-=t)<0?e+360:e}function fp(t,e){return t[0]-e[0]}function Ap(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function dp(t){var e,n,r,i,a,o,s;if(Id=Od=-(Rd=Nd=1/0),zd=[],Pc(t,rp),n=zd.length){for(zd.sort(fp),e=1,a=[r=zd[0]];e<n;++e)Ap(r,(i=zd[e])[0])||Ap(r,i[1])?(hp(r[0],i[1])>hp(r[0],r[1])&&(r[1]=i[1]),hp(i[0],r[1])>hp(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=hp(r[1],i[0]))>o&&(o=s,Rd=i[0],Od=r[1])}return zd=Zd=null,Rd===1/0||Nd===1/0?[[NaN,NaN],[NaN,NaN]]:[[Rd,Nd],[Od,Id]]}function pp(t){return sc(t[0])<=ec?t[0]:dc(t[0])*((sc(t[0])+ec)%ic-ec)}function mp(t,e){var n=pp(e),r=e[1],i=Ac(r),a=[Ac(n),-cc(n),0],o=0,s=0,l=new Ju;1===i?r=nc+$u:-1===i&&(r=-nc-$u);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,A=h[f-1],d=pp(A),p=A[1]/2+rc,m=Ac(p),v=cc(p),g=0;g<f;++g,d=b,m=x,v=w,A=y){var y=h[g],b=pp(y),_=y[1]/2+rc,x=Ac(_),w=cc(_),S=b-d,M=S>=0?1:-1,E=M*S,T=E>ec,P=m*x;if(l.add(uc(P*M*Ac(E),v*w+P*cc(E))),o+=T?S+M*ic:S,T^d>=n^b>=n){var k=$d(Kd(A),Kd(y));np(k);var L=$d(a,k);np(L);var C=(T^S>=0?-1:1)*mc(L[2]);(r>C||r===C&&(k[0]||k[1]))&&(s+=T^S>=0?1:-1)}}return(o<-$u||o<$u&&l<-tc)^1&s}var vp={Feature:function(t,e){return yp(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(yp(n[r].geometry,e))return!0;return!1}},gp={Sphere:function(){return!0},Point:function(t,e){return bp(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bp(n[r],e))return!0;return!1},LineString:function(t,e){return _p(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(_p(n[r],e))return!0;return!1},Polygon:function(t,e){return xp(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xp(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(yp(n[r],e))return!0;return!1}};function yp(t,e){return!(!t||!gp.hasOwnProperty(t.type))&&gp[t.type](t,e)}function bp(t,e){return 0===Ic(t,e)}function _p(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(0===(r=Ic(t[a],e)))return!0;if(a>0&&(i=Ic(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<tc*i)return!0;n=r}return!1}function xp(t,e){return!!mp(t.map(wp),Sp(e))}function wp(t){return(t=t.map(Sp)).pop(),t}function Sp(t){return[t[0]*oc,t[1]*oc]}var Mp,Ep,Tp,Pp,kp,Lp,Cp,Rp,Np,Op,Ip,Dp,Bp,qp,Fp,Up,zp=n(3433),Zp={sphere:gc,point:jp,lineStart:Gp,lineEnd:Xp,polygonStart:function(){Zp.lineStart=Yp,Zp.lineEnd=Qp},polygonEnd:function(){Zp.lineStart=Gp,Zp.lineEnd=Xp}};function jp(t,e){t*=oc;var n=cc(e*=oc);Hp(n*cc(t),n*Ac(t),Ac(e))}function Hp(t,e,n){++Mp,Tp+=(t-Tp)/Mp,Pp+=(e-Pp)/Mp,kp+=(n-kp)/Mp}function Gp(){Zp.point=Vp}function Vp(t,e){t*=oc;var n=cc(e*=oc);qp=n*cc(t),Fp=n*Ac(t),Up=Ac(e),Zp.point=Wp,Hp(qp,Fp,Up)}function Wp(t,e){t*=oc;var n=cc(e*=oc),r=n*cc(t),i=n*Ac(t),a=Ac(e),o=uc(pc((o=Fp*a-Up*i)*o+(o=Up*r-qp*a)*o+(o=qp*i-Fp*r)*o),qp*r+Fp*i+Up*a);Ep+=o,Lp+=o*(qp+(qp=r)),Cp+=o*(Fp+(Fp=i)),Rp+=o*(Up+(Up=a)),Hp(qp,Fp,Up)}function Xp(){Zp.point=jp}function Yp(){Zp.point=Kp}function Qp(){Jp(Dp,Bp),Zp.point=jp}function Kp(t,e){Dp=t,Bp=e,t*=oc,e*=oc,Zp.point=Jp;var n=cc(e);qp=n*cc(t),Fp=n*Ac(t),Up=Ac(e),Hp(qp,Fp,Up)}function Jp(t,e){t*=oc;var n=cc(e*=oc),r=n*cc(t),i=n*Ac(t),a=Ac(e),o=Fp*a-Up*i,s=Up*r-qp*a,l=qp*i-Fp*r,u=fc(o,s,l),c=mc(u),h=u&&-c/u;Np.add(h*o),Op.add(h*s),Ip.add(h*l),Ep+=c,Lp+=c*(qp+(qp=r)),Cp+=c*(Fp+(Fp=i)),Rp+=c*(Up+(Up=a)),Hp(qp,Fp,Up)}function $p(t){Mp=Ep=Tp=Pp=kp=Lp=Cp=Rp=0,Np=new Ju,Op=new Ju,Ip=new Ju,Pc(t,Zp);var e=+Np,n=+Op,r=+Ip,i=fc(e,n,r);return i<tc&&(e=Lp,n=Cp,r=Rp,Ep<$u&&(e=Tp,n=Pp,r=kp),(i=fc(e,n,r))<tc)?[NaN,NaN]:[uc(n,e)*ac,mc(r/i)*ac]}var tm=1e-6,em=function(){function t(){(0,k.Z)(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,L.Z)(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>tm||Math.abs(this._y1-i)>tm)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),nm=function(){function t(){(0,k.Z)(this,t),this._=[]}return(0,L.Z)(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),rm=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,_.Z)(n,4),i=r[0],a=r[1],o=r[2],s=r[3];if((0,k.Z)(this,t),!((o=+o)>=(i=+i))||!((s=+s)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=o,this.xmin=i,this.ymax=s,this.ymin=a,this._init()}return(0,L.Z)(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n,r,i=this.delaunay,a=i.points,o=i.hull,s=i.triangles,l=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,s.length/3*2),c=0,h=0,f=s.length;c<f;c+=3,h+=2){var A=2*s[c],d=2*s[c+1],p=2*s[c+2],m=a[A],v=a[A+1],g=a[d],y=a[d+1],_=a[p],x=a[p+1],w=g-m,S=y-v,M=_-m,E=x-v,T=2*(w*E-S*M);if(Math.abs(T)<1e-9){if(void 0===t){t=e=0;var P,k=(0,b.Z)(o);try{for(k.s();!(P=k.n()).done;){var L=P.value;t+=a[2*L],e+=a[2*L+1]}}catch(j){k.e(j)}finally{k.f()}t/=o.length,e/=o.length}var C=1e9*Math.sign((t-m)*E-(e-v)*M);n=(m+_)/2-C*E,r=(v+x)/2+C*M}else{var R=1/T,N=w*w+S*S,O=M*M+E*E;n=m+(E*N-S*O)*R,r=v+(w*O-M*N)*R}u[h]=n,u[h+1]=r}var I,D,B,q=o[o.length-1],F=4*q,U=a[2*q],z=a[2*q+1];l.fill(0);for(var Z=0;Z<o.length;++Z)I=F,D=U,B=z,F=4*(q=o[Z]),U=a[2*q],z=a[2*q+1],l[I+2]=l[F]=B-z,l[I+3]=l[F+1]=U-D}},{key:"render",value:function(t){var e=null==t?t=new em:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,s=this.vectors;if(a.length<=1)return null;for(var l=0,u=r.length;l<u;++l){var c=r[l];if(!(c<l)){var h=2*Math.floor(l/3),f=2*Math.floor(c/3),A=o[h],d=o[h+1],p=o[f],m=o[f+1];this._renderSegment(A,d,p,m,t)}}for(var v,g=a[a.length-1],y=0;y<a.length;++y){v=g,g=a[y];var b=2*Math.floor(i[g]/3),_=o[b],x=o[b+1],w=4*v,S=this._project(_,x,s[w+2],s[w+3]);S&&this._renderSegment(_,x,S[0],S[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new em:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new em:void 0,r=this._clip(t);if(null!==r&&r.length){e.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||e.lineTo(r[a],r[a+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:(0,P.Z)().mark((function t(){var e,n,r,i;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,r=e.length/2;case 2:if(!(n<r)){t.next=11;break}if(!(i=this.cellPolygon(n))){t.next=8;break}return i.index=n,t.next=8,i;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new nm;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var a,o=this._regioncode(t,e),s=this._regioncode(n,r);0===o&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,o,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)===e&&(n=+n)===n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:(0,P.Z)().mark((function t(e){var n,r,i,a,o,s,l,u,c;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}r=(0,b.Z)(this.delaunay.neighbors(e)),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=25;break}if(a=i.value,!(o=this._clip(a))){t.next=23;break}s=0,l=n.length;case 10:if(!(s<l)){t.next=23;break}u=0,c=o.length;case 12:if(!(u<c)){t.next=20;break}if(n[s]!==o[u]||n[s+1]!==o[u+1]||n[(s+2)%l]!==o[(u+c-2)%c]||n[(s+3)%l]!==o[(u+c-1)%c]){t.next=17;break}return t.next=16,a;case 16:return t.abrupt("break",23);case 17:u+=2,t.next=12;break;case 20:s+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),r.e(t.t0);case 30:return t.prev=30,r.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[t];if(-1===o)return null;var s=[],l=o;do{var u=Math.floor(l/3);if(s.push(e[2*u],e[2*u+1]),a[l=l%3===2?l-2:l+1]!==t)break;l=i[l]}while(l!==o&&-1!==l);return s}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,a,o=e.length,s=null,l=e[o-2],u=e[o-1],c=this._regioncode(l,u),h=0,f=0;f<o;f+=2)if(n=l,r=u,l=e[f],u=e[f+1],i=c,c=this._regioncode(l,u),0===i&&0===c)a=h,h=0,s?s.push(l,u):s=[l,u];else{var A=void 0,d=void 0,p=void 0,m=void 0,v=void 0;if(0===i){if(null===(A=this._clipSegment(n,r,l,u,i,c)))continue;var g=A,y=(0,_.Z)(g,4);d=y[0],p=y[1],m=y[2],v=y[3]}else{if(null===(A=this._clipSegment(l,u,n,r,c,i)))continue;var b=A,x=(0,_.Z)(b,4);m=x[0],v=x[1],d=x[2],p=x[3],a=h,h=this._edgecode(d,p),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(d,p):s=[d,p]}a=h,h=this._edgecode(m,v),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(m,v):s=[m,v]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}},{key:"_clipSegment",value:function(t,e,n,r,i,a){var o=i<a;if(o){var s=[n,r,t,e,a,i];t=s[0],e=s[1],n=s[2],r=s[3],i=s[4],a=s[5]}for(;;){if(0===i&&0===a)return o?[n,r,t,e]:[t,e,n,r];if(i&a)return null;var l=void 0,u=void 0,c=i||a;8&c?(l=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&c?(l=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&c?(u=e+(r-e)*(this.xmax-t)/(n-t),l=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),l=this.xmin),i?(t=l,e=u,i=this._regioncode(t,e)):(n=l,r=u,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,a){var o,s=Array.from(e);if((o=this._project(s[0],s[1],n,r))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(o[0],o[1]),s=this._clipFinite(t,s))for(var l,u=0,c=s.length,h=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)l=h,h=this._edgecode(s[u],s[u+1]),l&&h&&(u=this._edge(t,l,h,s,u),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(t,e,n,r,i){for(;e!==n;){var a=void 0,o=void 0;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(t,a,o)||(r.splice(i,0,a,o),i+=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,a,o,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(o=this.ymin,a=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(o=this.ymax,a=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(a=this.xmax,o=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(a=this.xmin,o=e+(s=i)*r)}return[a,o]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}},{key:"_simplify",value:function(t){if(t&&t.length>4){for(var e=0;e<t.length;e+=2){var n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}]),t}(),im=(0,P.Z)().mark(hm),am=2*Math.PI,om=Math.pow;function sm(t){return t[0]}function lm(t){return t[1]}function um(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var cm=function(){function t(e){(0,k.Z)(this,t),this._delaunator=new vd(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return(0,L.Z)(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],a=2*e[r+1],o=2*e[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[e[2*n],e[2*n+1],e[2*r],e[2*r+1]],a=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),o=0,s=e.length/2;o<s;++o){var l=um(e[2*o],e[2*o+1],a);e[2*o]=l[0],e[2*o+1]=l[1]}this._delaunator=new vd(e)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),A=this._hullIndex.fill(-1),d=0,p=u.length;d<p;++d){var m=h[d%3===2?d-2:d+1];-1!==u[d]&&-1!==f[m]||(f[m]=d)}for(var v=0,g=c.length;v<g;++v)A[c[v]]=v;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],f[c[0]]=1,2===c.length&&(f[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}},{key:"voronoi",value:function(t){return new rm(this,t)}},{key:"neighbors",value:(0,P.Z)().mark((function t(e){var n,r,i,a,o,s,l,u,c,h,f;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(s=this.collinear)){t.next=10;break}if(!((l=s.indexOf(e))>0)){t.next=6;break}return t.next=6,s[l-1];case 6:if(!(l<s.length-1)){t.next=9;break}return t.next=9,s[l+1];case 9:return t.abrupt("return");case 10:if(-1!==(u=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=u,h=-1;case 14:return t.next=16,h=o[c];case 16:if(o[c=c%3===2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=a[c])){t.next=26;break}if((f=r[(i[e]+1)%r.length])===h){t.next=25;break}return t.next=25,f;case 25:return t.abrupt("return");case 26:if(c!==u){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!==t||(e=+e)!==e)return-1;for(var r,i=n;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,s=this.triangles,l=this.points;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);var u=t,c=om(e-l[2*t],2)+om(n-l[2*t+1],2),h=r[t],f=h;do{var A=s[f],d=om(e-l[2*A],2)+om(n-l[2*A+1],2);if(d<c&&(c=d,u=A),s[f=f%3===2?f-2:f+1]!==t)break;if(-1===(f=o[f])){if((f=i[(a[t]+1)%i.length])!==A&&om(e-l[2*f],2)+om(n-l[2*f+1],2)<c)return f;break}}while(f!==h);return u}},{key:"render",value:function(t){for(var e=null==t?t=new em:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var s=r[a];if(!(s<a)){var l=2*i[a],u=2*i[s];t.moveTo(n[l],n[l+1]),t.lineTo(n[u],n[u+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){void 0!==e||t&&"function"===typeof t.moveTo||(e=t,t=null),e=void 0==e?2:+e;for(var n=null==t?t=new em:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],s=r[i+1];t.moveTo(o+e,s),t.arc(o,s,e,0,am)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new em:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;t.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var s=2*n[o];t.lineTo(r[s],r[s+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new nm;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new em:void 0,r=this.points,i=this.triangles,a=2*i[t*=3],o=2*i[t+1],s=2*i[t+2];return e.moveTo(r[a],r[a+1]),e.lineTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:(0,P.Z)().mark((function t(){var e,n,r;return(0,P.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,r=e.length/3;case 2:if(!(n<r)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new nm;return this.renderTriangle(t,e),e.value()}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sm,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lm,i=arguments.length>3?arguments[3]:void 0;return new t("length"in e?function(t,e,n,r){for(var i=t.length,a=new Float64Array(2*i),o=0;o<i;++o){var s=t[o];a[2*o]=e.call(r,s,o,t),a[2*o+1]=n.call(r,s,o,t)}return a}(e,n,r,i):Float64Array.from(hm(e,n,r,i)))}}]),t}();function hm(t,e,n,r){var i,a,o,s;return(0,P.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:i=0,a=(0,b.Z)(t),l.prev=2,a.s();case 4:if((o=a.n()).done){l.next=13;break}return s=o.value,l.next=8,e.call(r,s,i,t);case 8:return l.next=10,n.call(r,s,i,t);case 10:++i;case 11:l.next=4;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(2),a.e(l.t0);case 18:return l.prev=18,a.f(),l.finish(18);case 21:case"end":return l.stop()}}),im,null,[[2,15,18,21]])}function fm(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Am(t,e){return sc(t)>ec&&(t-=Math.round(t/ic)*ic),[t,e]}function dm(t,e,n){return(t%=ic)?e||n?fm(mm(t),vm(e,n)):mm(t):e||n?vm(e,n):Am}function pm(t){return function(e,n){return sc(e+=t)>ec&&(e-=Math.round(e/ic)*ic),[e,n]}}function mm(t){var e=pm(t);return e.invert=pm(-t),e}function vm(t,e){var n=cc(t),r=Ac(t),i=cc(e),a=Ac(e);function o(t,e){var o=cc(e),s=cc(t)*o,l=Ac(t)*o,u=Ac(e),c=u*n+s*r;return[uc(l*i-c*a,s*n-u*r),mc(c*i+l*a)]}return o.invert=function(t,e){var o=cc(e),s=cc(t)*o,l=Ac(t)*o,u=Ac(e),c=u*i-l*a;return[uc(l*i+u*a,s*n+c*r),mc(c*n-s*r)]},o}function gm(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:gc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ym(t,e){return sc(t[0]-e[0])<$u&&sc(t[1]-e[1])<$u}function bm(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function _m(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(ym(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*$u}s.push(n=new bm(r,t,null,!0)),l.push(n.o=new bm(r,null,n,!1)),s.push(n=new bm(o,t,null,!1)),l.push(n.o=new bm(o,null,n,!0))}})),s.length){for(l.sort(e),xm(s),xm(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,h=s[0];;){for(var f=h,A=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(A)for(a=0,o=u.length;a<o;++a)i.point((c=u[a])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(A)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((c=u[a])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,A=!A}while(!f.v);i.lineEnd()}}}function xm(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function wm(t,e,n,r){return function(i){var a,o,s,l=e(i),u=gm(),c=e(u),h=!1,f={point:A,lineStart:p,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=g,f.lineEnd=y,o=[],a=[]},polygonEnd:function(){f.point=A,f.lineStart=p,f.lineEnd=m,o=ed(o);var t=mp(a,r);o.length?(h||(i.polygonStart(),h=!0),_m(o,Mm,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function A(e,n){t(e,n)&&i.point(e,n)}function d(t,e){l.point(t,e)}function p(){f.point=d,l.lineStart()}function m(){f.point=A,l.lineEnd()}function v(t,e){s.push([t,e]),c.point(t,e)}function g(){c.lineStart(),s=[]}function y(){v(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),f=u.result(),A=f.length;if(s.pop(),a.push(s),s=null,A)if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else A>1&&2&l&&f.push(f.pop().concat(f.shift())),o.push(f.filter(Sm))}return f}}function Sm(t){return t.length>1}function Mm(t,e){return((t=t.x)[0]<0?t[1]-nc-$u:nc-t[1])-((e=e.x)[0]<0?e[1]-nc-$u:nc-e[1])}Am.invert=Am;var Em=wm((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?ec:-ec,l=sc(a-n);sc(l-ec)<$u?(t.point(n,r=(r+o)/2>0?nc:-nc),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=ec&&(sc(n-i)<$u&&(n-=i*$u),sc(a-s)<$u&&(a-=s*$u),r=function(t,e,n,r){var i,a,o=Ac(t-n);return sc(o)>$u?lc((Ac(e)*(a=cc(r))*Ac(n)-Ac(r)*(i=cc(e))*Ac(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*nc,r.point(-ec,i),r.point(0,i),r.point(ec,i),r.point(ec,0),r.point(ec,-i),r.point(0,-i),r.point(-ec,-i),r.point(-ec,0),r.point(-ec,i);else if(sc(t[0]-e[0])>$u){var a=t[0]<e[0]?ec:-ec;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-ec,-nc]);function Tm(t,e,n,r,i,a){if(n){var o=cc(e),s=Ac(e),l=r*n;null==i?(i=e+r*ic,a=e-l/2):(i=Pm(o,i),a=Pm(o,a),(r>0?i<a:i>a)&&(i+=r*ic));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Qd([o,-s*cc(c),-s*Ac(c)]),t.point(u[0],u[1])}}function Pm(t,e){(e=Kd(e))[0]-=t,np(e);var n,r=(n=-e[1])>1?0:n<-1?ec:Math.acos(n);return((-e[2]<0?-r:r)+ic-$u)%ic}var km=1e9,Lm=-km;function Cm(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,u){var c=0,h=0;if(null==i||(c=o(i,s))!==(h=o(a,s))||l(i,a)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==h);else u.point(a[0],a[1])}function o(r,i){return sc(r[0]-t)<$u?i>0?0:3:sc(r[0]-n)<$u?i>0?2:1:sc(r[1]-e)<$u?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,u,c,h,f,A,d,p,m,v,g,y=o,b=gm(),_={point:x,lineStart:function(){_.point=w,u&&u.push(c=[]);v=!0,m=!1,d=p=NaN},lineEnd:function(){l&&(w(h,f),A&&m&&b.rejoin(),l.push(b.result()));_.point=x,m&&y.lineEnd()},polygonStart:function(){y=b,l=[],u=[],g=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var a,o,s=u[n],l=1,c=s.length,h=s[0],f=h[0],A=h[1];l<c;++l)a=f,o=A,f=(h=s[l])[0],A=h[1],o<=r?A>r&&(f-a)*(r-o)>(A-o)*(t-a)&&++e:A<=r&&(f-a)*(r-o)<(A-o)*(t-a)&&--e;return e}(),n=g&&e,i=(l=ed(l)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&_m(l,s,e,a,o),o.polygonEnd());y=o,l=u=c=null}};function x(t,e){i(t,e)&&y.point(t,e)}function w(a,o){var s=i(a,o);if(u&&c.push([a,o]),v)h=a,f=o,A=s,v=!1,s&&(y.lineStart(),y.point(a,o));else if(s&&m)y.point(a,o);else{var l=[d=Math.max(Lm,Math.min(km,d)),p=Math.max(Lm,Math.min(km,p))],b=[a=Math.max(Lm,Math.min(km,a)),o=Math.max(Lm,Math.min(km,o))];!function(t,e,n,r,i,a){var o,s=t[0],l=t[1],u=0,c=1,h=e[0]-s,f=e[1]-l;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}if(o=r-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>u&&(u=o)}if(o=a-l,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<c&&(c=o)}return u>0&&(t[0]=s+u*h,t[1]=l+u*f),c<1&&(e[0]=s+c*h,e[1]=l+c*f),!0}}}}}(l,b,t,e,n,r)?s&&(y.lineStart(),y.point(a,o),g=!1):(m||(y.lineStart(),y.point(l[0],l[1])),y.point(b[0],b[1]),s||y.lineEnd(),g=!1)}d=a,p=o,m=s}return _}}var Rm=function(t){return t};function Nm(t){return function(e){var n=new Om;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Om(){}Om.prototype={constructor:Om,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Im=1/0,Dm=Im,Bm=-Im,qm=Bm,Fm={point:function(t,e){t<Im&&(Im=t);t>Bm&&(Bm=t);e<Dm&&(Dm=e);e>qm&&(qm=e)},lineStart:gc,lineEnd:gc,polygonStart:gc,polygonEnd:gc,result:function(){var t=[[Im,Dm],[Bm,qm]];return Bm=qm=-(Dm=Im=1/0),t}};var Um=Fm;function zm(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Pc(n,t.stream(Um)),e(Um.result()),null!=r&&t.clipExtent(r),t}function Zm(t,e,n){return zm(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}var jm=16,Hm=cc(30*oc);function Gm(t,e){return+e?function(t,e){function n(r,i,a,o,s,l,u,c,h,f,A,d,p,m){var v=u-r,g=c-i,y=v*v+g*g;if(y>4*e&&p--){var b=o+f,_=s+A,x=l+d,w=pc(b*b+_*_+x*x),S=mc(x/=w),M=sc(sc(x)-1)<$u||sc(a-h)<$u?(a+h)/2:uc(_,b),E=t(M,S),T=E[0],P=E[1],k=T-r,L=P-i,C=g*k-v*L;(C*C/y>e||sc((v*k+g*L)/y-.5)>.3||o*f+s*A+l*d<Hm)&&(n(r,i,a,o,s,l,T,P,M,b/=w,_/=w,x,p,m),m.point(T,P),n(T,P,M,b,_,x,u,c,h,f,A,d,p,m))}}return function(e){var r,i,a,o,s,l,u,c,h,f,A,d,p={point:m,lineStart:v,lineEnd:y,polygonStart:function(){e.polygonStart(),p.lineStart=b},polygonEnd:function(){e.polygonEnd(),p.lineStart=v}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){c=NaN,p.point=g,e.lineStart()}function g(r,i){var a=Kd([r,i]),o=t(r,i);n(c,h,u,f,A,d,c=o[0],h=o[1],u=r,f=a[0],A=a[1],d=a[2],jm,e),e.point(c,h)}function y(){p.point=m,e.lineEnd()}function b(){v(),p.point=_,p.lineEnd=x}function _(t,e){g(r=t,e),i=c,a=h,o=f,s=A,l=d,p.point=g}function x(){n(c,h,u,f,A,d,i,a,r,o,s,l,jm,e),p.lineEnd=y,y()}return p}}(t,e):function(t){return Nm({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Vm=Nm({point:function(t,e){this.stream.point(t*oc,e*oc)}});function Wm(t,e,n,r,i,a){if(!a)return function(t,e,n,r,i){function a(a,o){return[e+t*(a*=r),n-t*(o*=i)]}return a.invert=function(a,o){return[(a-e)/t*r,(n-o)/t*i]},a}(t,e,n,r,i);var o=cc(a),s=Ac(a),l=o*t,u=s*t,c=o/t,h=s/t,f=(s*n-o*e)/t,A=(s*e+o*n)/t;function d(t,a){return[l*(t*=r)-u*(a*=i)+e,n-u*t-l*a]}return d.invert=function(t,e){return[r*(c*t-h*e+f),i*(A-h*t-c*e)]},d}function Xm(t){return function(t){var e,n,r,i,a,o,s,l,u,c,h=150,f=480,A=250,d=0,p=0,m=0,v=0,g=0,y=0,b=1,_=1,x=null,w=Em,S=null,M=Rm,E=.5;function T(t){return l(t[0]*oc,t[1]*oc)}function P(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ac,t[1]*ac]}function k(){var t=Wm(h,0,0,b,_,y).apply(null,e(d,p)),r=Wm(h,f-t[0],A-t[1],b,_,y);return n=dm(m,v,g),s=fm(e,r),l=fm(n,s),o=Gm(s,E),L()}function L(){return u=c=null,T}return T.stream=function(t){return u&&c===t?u:u=Vm(function(t){return Nm({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(o(M(c=t)))))},T.preclip=function(t){return arguments.length?(w=t,x=void 0,L()):w},T.postclip=function(t){return arguments.length?(M=t,S=r=i=a=null,L()):M},T.clipAngle=function(t){return arguments.length?(w=+t?function(t){var e=cc(t),n=6*oc,r=e>0,i=sc(e)>$u;function a(t,n){return cc(t)*cc(n)>e}function o(t,n,r){var i=[1,0,0],a=$d(Kd(t),Kd(n)),o=Jd(a,a),s=a[0],l=o-s*s;if(!l)return!r&&t;var u=e*o/l,c=-e*s/l,h=$d(i,a),f=ep(i,u);tp(f,ep(a,c));var A=h,d=Jd(f,A),p=Jd(A,A),m=d*d-p*(Jd(f,f)-1);if(!(m<0)){var v=pc(m),g=ep(A,(-d-v)/p);if(tp(g,f),g=Qd(g),!r)return g;var y,b=t[0],_=n[0],x=t[1],w=n[1];_<b&&(y=b,b=_,_=y);var S=_-b,M=sc(S-ec)<$u;if(!M&&w<x&&(y=x,x=w,w=y),M||S<$u?M?x+w>0^g[1]<(sc(g[0]-b)<$u?x:w):x<=g[1]&&g[1]<=w:S>ec^(b<=g[0]&&g[0]<=_)){var E=ep(A,(-d+v)/p);return tp(E,f),[g,Qd(E)]}}}function s(e,n){var i=r?t:ec-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return wm(a,(function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var A,d=[h,f],p=a(h,f),m=r?p?0:s(h,f):p?s(h+(h<0?ec:-ec),f):0;if(!e&&(u=l=p)&&t.lineStart(),p!==l&&(!(A=o(e,d))||ym(e,A)||ym(d,A))&&(d[2]=1),p!==l)c=0,p?(t.lineStart(),A=o(d,e),t.point(A[0],A[1])):(A=o(e,d),t.point(A[0],A[1],2),t.lineEnd()),e=A;else if(i&&e&&r^p){var v;m&n||!(v=o(d,e,!0))||(c=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!p||e&&ym(e,d)||t.point(d[0],d[1]),e=d,l=p,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(e,r,i,a){Tm(a,t,n,i,e,r)}),r?[0,-t]:[-ec,t-ec])}(x=t*oc):(x=null,Em),L()):x*ac},T.clipExtent=function(t){return arguments.length?(M=null==t?(S=r=i=a=null,Rm):Cm(S=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),L()):null==S?null:[[S,r],[i,a]]},T.scale=function(t){return arguments.length?(h=+t,k()):h},T.translate=function(t){return arguments.length?(f=+t[0],A=+t[1],k()):[f,A]},T.center=function(t){return arguments.length?(d=t[0]%360*oc,p=t[1]%360*oc,k()):[d*ac,p*ac]},T.rotate=function(t){return arguments.length?(m=t[0]%360*oc,v=t[1]%360*oc,g=t.length>2?t[2]%360*oc:0,k()):[m*ac,v*ac,g*ac]},T.angle=function(t){return arguments.length?(y=t%360*oc,k()):y*ac},T.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},T.reflectY=function(t){return arguments.length?(_=t?-1:1,k()):_<0},T.precision=function(t){return arguments.length?(o=Gm(s,E=t*t),L()):pc(E)},T.fitExtent=function(t,e){return Zm(T,t,e)},T.fitSize=function(t,e){return function(t,e,n){return Zm(t,[[0,0],e],n)}(T,t,e)},T.fitWidth=function(t,e){return function(t,e,n){return zm(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}(T,t,e)},T.fitHeight=function(t,e){return function(t,e,n){return zm(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&P,k()}}((function(){return t}))()}function Ym(t,e){var n=cc(e),r=1+cc(t)*n;return[n*Ac(t)/r,Ac(e)/r]}function Qm(){return Xm(Ym).scale(250).clipAngle(142)}Ym.invert=function(t){return function(e,n){var r=pc(e*e+n*n),i=t(r),a=Ac(i),o=cc(i);return[uc(e*a,r*o),mc(r&&n*a/r)]}}((function(t){return 2*lc(t)}));var Km=Math.PI,Jm=Km/2,$m=180/Km,tv=Km/180,ev=(Math.abs,Math.atan,Math.atan2),nv=Math.cos,rv=(Math.ceil,Math.exp,Math.floor,Math.log,Math.max),iv=Math.min,av=(Math.pow,Math.sin),ov=Math.sign||function(t){return t>0?1:t<0?-1:0},sv=Math.sqrt;Math.tan;function lv(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function uv(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cv(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function hv(t){var e=sv(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]}function fv(t){return[ev(t[1],t[0])*$m,(e=rv(-1,iv(1,t[2])),(e>1?Jm:e<-1?-Jm:Math.asin(e))*$m)];var e}function Av(t){var e=t[0]*tv,n=t[1]*tv,r=nv(n);return[r*nv(e),r*av(e),av(n)]}function dv(t){return lv((t=t.map((function(t){return Av(t)})))[0],uv(t[2],t[1]))}function pv(t){var e=function(t){if(t.length<2)return{};var e=0;for(;isNaN(t[e][0]+t[e][1])&&e++<t.length;);var n=function(t){function e(e){return(e=t(e[0]*oc,e[1]*oc))[0]*=ac,e[1]*=ac,e}return t=dm(t[0]*oc,t[1]*oc,t.length>2?t[2]*oc:0),e.invert=function(e){return(e=t.invert(e[0]*oc,e[1]*oc))[0]*=ac,e[1]*=ac,e},e}(t[e]),r=Qm().translate([0,0]).scale(1).rotate(n.invert([180,0]));t=t.map(r);for(var i=[],a=1,o=0,s=t.length;o<s;o++){var l=Math.pow(t[o][0],2)+Math.pow(t[o][1],2);!isFinite(l)||l>1e32?i.push(o):l>a&&(a=l)}var u=1e6*sv(a);i.forEach((function(e){return t[e]=[u,0]})),t.push([0,u]),t.push([-u,0]),t.push([0,-u]);var c=cm.from(t);c.projection=r;for(var h=c.triangles,f=c.halfedges,A=c.inedges,d=[],p=0,m=f.length;p<m;p++)if(f[p]<0){var v=p%3==2?p-2:p+1,g=p%3==0?p+2:p-1,y=f[v],b=f[g];f[y]=b,f[b]=y,f[v]=f[g]=-1,h[p]=h[v]=h[g]=e,A[h[y]]=y%3==0?y+2:y-1,A[h[b]]=b%3==0?b+2:b-1,d.push(Math.min(p,v,g)),p+=2-p%3}else h[p]>t.length-3-1&&(h[p]=e);return c}(t),n=function(t){var e=t.triangles;if(!e)return[];for(var n=[],r=0,i=e.length/3;r<i;r++){var a=e[3*r],o=e[3*r+1],s=e[3*r+2];a!==o&&o!==s&&n.push([a,s,o])}return n}(e),r=function(t,e){var n=new Set;return 2===e.length?[[0,1]]:(t.forEach((function(t){if(t[0]!==t[1]&&!(dv(t.map((function(t){return e[t]})))<0))for(var r,i=0;i<3;i++)r=(i+1)%3,n.add(nd([t[i],t[r]]).join("-"))})),Array.from(n,(function(t){return t.split("-").map(Number)})))}(n,t),i=function(t,e){var n=[];t.forEach((function(t){for(var e=0;e<3;e++){var r=t[e],i=t[(e+1)%3];n[r]=n[r]||[],n[r].push(i)}})),0===t.length&&(2===e?(n[0]=[1],n[1]=[0]):1===e&&(n[0]=[]));return n}(n,t.length),a=function(t,e){function n(t,e){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}return function(r,i,a){void 0===a&&(a=0);var o,s,l=a,u=Av([r,i]);do{o=a,a=null,s=n(u,Av(e[o])),t[o].forEach((function(t){var r=n(u,Av(e[t]));if(r<s)return s=r,a=t,void(l=t)}))}while(null!==a);return l}}(i,t),o=function(t,e){return t.map((function(t){var n=t.map((function(t){return e[t]})).map(Av);return fv(hv(cv(cv(uv(n[1],n[0]),uv(n[2],n[1])),uv(n[0],n[2]))))}))}(n,t),s=function(t,e,n){var r=[],i=t.slice();if(0===e.length){if(n.length<2)return{polygons:r,centers:i};if(2===n.length){var a=Av(n[0]),o=Av(n[1]),s=hv(cv(a,o)),l=hv(uv(a,o)),u=uv(s,l),c=[s,uv(s,u),uv(uv(s,u),u),uv(uv(uv(s,u),u),u)].map(fv).map(f);return r.push(c),r.push(c.slice().reverse()),{polygons:r,centers:i}}}e.forEach((function(t,e){for(var n=0;n<3;n++){var i=t[n],a=t[(n+1)%3],o=t[(n+2)%3];r[i]=r[i]||[],r[i].push([a,o,e,[i,a,o]])}}));var h=r.map((function(t){for(var e=[t[0][2]],r=t[0][1],a=1;a<t.length;a++)for(var o=0;o<t.length;o++)if(t[o][0]==r){r=t[o][1],e.push(t[o][2]);break}if(e.length>2)return e;if(2==e.length){var s=mv(n[t[0][3][0]],n[t[0][3][1]],i[e[0]]),l=mv(n[t[0][3][2]],n[t[0][3][0]],i[e[0]]),u=f(s),c=f(l);return[e[0],c,e[1],u]}}));function f(t){var n=-1;return i.slice(e.length,1/0).forEach((function(r,i){r[0]===t[0]&&r[1]===t[1]&&(n=i+e.length)})),n<0&&(n=i.length,i.push(t)),n}return{polygons:h,centers:i}}(o,n,t),l=s.polygons,u=s.centers,c=function(t){var e=[];return t.forEach((function(t){if(t){var n,r=t[t.length-1],i=(0,b.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a>r&&e.push([r,a]),r=a}}catch(o){i.e(o)}finally{i.f()}}})),e}(l),h=function(t,e){var n=new Set,r=[];t.map((function(t){if(!(dv(t.map((function(t){return e[t>e.length?0:t]})))>1e-12))for(var r=0;r<3;r++){var i=[t[r],t[(r+1)%3]],a="".concat(i[0],"-").concat(i[1]);n.has(a)?n.delete(a):n.add("".concat(i[1],"-").concat(i[0]))}}));var i,a=new Map;if(n.forEach((function(t){t=t.split("-").map(Number),a.set(t[0],t[1]),i=t[0]})),void 0===i)return r;var o=i;do{r.push(o);var s=a.get(o);a.set(o,-1),o=s}while(o>-1&&o!==i);return r}(n,t),f=function(t,e){return function(n){var r=new Map,i=new Map;return t.forEach((function(t,e){var a=t.join("-");r.set(a,n[e]),i.set(a,!0)})),e.forEach((function(t){for(var e=0,n=-1,a=0;a<3;a++){var o=nd([t[a],t[(a+1)%3]]).join("-");r.get(o)>e&&(e=r.get(o),n=o)}i.set(n,!1)})),t.map((function(t){return i.get(t.join("-"))}))}}(r,n);return{delaunay:e,edges:r,triangles:n,centers:u,neighbors:i,polygons:l,mesh:c,hull:h,urquhart:f,find:a}}function mv(t,e,n){t=Av(t),e=Av(e),n=Av(n);var r=ov(lv(uv(e,t),n));return fv(hv(cv(t,e)).map((function(t){return r*t})))}function vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ev(r.key),r)}}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gv(t)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yv(t,e)}function bv(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gv(t);if(e){var i=gv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bv(this,n)}}function xv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||Sv(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wv(t){return function(t){if(Array.isArray(t))return Mv(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Sv(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sv(t,e){if(t){if("string"===typeof t)return Mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mv(t,e):void 0}}function Mv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ev(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function Tv(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).resolution,n=void 0===e?1/0:e,r=function(t,e){return t.map((function(t){var n,r=[];return t.forEach((function(t){if(n){var i=180*Ic(t,n)/Math.PI;if(i>e)for(var a=Dc(n,t),o=1/Math.ceil(i/e),s=o;s<1;)r.push(a(s)),s+=o}r.push(n=t)})),r}))}(t,n),i=ed(r),a=function(t,e){var n={type:"Polygon",coordinates:t},r=dp(n),i=xv(r,2),a=xv(i[0],2),o=a[0],s=a[1],l=xv(i[1],2),u=l[0],c=l[1];if(Math.min(Math.abs(u-o),Math.abs(c-s))<e)return[];var h=o>u||c>=89||s<=-89;return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minLng,r=e.maxLng,i=e.minLat,a=e.maxLat,o=Math.round(Math.pow(360/t,2)/Math.PI),s=(1+Math.sqrt(5))/2,l=function(t){return t/s*360%360-180},u=function(t){return Math.acos(2*t/o-1)/Math.PI*180-90},c=function(t){return o*(Math.cos((t+90)*Math.PI/180)+1)/2},h=[void 0!==a?Math.ceil(c(a)):0,void 0!==i?Math.floor(c(i)):o-1],f=void 0===n&&void 0===r?function(){return!0}:void 0===n?function(t){return t<=r}:void 0===r?function(t){return t>=n}:r>=n?function(t){return t>=n&&t<=r}:function(t){return t>=n||t<=r},A=[],d=h[0];d<=h[1];d++){var p=l(d);f(p)&&A.push([p,u(d)])}return A}(e,{minLng:o,maxLng:u,minLat:s,maxLat:c}).filter((function(t){return Pv(t,n,h)}))}(t,n),o=[].concat(wv(i),wv(a)),s={type:"Polygon",coordinates:t},l=xv(dp(s),2),u=xv(l[0],2),c=u[0],h=u[1],f=xv(l[1],2),A=f[0],d=f[1],p=c>A||d>=89||h<=-89,m=[];if(p){var v=function(t){var e=function t(e){if(t.delaunay=null,"object"===typeof(t._data=e)&&"FeatureCollection"===t._data.type&&(t._data=t._data.features),"object"===typeof t._data){var n=t._data.map((function(e){return[t._vx(e),t._vy(e),e]})).filter((function(t){return isFinite(t[0]+t[1])}));t.points=n.map((function(t){return[t[0],t[1]]})),t.valid=n.map((function(t){return t[2]})),t.delaunay=pv(t.points)}return t};return e._vx=function(t){return"object"==typeof t&&"type"in t?$p(t)[0]:0 in t?t[0]:void 0},e._vy=function(t){return"object"==typeof t&&"type"in t?$p(t)[1]:1 in t?t[1]:void 0},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;var n={type:"FeatureCollection",features:[]};return 0===e.valid.length||(e.delaunay.polygons.forEach((function(t,r){return n.features.push({type:"Feature",geometry:t?{type:"Polygon",coordinates:[[].concat((0,zp.Z)(t),[t[0]]).map((function(t){return e.delaunay.centers[t]}))]}:null,properties:{site:e.valid[r],sitecoordinates:e.points[r],neighbours:e.delaunay.neighbors[r]}})})),1===e.valid.length&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),n},e.triangles=function(t){return void 0!==t&&e(t),!!e.delaunay&&{type:"FeatureCollection",features:e.delaunay.triangles.map((function(t,n){return(t=t.map((function(t){return e.points[t]}))).center=e.delaunay.centers[n],t})).filter((function(t){return dv(t)>0})).map((function(t){return{type:"Feature",properties:{circumcenter:t.center},geometry:{type:"Polygon",coordinates:[[].concat((0,zp.Z)(t),[t[0]])]}}}))}},e.links=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;var n=e.delaunay.edges.map((function(t){return Ic(e.points[t[0]],e.points[t[1]])})),r=e.delaunay.urquhart(n);return{type:"FeatureCollection",features:e.delaunay.edges.map((function(t,i){return{type:"Feature",properties:{source:e.valid[t[0]],target:e.valid[t[1]],length:n[i],urquhart:!!r[i]},geometry:{type:"LineString",coordinates:[e.points[t[0]],e.points[t[1]]]}}}))}},e.mesh=function(t){return void 0!==t&&e(t),!!e.delaunay&&{type:"MultiLineString",coordinates:e.delaunay.edges.map((function(t){return[e.points[t[0]],e.points[t[1]]]}))}},e.cellMesh=function(t){if(void 0!==t&&e(t),!e.delaunay)return!1;var n,r=e.delaunay,i=r.centers,a=r.polygons,o=[],s=(0,b.Z)(a);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(l)for(var u=l.length,c=l[u-1],h=l[0],f=0;f<u;c=h,h=l[++f])h>c&&o.push([i[c],i[h]])}}catch(A){s.e(A)}finally{s.f()}return{type:"MultiLineString",coordinates:o}},e._found=void 0,e.find=function(t,n,r){if(e._found=e.delaunay.find(t,n,e._found),!r||Ic([t,n],e.points[e._found])<r)return e._found},e.hull=function(t){void 0!==t&&e(t);var n=e.delaunay.hull,r=e.points;return 0===n.length?null:{type:"Polygon",coordinates:[[].concat((0,zp.Z)(n.map((function(t){return r[t]}))),[r[n[0]]])]}},t?e(t):e}(o).triangles(),g=new Map(o.map((function(t,e){var n=xv(t,2),r=n[0],i=n[1];return["".concat(r,"-").concat(i),e]})));v.features.forEach((function(t){var e,n=t.geometry.coordinates[0].slice(0,3).reverse(),r=[];if(n.forEach((function(t){var e=xv(t,2),n=e[0],i=e[1],a="".concat(n,"-").concat(i);g.has(a)&&r.push(g.get(a))})),3===r.length){if(r.some((function(t){return t<i.length})))if(!Pv(t.properties.circumcenter,s,p))return;(e=m).push.apply(e,r)}}))}else if(a.length)for(var y=vd.from(o),_=function(t){var e,n=[2,1,0].map((function(e){return y.triangles[t+e]})),r=n.map((function(t){return o[t]}));if(n.some((function(t){return t<i.length}))){var a=[0,1].map((function(t){return function(t,e){var n=0,r=0;if(void 0===e){var i,a=(0,b.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(h){a.e(h)}finally{a.f()}}else{var s,l=-1,u=(0,b.Z)(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=(c=e(c,++l,t))&&(c=+c)>=c&&(++n,r+=c)}}catch(h){u.e(h)}finally{u.f()}}if(n)return r/n}(r,(function(e){return e[t]}))}));if(!Pv(a,s,p))return"continue"}(e=m).push.apply(e,wv(n))},x=0,w=y.triangles.length;x<w;x+=3)_(x);else{var S=Ku.flatten(r),M=S.vertices,E=S.holes;m=Ku(M,void 0===E?[]:E,2)}var T=JA(nd(o,(function(t){return t[0]})),[0,1]),P=JA(nd(o,(function(t){return t[1]})),[0,1]),k=o.map((function(t){var e=xv(t,2),n=e[0],r=e[1];return[T(n),P(r)]}));return{contour:r,triangles:{points:o,indices:m,uvs:k}}}function Pv(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(t,e){return(t&&vp.hasOwnProperty(t.type)?vp[t.type]:yp)(t,e)}(e,t):Md(t,e)}var kv=window.THREE?window.THREE:{BufferGeometry:mr,Float32BufferAttribute:lr},Lv=(new kv.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Cv=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}(a,t);var e,n,r,i=_v(a);function a(t,e,n,r,o,s,l){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(u=i.call(this)).type="ConicPolygonBufferGeometry",u.parameters={polygonGeoJson:t,startHeight:e,endHeight:n,closedBottom:r,closedTop:o,includeSides:s,curvatureResolution:l},e=e||0,n=n||1,r=void 0===r||r,o=void 0===o||o,s=void 0===s||s;var c=Tv(t,{resolution:l=l||5}),h=c.contour,f=c.triangles,A=ed(f.uvs),d=[],p=[],m=[],v=0,g=function(t){var e=Math.round(d.length/3),n=m.length;d=d.concat(t.vertices),p=p.concat(t.uvs),m=m.concat(e?t.indices.map((function(t){return t+e})):t.indices),u.addGroup(n,m.length-n,v++)};function y(t,e){var n=t.map((function(t){return t.map((function(t){var n=xv(t,2),r=n[0];return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180;return[n*Math.sin(r)*Math.cos(i),n*Math.cos(r),n*Math.sin(r)*Math.sin(i)]}(n[1],r,e)}))}));return Ku.flatten(n)}function b(t){return{indices:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?f.indices:f.indices.slice().reverse(),vertices:y([f.points],t).vertices,uvs:A}}return s&&g(function(){for(var t=y(h,e),r=t.vertices,i=t.holes,a=y(h,n).vertices,o=ed([a,r]),s=Math.round(a.length/3),l=new Set(i),u=0,c=[],f=0;f<s;f++){var A=f+1;if(A===s)A=u;else if(l.has(A)){var d=A;A=u,u=d}c.push(f,f+s,A+s),c.push(A+s,A,f)}for(var p=[],m=1;m>=0;m--)for(var v=0;v<s;v+=1)p.push(v/(s-1),m);return{indices:c,vertices:o,uvs:p}}()),r&&g(b(e,!1)),o&&g(b(n,!0)),u.setIndex(m),u[Lv]("position",new kv.Float32BufferAttribute(d,3)),u[Lv]("uv",new kv.Float32BufferAttribute(p,2)),u.computeVertexNormals(),u}return e=a,n&&vv(e.prototype,n),r&&vv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(kv.BufferGeometry);var Rv=function(t){var e,n="undefined"!==typeof(t=t||{})?t:{},r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);var i,a=[],o="";"undefined"!==typeof document&&document.currentScript&&(o=document.currentScript.src),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"",i=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)e(r.response);else{var i=X(t);i?e(i.buffer):n()}},r.onerror=n,r.send(null)};var s=n.print||console.log.bind(console),l=n.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);r=null,n.arguments&&(a=n.arguments);var u=0;var c=!1;function h(t){var e,r=n["_"+t];return e="Cannot call unknown function "+t+", make sure it is exported",r||lt("Assertion failed: "+e),r}function f(t,e,n,r,i){var a={string:function(t){var e=0;if(null!==t&&void 0!==t&&0!==t){var n=1+(t.length<<2);(function(t,e,n){(function(t,e,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<t.length;++o){var s=t.charCodeAt(o);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o);if(s<=127){if(n>=a)break;e[n++]=s}else if(s<=2047){if(n+1>=a)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=a)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}e[n]=0})(t,v,e,n)})(t,e=tt(n),n)}return e},array:function(t){var e=tt(t.length);return function(t,e){m.set(t,e)}(t,e),e}};var o=h(t),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=a[n[u]];c?(0===l&&(l=nt()),s[u]=c(r[u])):s[u]=r[u]}var f=o.apply(null,s);return f=function(t){return"string"===e?d(t):"boolean"===e?Boolean(t):t}(f),0!==l&&et(l),f}var A="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function d(t,e){return t?function(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.subarray&&A)return A.decode(t.subarray(e,i));for(var a="";e<i;){var o=t[e++];if(128&o){var s=63&t[e++];if(192!=(224&o)){var l=63&t[e++];if((o=224==(240&o)?(15&o)<<12|s<<6|l:(7&o)<<18|s<<12|l<<6|63&t[e++])<65536)a+=String.fromCharCode(o);else{var u=o-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}(v,t,e):""}var p,m,v,g,y,b,_;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function x(t,e){return t%e>0&&(t+=e-t%e),t}function w(t){p=t,n.HEAP8=m=new Int8Array(t),n.HEAP16=g=new Int16Array(t),n.HEAP32=y=new Int32Array(t),n.HEAPU8=v=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=new Uint32Array(t),n.HEAPF32=b=new Float32Array(t),n.HEAPF64=_=new Float64Array(t)}var S=n.TOTAL_MEMORY||33554432;function M(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"===typeof r?void 0===e.arg?n.dynCall_v(r):n.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}S=(p=n.buffer?n.buffer:new ArrayBuffer(S)).byteLength,w(p),y[6032]=5267040;var E=[],T=[],P=[],k=[];var L=Math.abs,C=Math.ceil,R=Math.floor,N=Math.min,O=0,I=null,D=null;n.preloadedImages={},n.preloadedAudios={};var B,q,F=null,U="data:application/octet-stream;base64,";function z(t){return String.prototype.startsWith?t.startsWith(U):0===t.indexOf(U)}F="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";function Z(t){return t}function j(t){return t.replace(/\b__Z[\w\d_]+/g,(function(t){return t===t?t:t+" ["+t+"]"}))}function H(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function G(){return m.length}function V(t){try{var e=new ArrayBuffer(t);if(e.byteLength!=t)return;return new Int8Array(e).set(m),$(e),w(e),1}catch(n){}}var W="function"===typeof atob?atob:function(t){var e,n,r,i,a,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=s.indexOf(t.charAt(u++))<<2|(i=s.indexOf(t.charAt(u++)))>>4,n=(15&i)<<4|(a=s.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(o=s.indexOf(t.charAt(u++))),l+=String.fromCharCode(e),64!==a&&(l+=String.fromCharCode(n)),64!==o&&(l+=String.fromCharCode(r))}while(u<t.length);return l};function X(t){if(z(t))return function(t){try{for(var e=W(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}catch(i){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(U.length))}var Y,Q,K={a:lt,b:function(t){u=t},c:function(){return u},d:function(t,e,n,r){lt("Assertion failed: "+d(t)+", at: "+[e?d(e):"unknown filename",n,r?d(r):"unknown function"])},e:function(t){return n.___errno_location&&(y[n.___errno_location()>>2]=t),t},f:G,g:function(t,e,n){v.set(v.subarray(e,e+n),t)},h:function(t){var e=G(),n=16777216,r=2130706432;if(t>r)return!1;for(var i=Math.max(e,16777216);i<t;)i=i<=536870912?x(2*i,n):Math.min(x((3*i+2147483648)/4,n),r);return!!V(i)},i:function(t){lt("OOM")},j:Z,k:j,l:V,m:H,n:function(){var t=H();return n.extraStackTrace&&(t+="\n"+n.extraStackTrace()),j(t)},o:24144,p:24128},J=function(t,e,n){var r=new t.Int8Array(n),i=new t.Int32Array(n),a=(new t.Uint8Array(n),new t.Float32Array(n),new t.Float64Array(n)),o=0|e.o,s=0|e.p,l=t.Math.floor,u=t.Math.abs,c=t.Math.sqrt,h=t.Math.pow,f=t.Math.cos,A=t.Math.sin,d=t.Math.tan,p=t.Math.acos,m=t.Math.asin,v=t.Math.atan,g=t.Math.atan2,y=t.Math.ceil,b=t.Math.imul,_=t.Math.min,x=t.Math.max,w=t.Math.clz32,S=e.b,M=e.c,E=e.d,T=e.e,P=e.f,k=e.g,L=e.h,C=e.i,R=24160;function N(t,e,n,r){return 0|O(t|=0,e|=0,n|=0,r|=0,0)}function O(t,e,n,r,a){var o,s=0,l=0,u=0,c=0;if(o=R,R=R+16|0,l=o,!(0|I(t|=0,e|=0,n|=0,r|=0,a|=0)))return R=o,0|(r=0);do{if((0|n)>=0){if((0|n)>13780509){if(0|(s=0|ee(15,l)))break;l=0|i[(u=l)>>2],u=0|i[u+4>>2]}else c=0|Be(0|n,0|(s=((0|n)<0)<<31>>31),3,0),u=0|M(),s=0|Re(0|n,0|s,1,0),s=0|Re(0|(s=0|Be(0|c,0|u,0|s,0|M())),0|M(),1,0),u=0|M(),i[l>>2]=s,i[l+4>>2]=u,l=s;if(We(0|r,0,l<<3|0),0|a){We(0|a,0,l<<2|0),s=0|D(t,e,n,r,a,l,u,0);break}(s=0|Ce(l,4))?(c=0|D(t,e,n,r,s,l,u,0),Le(s),s=c):s=13}else s=2}while(0);return R=o,0|(c=s)}function I(t,e,n,r,a){t|=0,e|=0,n|=0,r|=0,a|=0;var o,s,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0;if(s=R,R=R+16|0,m=s+8|0,i[(p=o=s)>>2]=t,i[p+4>>2]=e,(0|n)<0)return R=s,0|(m=2);if(i[(l=r)>>2]=t,i[l+4>>2]=e,(l=0!=(0|a))&&(i[a>>2]=0),0|Bt(t,e))return R=s,0|(m=9);i[m>>2]=0;t:do{if((0|n)>=1)if(l)for(A=1,f=0,d=0,p=1,l=t;;){if(!(f|d)){if(0|(l=0|B(l,e,4,m,o)))break t;if(0|Bt(l=0|i[(e=o)>>2],e=0|i[e+4>>2])){l=9;break t}}if(0|(l=0|B(l,e,0|i[22384+(d<<2)>>2],m,o)))break t;if(l=0|i[(e=o)>>2],e=0|i[e+4>>2],i[(t=r+(A<<3)|0)>>2]=l,i[t+4>>2]=e,i[a+(A<<2)>>2]=p,u=(0|(t=f+1|0))==(0|p),h=6==(0|(c=d+1|0)),0|Bt(l,e)){l=9;break t}if((0|(p=p+(h&u&1)|0))>(0|n)){l=0;break}A=A+1|0,f=u?0:t,d=u?h?0:c:d}else for(A=1,f=0,d=0,p=1,l=t;;){if(!(f|d)){if(0|(l=0|B(l,e,4,m,o)))break t;if(0|Bt(l=0|i[(e=o)>>2],e=0|i[e+4>>2])){l=9;break t}}if(0|(l=0|B(l,e,0|i[22384+(d<<2)>>2],m,o)))break t;if(l=0|i[(e=o)>>2],e=0|i[e+4>>2],i[(t=r+(A<<3)|0)>>2]=l,i[t+4>>2]=e,u=(0|(t=f+1|0))==(0|p),h=6==(0|(c=d+1|0)),0|Bt(l,e)){l=9;break t}if((0|(p=p+(h&u&1)|0))>(0|n)){l=0;break}A=A+1|0,f=u?0:t,d=u?h?0:c:d}else l=0}while(0);return R=s,0|(m=l)}function D(t,e,n,r,a,o,s,l){n|=0,r|=0,a|=0,l|=0;var u,c,h,f=0,A=0,d=0,p=0,m=0,v=0,g=0;if(h=R,R=R+16|0,u=h+8|0,c=h,f=0|Fe(0|(t|=0),0|(e|=0),0|(o|=0),0|(s|=0)),d=0|M(),!(0==(0|(g=0|i[(v=p=r+(f<<3)|0)>>2]))&0==(0|(v=0|i[v+4>>2]))|(A=(0|g)==(0|t)&(0|v)==(0|e))))do{f=0|qe(0|(f=0|Re(0|f,0|d,1,0)),0|M(),0|o,0|s),d=0|M(),A=(0|(v=0|i[(g=p=r+(f<<3)|0)>>2]))==(0|t)&(0|(g=0|i[g+4>>2]))==(0|e)}while(!(0==(0|v)&0==(0|g)|A));if(f=a+(f<<2)|0,A&&(0|i[f>>2])<=(0|l))return R=h,0|(g=0);if(i[(g=p)>>2]=t,i[g+4>>2]=e,i[f>>2]=l,(0|l)>=(0|n))return R=h,0|(g=0);switch(A=l+1|0,i[u>>2]=0,0|(f=0|B(t,e,2,u,c))){case 9:m=9;break;case 0:(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A))||(m=9)}t:do{if(9==(0|m)){switch(i[u>>2]=0,0|(f=0|B(t,e,3,u,c))){case 9:break;case 0:if(0|(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A)))break t;break;default:break t}switch(i[u>>2]=0,0|(f=0|B(t,e,1,u,c))){case 9:break;case 0:if(0|(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A)))break t;break;default:break t}switch(i[u>>2]=0,0|(f=0|B(t,e,5,u,c))){case 9:break;case 0:if(0|(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A)))break t;break;default:break t}switch(i[u>>2]=0,0|(f=0|B(t,e,4,u,c))){case 9:break;case 0:if(0|(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A)))break t;break;default:break t}switch(i[u>>2]=0,0|(f=0|B(t,e,6,u,c))){case 9:break;case 0:if(0|(f=0|D(0|i[(f=c)>>2],0|i[f+4>>2],n,r,a,o,s,A)))break t;break;default:break t}return R=h,0|(g=0)}}while(0);return R=h,0|(g=f)}function B(t,e,n,r,a){t|=0,e|=0,a|=0;var o,s,l=0,u=0,c=0,h=0,f=0,A=0,d=0;if((n|=0)>>>0>6)return 0|(a=1);if(f=(0|i[(r|=0)>>2])%6|0,i[r>>2]=f,(0|f)>0){l=0;do{n=0|dt(n),l=l+1|0}while((0|l)<(0|i[r>>2]))}if(f=0|ze(0|t,0|e,45),M(),(s=127&f)>>>0>121)return 0|(a=5);o=0|qt(t,e),l=0|ze(0|t,0|e,52),M(),l&=15;t:do{if(l){for(;;){if(c=0|ze(0|t,0|e,0|(u=3*(15-l|0)|0)),M(),7==(0|(c&=7))){e=5;break}if(d=0==(0|jt(l)),l=l+-1|0,A=0|Ze(7,0,0|u),e&=~(0|M()),t=0|Ze(0|i[(d?432:16)+(28*c|0)+(n<<2)>>2],0,0|u)|t&~A,e|=u=0|M(),!(n=0|i[(d?640:224)+(28*c|0)+(n<<2)>>2])){n=0;break t}if(!l){h=8;break t}}return 0|e}h=8}while(0);8==(0|h)&&(t|=0|Ze(0|(d=0|i[848+(28*s|0)+(n<<2)>>2]),0,45),e=0|M()|-1040385&e,n=0|i[4272+(28*s|0)+(n<<2)>>2],127==(127&d|0)&&(d=0|Ze(0|i[848+(28*s|0)+20>>2],0,45),e=0|M()|-1040385&e,n=0|i[4272+(28*s|0)+20>>2],t=0|Ut(d|t,e),e=0|M(),i[r>>2]=1+(0|i[r>>2]))),c=0|ze(0|t,0|e,45),M(),c&=127;t:do{if(0|U(c)){e:do{if(1==(0|qt(t,e))){if((0|s)!=(0|c)){if(0|H(c,0|i[7696+(28*s|0)>>2])){t=0|Zt(t,e),u=1,e=0|M();break}E(23313,22416,436,22424)}switch(0|o){case 3:t=0|Ut(t,e),e=0|M(),i[r>>2]=1+(0|i[r>>2]),u=0;break e;case 5:t=0|Zt(t,e),e=0|M(),i[r>>2]=5+(0|i[r>>2]),u=0;break e;case 0:return 0|(d=9);default:return 0|(d=1)}}else u=0}while(0);if((0|n)>0){l=0;do{t=0|Ft(t,e),e=0|M(),l=l+1|0}while((0|l)!=(0|n))}if((0|s)!=(0|c)){if(!(0|z(c))){if(0!=(0|u)|5!=(0|qt(t,e)))break;i[r>>2]=1+(0|i[r>>2]);break}switch(127&f){case 8:case 118:break t}3!=(0|qt(t,e))&&(i[r>>2]=1+(0|i[r>>2]))}}else if((0|n)>0){l=0;do{t=0|Ut(t,e),e=0|M(),l=l+1|0}while((0|l)!=(0|n))}}while(0);return i[r>>2]=((0|i[r>>2])+n|0)%6|0,i[(d=a)>>2]=t,i[d+4>>2]=e,0|(d=0)}function q(t,e,n,r){n|=0,r|=0;var a,o,s,l=0,u=0;for(s=R,R=R+16|0,a=s,o=s+8|0,l=(l=0==(0|Bt(t|=0,e|=0)))?1:2;;){if(i[o>>2]=0,0==(0|B(t,e,l,o,a))&((0|i[(u=a)>>2])==(0|n)?(0|i[u+4>>2])==(0|r):0)){t=4;break}if((l=l+1|0)>>>0>=7){l=7,t=4;break}}return 4==(0|t)?(R=s,0|l):0}function F(t,e,n,r,o,s,l){e|=0,n|=0,r|=0,o|=0,s|=0,l|=0;var u,c,h,f,A,d,p,m,v,g,y=0,b=0,_=0,x=0,w=0,S=0,E=0,T=0,P=0,k=0,L=0,C=0,N=0,O=0,I=0,D=0,B=0,q=0,F=0;if(g=R,R=R+64|0,p=g+48|0,m=g+32|0,v=g+24|0,u=g+8|0,c=g,(0|(b=0|i[(t|=0)>>2]))<=0)return R=g,0|(I=0);for(h=t+4|0,f=p+8|0,A=m+8|0,d=u+8|0,y=0,N=0;;){C=(_=0|i[h>>2])+(N<<4)|0,i[p>>2]=i[C>>2],i[p+4>>2]=i[C+4>>2],i[p+8>>2]=i[C+8>>2],i[p+12>>2]=i[C+12>>2],(0|N)==(b+-1|0)?(i[m>>2]=i[_>>2],i[m+4>>2]=i[_+4>>2],i[m+8>>2]=i[_+8>>2],i[m+12>>2]=i[_+12>>2]):(C=_+(N+1<<4)|0,i[m>>2]=i[C>>2],i[m+4>>2]=i[C+4>>2],i[m+8>>2]=i[C+8>>2],i[m+12>>2]=i[C+12>>2]),b=0|Q(p,m,r,v);t:do{if(b)_=0,y=b;else if(b=0|i[(_=v)>>2],(0|(_=0|i[_+4>>2]))>0|0==(0|_)&b>>>0>0){L=0,C=0;e:for(;;){if(F=+a[p>>3],q=+((k=0|Ne(0|b,0|_,0|L,0|C))>>>0)+4294967296*+(0|M()),D=+(b>>>0)+4294967296*+(0|_),B=+(L>>>0)+4294967296*+(0|C),a[u>>3]=F*q/D+ +a[m>>3]*B/D,a[d>>3]=+a[f>>3]*q/D+ +a[A>>3]*B/D,0|(b=0|Ht(u,r,c))){y=b;break}S=0|Fe(0|(P=0|i[(k=c)>>2]),0|(k=0|i[k+4>>2]),0|e,0|n),x=0|M(),_=0|i[(w=b=l+(S<<3)|0)>>2],w=0|i[w+4>>2];n:do{if(0==(0|_)&0==(0|w))O=b,I=16;else for(E=0,T=0;;){if((0|E)>(0|n)|(0|E)==(0|n)&T>>>0>e>>>0){y=1;break e}if((0|_)==(0|P)&(0|w)==(0|k))break n;if(S=0|qe(0|(b=0|Re(0|S,0|x,1,0)),0|M(),0|e,0|n),x=0|M(),T=0|Re(0|T,0|E,1,0),E=0|M(),0==(0|(_=0|i[(w=b=l+(S<<3)|0)>>2]))&0==(0|(w=0|i[w+4>>2]))){O=b,I=16;break}}}while(0);if(16!=(0|I)||(I=0,0==(0|P)&0==(0|k))||(i[(T=O)>>2]=P,i[T+4>>2]=k,T=s+(i[o>>2]<<3)|0,i[T>>2]=P,i[T+4>>2]=k,T=0|Re(0|i[(T=o)>>2],0|i[T+4>>2],1,0),P=0|M(),i[(k=o)>>2]=T,i[k+4>>2]=P),L=0|Re(0|L,0|C,1,0),C=0|M(),b=0|i[(_=v)>>2],!((0|(_=0|i[_+4>>2]))>(0|C)|(0|_)==(0|C)&b>>>0>L>>>0)){_=1;break t}}_=0}else _=1}while(0);if(N=N+1|0,!_){I=21;break}if((0|N)>=(0|(b=0|i[t>>2]))){y=0,I=21;break}}return 21==(0|I)?(R=g,0|y):0}function U(t){return(t|=0)>>>0>121?0|(t=0):0|(t=0|i[7696+(28*t|0)+16>>2])}function z(t){return 4==(0|(t|=0))|117==(0|t)|0}function Z(t){return 0|i[11120+(216*(0|i[(t|=0)>>2])|0)+(72*(0|i[t+4>>2])|0)+(24*(0|i[t+8>>2])|0)+(i[t+12>>2]<<3)>>2]}function j(t){return 0|i[11120+(216*(0|i[(t|=0)>>2])|0)+(72*(0|i[t+4>>2])|0)+(24*(0|i[t+8>>2])|0)+(i[t+12>>2]<<3)+4>>2]}function H(t,e){return e|=0,(0|i[7696+(28*(t|=0)|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|i[7696+(28*t|0)+24>>2])==(0|e))}function G(t,e){return 0|i[848+(28*(t|=0)|0)+((e|=0)<<2)>>2]}function V(t,e){return e|=0,(0|i[848+(28*(t|=0)|0)>>2])==(0|e)?0|(e=0):(0|i[848+(28*t|0)+4>>2])==(0|e)?0|(e=1):(0|i[848+(28*t|0)+8>>2])==(0|e)?0|(e=2):(0|i[848+(28*t|0)+12>>2])==(0|e)?0|(e=3):(0|i[848+(28*t|0)+16>>2])==(0|e)?0|(e=4):(0|i[848+(28*t|0)+20>>2])==(0|e)?0|(e=5):0|((0|i[848+(28*t|0)+24>>2])==(0|e)?6:7)}function W(t){return+a[(t|=0)+16>>3]<+a[t+24>>3]|0}function X(t,e){t|=0;var n,r,i=0;return(i=+a[(e|=0)>>3])>=+a[t+8>>3]&&i<=+a[t>>3]?(n=+a[t+16>>3],i=+a[t+24>>3],e=(r=+a[e+8>>3])>=i,t=r<=n&1,n<i?e&&(t=1):e||(t=0),0|(e=0!=(0|t))):0|(e=0)}function Y(t,e,n){t|=0,e|=0,n|=0;var r,s,c,h,f,A,d,p=0,m=0,v=0,g=0,b=0,x=0,w=0;A=R,R=R+288|0,f=A+264|0,g=A+96|0,m=(p=v=A)+96|0;do{i[p>>2]=0,p=p+4|0}while((0|p)<(0|m));return 0|(e=0|Yt(e,v))?(R=A,0|(x=e)):(Wt(v=0|i[(m=v)>>2],m=0|i[m+4>>2],f),Xt(v,m,g),h=+te(f,g+8|0),a[f>>3]=+a[t>>3],a[(m=f+8|0)>>3]=+a[t+16>>3],a[g>>3]=+a[t+8>>3],a[(v=g+8|0)>>3]=+a[t+24>>3],s=+te(f,g),w=+a[m>>3]-+a[v>>3],c=+u(+w),d=+a[f>>3]-+a[g>>3],r=+u(+d),0==w|0==d||(w=+je(+c,+r),w=+y(+s*s/+He(+w/+He(+c,+r),3)/(h*(2.59807621135*h)*.8)),a[o>>3]=w,b=~~w>>>0,x=+u(w)>=1?w>0?~~+_(+l(w/4294967296),4294967295)>>>0:~~+y((w-+(~~w>>>0))/4294967296)>>>0:0,2146435072==(2146435072&i[o+4>>2]|0))?e=1:(g=0==(0|b)&0==(0|x),i[(e=n)>>2]=g?1:b,i[e+4>>2]=g?0:x,e=0),R=A,0|(x=e))}function Q(t,e,n,r){t|=0,e|=0,n|=0,r|=0;var s,c,h,f,A=0,d=0,p=0;f=R,R=R+288|0,c=f+264|0,h=f+96|0,s=(A=d=f)+96|0;do{i[A>>2]=0,A=A+4|0}while((0|A)<(0|s));return 0|(n=0|Yt(n,d))?(R=f,0|(r=n)):(Wt(A=0|i[(n=d)>>2],n=0|i[n+4>>2],c),Xt(A,n,h),p=+te(c,h+8|0),p=+y(+ +te(t,e)/(2*p)),a[o>>3]=p,n=~~p>>>0,A=+u(p)>=1?p>0?~~+_(+l(p/4294967296),4294967295)>>>0:~~+y((p-+(~~p>>>0))/4294967296)>>>0:0,2146435072==(2146435072&i[o+4>>2]|0)?(R=f,0|(r=1)):(d=0==(0|n)&0==(0|A),i[r>>2]=d?1:n,i[r+4>>2]=d?0:A,R=f,0|(r=0)))}function K(t,e,n,r){e|=0,n|=0,r|=0,i[(t|=0)>>2]=e,i[t+4>>2]=n,i[t+8>>2]=r}function J(t,e){t|=0;var n,r,o,s,l=0,c=0,h=0,f=0,A=0,d=0,p=0;i[(s=(e|=0)+8|0)>>2]=0,r=+a[t>>3],f=+u(+r),o=+a[t+8>>3],f+=.5*(A=+u(+o)/.8660254037844386),f-=+(0|(l=~~f)),A-=+(0|(t=~~A));do{if(f<.5){if(f<.3333333333333333){if(i[e>>2]=l,A<.5*(f+1)){i[e+4>>2]=t;break}t=t+1|0,i[e+4>>2]=t;break}if(t=(1&!(A<(p=1-f)))+t|0,i[e+4>>2]=t,p<=A&A<2*f){l=l+1|0,i[e>>2]=l;break}i[e>>2]=l;break}if(!(f<.6666666666666666)){if(l=l+1|0,i[e>>2]=l,A<.5*f){i[e+4>>2]=t;break}t=t+1|0,i[e+4>>2]=t;break}if(A<1-f){if(i[e+4>>2]=t,2*f-1<A){i[e>>2]=l;break}}else t=t+1|0,i[e+4>>2]=t;l=l+1|0,i[e>>2]=l}while(0);do{if(r<0){if(1&t){l=~~(+(0|l)-(2*(+((d=0|Ne(0|l,((0|l)<0)<<31>>31|0,0|(d=(t+1|0)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|M()))+1)),i[e>>2]=l;break}l=~~(+(0|l)-2*(+((d=0|Ne(0|l,((0|l)<0)<<31>>31|0,0|(d=(0|t)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|M()))),i[e>>2]=l;break}}while(0);d=e+4|0,o<0&&(l=l-((1|t<<1)/2|0)|0,i[e>>2]=l,t=0-t|0,i[d>>2]=t),c=t-l|0,(0|l)<0?(h=0-l|0,i[d>>2]=c,i[s>>2]=h,i[e>>2]=0,t=c,l=0):h=0,(0|t)<0&&(l=l-t|0,i[e>>2]=l,h=h-t|0,i[s>>2]=h,i[d>>2]=0,t=0),n=l-h|0,c=t-h|0,(0|h)<0&&(i[e>>2]=n,i[d>>2]=c,i[s>>2]=0,t=c,l=n,h=0),(0|(c=(0|h)<(0|(c=(0|t)<(0|l)?t:l))?h:c))<=0||(i[e>>2]=l-c,i[d>>2]=t-c,i[s>>2]=h-c)}function $(t){var e,n=0,r=0,a=0,o=0,s=0;n=0|i[(t|=0)>>2],r=0|i[(e=t+4|0)>>2],(0|n)<0&&(r=r-n|0,i[e>>2]=r,i[(s=t+8|0)>>2]=(0|i[s>>2])-n,i[t>>2]=0,n=0),(0|r)<0?(n=n-r|0,i[t>>2]=n,o=(0|i[(s=t+8|0)>>2])-r|0,i[s>>2]=o,i[e>>2]=0,r=0):(s=o=t+8|0,o=0|i[o>>2]),(0|o)<0&&(n=n-o|0,i[t>>2]=n,r=r-o|0,i[e>>2]=r,i[s>>2]=0,o=0),(0|(a=(0|o)<(0|(a=(0|r)<(0|n)?r:n))?o:a))<=0||(i[t>>2]=n-a,i[e>>2]=r-a,i[s>>2]=o-a)}function tt(t,e){e|=0;var n,r;r=0|i[(t|=0)+8>>2],n=+((0|i[t+4>>2])-r|0),a[e>>3]=+((0|i[t>>2])-r|0)-.5*n,a[e+8>>3]=.8660254037844386*n}function et(t,e,n){t|=0,e|=0,i[(n|=0)>>2]=(0|i[e>>2])+(0|i[t>>2]),i[n+4>>2]=(0|i[e+4>>2])+(0|i[t+4>>2]),i[n+8>>2]=(0|i[e+8>>2])+(0|i[t+8>>2])}function nt(t,e,n){t|=0,e|=0,i[(n|=0)>>2]=(0|i[t>>2])-(0|i[e>>2]),i[n+4>>2]=(0|i[t+4>>2])-(0|i[e+4>>2]),i[n+8>>2]=(0|i[t+8>>2])-(0|i[e+8>>2])}function rt(t,e){e|=0;var n,r=0;r=0|b(0|i[(t|=0)>>2],e),i[t>>2]=r,n=0|b(0|i[(r=t+4|0)>>2],e),i[r>>2]=n,e=0|b(0|i[(t=t+8|0)>>2],e),i[t>>2]=e}function it(t){var e,n,r=0,a=0,o=0,s=0,l=0;l=(0|(n=0|i[(t|=0)>>2]))<0,t=(t=(a=(0|(s=((e=(0|(o=(0|i[t+4>>2])-(l?n:0)|0))<0)?0-o|0:0)+((0|i[t+8>>2])-(l?n:0))|0))<0)?0:s)-((o=(0|(a=(0|t)<(0|(a=(0|(r=(e?0:o)-(a?s:0)|0))<(0|(s=(l?0:n)-(e?o:0)-(a?s:0)|0))?r:s))?t:a))>0)?a:0)|0,r=r-(o?a:0)|0;t:do{switch(s-(o?a:0)|0){case 0:switch(0|r){case 0:return 0|(l=0==(0|t)?0:1==(0|t)?1:7);case 1:return 0|(l=0==(0|t)?2:1==(0|t)?3:7);default:break t}case 1:switch(0|r){case 0:return 0|(l=0==(0|t)?4:1==(0|t)?5:7);case 1:if(t)break t;return 0|(t=6);default:break t}}}while(0);return 0|(l=7)}function at(t){var e,n=0,r=0,a=0,o=0,s=0,l=0;o=0|i[(e=(t|=0)+8|0)>>2],s=(0|i[t>>2])-o|0,o=(0|i[(l=t+4|0)>>2])-o|0;do{if(s>>>0>715827881|o>>>0>715827881){if(r=(0|s)>0){if((2147483647-s|0)<(0|s))return 0|(l=1);if((2147483647-(s<<1)|0)<(0|s))return 0|(l=1)}else{if((-2147483648-s|0)>(0|s))return 0|(l=1);if((-2147483648-(s<<1)|0)>(0|s))return 0|(l=1)}if(n=3*s|0,(0|o)>0){if((2147483647-o|0)<(0|o))return 0|(l=1)}else if((-2147483648-o|0)>(0|o))return 0|(l=1);if(a=o<<1,(0|s)>-1){if((-2147483648|n|0)>=(0|o))return 0|(l=1)}else if((-2147483648^n|0)<(0|o))return 0|(l=1);if(r){if(!((2147483647-s|0)<(0|a))){r=a;break}return 0|(n=1)}if(!((-2147483648-s|0)>(0|a))){r=a;break}return 0|(n=1)}r=o<<1,n=3*s|0}while(0);a=0|Pe(+(n-o|0)/7),i[t>>2]=a,o=0|Pe(+(r+s|0)/7),i[l>>2]=o,i[e>>2]=0,n=(r=(0|o)<(0|a))?a:o,r=r?o:a;do{if((0|r)<0){if((0|n)>0){if((-2147483648|n|0)<(0|r)&-2147483648!=(0|r)&(2147483647-n|0)>=(0|r))break;E(23313,22444,355,22455)}if(-2147483648==(0|r)|(-2147483648-n|0)>(0|r)&&E(23313,22444,355,22455),(0|n)>-1){if((-2147483648|n|0)<(0|r))break;E(23313,22444,355,22455)}else{if((-2147483648^n|0)>=(0|r))break;E(23313,22444,355,22455)}}}while(0);return n=o-a|0,(0|a)<0?(r=0-a|0,i[l>>2]=n,i[e>>2]=r,i[t>>2]=0,a=0):(n=o,r=0),(0|n)<0&&(a=a-n|0,i[t>>2]=a,r=r-n|0,i[e>>2]=r,i[l>>2]=0,n=0),s=a-r|0,o=n-r|0,(0|r)<0?(i[t>>2]=s,i[l>>2]=o,i[e>>2]=0,n=o,o=s,r=0):o=a,(0|(a=(0|r)<(0|(a=(0|n)<(0|o)?n:o))?r:a))<=0||(i[t>>2]=o-a,i[l>>2]=n-a,i[e>>2]=r-a),0|(l=0)}function ot(t){var e,n=0,r=0,a=0,o=0,s=0,l=0;o=0|i[(e=(t|=0)+8|0)>>2],s=(0|i[t>>2])-o|0,o=(0|i[(l=t+4|0)>>2])-o|0;do{if(s>>>0>715827881|o>>>0>715827881){if(r=(0|s)>0){if((2147483647-s|0)<(0|s))return 0|(l=1)}else if((-2147483648-s|0)>(0|s))return 0|(l=1);if(n=s<<1,(0|o)>0){if((2147483647-o|0)<(0|o))return 0|(l=1);if((2147483647-(o<<1)|0)<(0|o))return 0|(l=1)}else{if((-2147483648-o|0)>(0|o))return 0|(l=1);if((-2147483648-(o<<1)|0)>(0|o))return 0|(l=1)}if(a=3*o|0,r){if((2147483647-n|0)<(0|o))return 0|(l=1)}else if((-2147483648-n|0)>(0|o))return 0|(l=1);if((0|o)>-1){if((-2147483648|a|0)<(0|s)){r=a;break}return 0|(n=1)}if(!((-2147483648^a|0)<(0|s))){r=a;break}return 0|(n=1)}r=3*o|0,n=s<<1}while(0);a=0|Pe(+(n+o|0)/7),i[t>>2]=a,o=0|Pe(+(r-s|0)/7),i[l>>2]=o,i[e>>2]=0,n=(r=(0|o)<(0|a))?a:o,r=r?o:a;do{if((0|r)<0){if((0|n)>0){if((-2147483648|n|0)<(0|r)&-2147483648!=(0|r)&(2147483647-n|0)>=(0|r))break;E(23313,22444,404,22469)}if(-2147483648==(0|r)|(-2147483648-n|0)>(0|r)&&E(23313,22444,404,22469),(0|n)>-1){if((-2147483648|n|0)<(0|r))break;E(23313,22444,404,22469)}else{if((-2147483648^n|0)>=(0|r))break;E(23313,22444,404,22469)}}}while(0);return n=o-a|0,(0|a)<0?(r=0-a|0,i[l>>2]=n,i[e>>2]=r,i[t>>2]=0,a=0):(n=o,r=0),(0|n)<0&&(a=a-n|0,i[t>>2]=a,r=r-n|0,i[e>>2]=r,i[l>>2]=0,n=0),s=a-r|0,o=n-r|0,(0|r)<0?(i[t>>2]=s,i[l>>2]=o,i[e>>2]=0,n=o,o=s,r=0):o=a,(0|(a=(0|r)<(0|(a=(0|n)<(0|o)?n:o))?r:a))<=0||(i[t>>2]=o-a,i[l>>2]=n-a,i[e>>2]=r-a),0|(l=0)}function st(t){var e,n,r=0,a=0,o=0,s=0,l=0;a=0|i[(e=(t|=0)+8|0)>>2],o=0|Pe(+((3*(r=(0|i[t>>2])-a|0)|0)-(a=(0|i[(n=t+4|0)>>2])-a|0)|0)/7),i[t>>2]=o,r=0|Pe(+((a<<1)+r|0)/7),i[n>>2]=r,i[e>>2]=0,a=r-o|0,(0|o)<0?(l=0-o|0,i[n>>2]=a,i[e>>2]=l,i[t>>2]=0,r=a,o=0,a=l):a=0,(0|r)<0&&(o=o-r|0,i[t>>2]=o,a=a-r|0,i[e>>2]=a,i[n>>2]=0,r=0),l=o-a|0,s=r-a|0,(0|a)<0?(i[t>>2]=l,i[n>>2]=s,i[e>>2]=0,r=s,s=l,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|r)<(0|s)?r:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=r-o,i[e>>2]=a-o)}function lt(t){var e,n,r=0,a=0,o=0,s=0,l=0;a=0|i[(e=(t|=0)+8|0)>>2],o=0|Pe(+(((r=(0|i[t>>2])-a|0)<<1)+(a=(0|i[(n=t+4|0)>>2])-a|0)|0)/7),i[t>>2]=o,r=0|Pe(+((3*a|0)-r|0)/7),i[n>>2]=r,i[e>>2]=0,a=r-o|0,(0|o)<0?(l=0-o|0,i[n>>2]=a,i[e>>2]=l,i[t>>2]=0,r=a,o=0,a=l):a=0,(0|r)<0&&(o=o-r|0,i[t>>2]=o,a=a-r|0,i[e>>2]=a,i[n>>2]=0,r=0),l=o-a|0,s=r-a|0,(0|a)<0?(i[t>>2]=l,i[n>>2]=s,i[e>>2]=0,r=s,s=l,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|r)<(0|s)?r:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=r-o,i[e>>2]=a-o)}function ut(t){var e,n,r,a=0,o=0,s=0,l=0;a=0|i[(t|=0)>>2],o=0|i[(n=t+4|0)>>2],s=0|i[(r=t+8|0)>>2],l=o+(3*a|0)|0,i[t>>2]=l,o=s+(3*o|0)|0,i[n>>2]=o,a=(3*s|0)+a|0,i[r>>2]=a,s=o-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=s,i[r>>2]=a,i[t>>2]=0,o=s,s=0):s=l,(0|o)<0&&(s=s-o|0,i[t>>2]=s,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=s-a|0,l=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,s=e,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=l-o,i[r>>2]=a-o)}function ct(t){var e,n,r,a=0,o=0,s=0,l=0;l=0|i[(t|=0)>>2],s=(3*(a=0|i[(n=t+4|0)>>2])|0)+l|0,l=(o=0|i[(r=t+8|0)>>2])+(3*l|0)|0,i[t>>2]=l,i[n>>2]=s,a=(3*o|0)+a|0,i[r>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=o,i[r>>2]=a,i[t>>2]=0,l=0):o=s,(0|o)<0&&(l=l-o|0,i[t>>2]=l,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=l-a|0,s=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=s,i[r>>2]=0,l=e,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|s)<(0|l)?s:l))?a:o))<=0||(i[t>>2]=l-o,i[n>>2]=s-o,i[r>>2]=a-o)}function ht(t,e){t|=0;var n,r,a,o=0,s=0,l=0;((e|=0)+-1|0)>>>0>=6||(l=(0|i[15440+(12*e|0)>>2])+(0|i[t>>2])|0,i[t>>2]=l,a=t+4|0,s=(0|i[15440+(12*e|0)+4>>2])+(0|i[a>>2])|0,i[a>>2]=s,r=t+8|0,e=(0|i[15440+(12*e|0)+8>>2])+(0|i[r>>2])|0,i[r>>2]=e,o=s-l|0,(0|l)<0?(e=e-l|0,i[a>>2]=o,i[r>>2]=e,i[t>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,i[t>>2]=s,e=e-o|0,i[r>>2]=e,i[a>>2]=0,o=0),n=s-e|0,l=o-e|0,(0|e)<0?(i[t>>2]=n,i[a>>2]=l,i[r>>2]=0,s=n,e=0):l=o,(0|(o=(0|e)<(0|(o=(0|l)<(0|s)?l:s))?e:o))<=0||(i[t>>2]=s-o,i[a>>2]=l-o,i[r>>2]=e-o))}function ft(t){var e,n,r,a=0,o=0,s=0,l=0;l=0|i[(t|=0)>>2],s=(a=0|i[(n=t+4|0)>>2])+l|0,l=(o=0|i[(r=t+8|0)>>2])+l|0,i[t>>2]=l,i[n>>2]=s,a=o+a|0,i[r>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=o,i[r>>2]=a,i[t>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,i[t>>2]=s,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=s-a|0,l=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,s=e,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=l-o,i[r>>2]=a-o)}function At(t){var e,n,r,a=0,o=0,s=0,l=0;a=0|i[(t|=0)>>2],s=0|i[(n=t+4|0)>>2],o=0|i[(r=t+8|0)>>2],l=s+a|0,i[t>>2]=l,s=o+s|0,i[n>>2]=s,a=o+a|0,i[r>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=o,i[r>>2]=a,i[t>>2]=0,s=0):(o=s,s=l),(0|o)<0&&(s=s-o|0,i[t>>2]=s,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=s-a|0,l=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,s=e,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=l-o,i[r>>2]=a-o)}function dt(t){switch(0|(t|=0)){case 1:t=5;break;case 5:t=4;break;case 4:t=6;break;case 6:t=2;break;case 2:t=3;break;case 3:t=1}return 0|t}function pt(t){switch(0|(t|=0)){case 1:t=3;break;case 3:t=2;break;case 2:t=6;break;case 6:t=4;break;case 4:t=5;break;case 5:t=1}return 0|t}function mt(t){var e,n,r,a=0,o=0,s=0,l=0;a=0|i[(t|=0)>>2],o=0|i[(n=t+4|0)>>2],s=0|i[(r=t+8|0)>>2],l=o+(a<<1)|0,i[t>>2]=l,o=s+(o<<1)|0,i[n>>2]=o,a=(s<<1)+a|0,i[r>>2]=a,s=o-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=s,i[r>>2]=a,i[t>>2]=0,o=s,s=0):s=l,(0|o)<0&&(s=s-o|0,i[t>>2]=s,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=s-a|0,l=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=l,i[r>>2]=0,s=e,a=0):l=o,(0|(o=(0|a)<(0|(o=(0|l)<(0|s)?l:s))?a:o))<=0||(i[t>>2]=s-o,i[n>>2]=l-o,i[r>>2]=a-o)}function vt(t){var e,n,r,a=0,o=0,s=0,l=0;l=0|i[(t|=0)>>2],s=((a=0|i[(n=t+4|0)>>2])<<1)+l|0,l=(o=0|i[(r=t+8|0)>>2])+(l<<1)|0,i[t>>2]=l,i[n>>2]=s,a=(o<<1)+a|0,i[r>>2]=a,o=s-l|0,(0|l)<0?(a=a-l|0,i[n>>2]=o,i[r>>2]=a,i[t>>2]=0,l=0):o=s,(0|o)<0&&(l=l-o|0,i[t>>2]=l,a=a-o|0,i[r>>2]=a,i[n>>2]=0,o=0),e=l-a|0,s=o-a|0,(0|a)<0?(i[t>>2]=e,i[n>>2]=s,i[r>>2]=0,l=e,a=0):s=o,(0|(o=(0|a)<(0|(o=(0|s)<(0|l)?s:l))?a:o))<=0||(i[t>>2]=l-o,i[n>>2]=s-o,i[r>>2]=a-o)}function gt(t,e){e|=0;var n,r,a,o=0,s=0,l=0;return a=(0|(r=(0|i[(t|=0)>>2])-(0|i[e>>2])|0))<0,n=(0|(s=(0|i[t+4>>2])-(0|i[e+4>>2])-(a?r:0)|0))<0,e=(e=(t=(0|(l=(a?0-r|0:0)+(0|i[t+8>>2])-(0|i[e+8>>2])+(n?0-s|0:0)|0))<0)?0:l)-((s=(0|(t=(0|e)<(0|(t=(0|(o=(n?0:s)-(t?l:0)|0))<(0|(l=(a?0:r)-(n?s:0)-(t?l:0)|0))?o:l))?e:t))>0)?t:0)|0,o=o-(s?t:0)|0,0|((0|(t=(0|(t=l-(s?t:0)|0))>-1?t:0-t|0))>(0|(e=(0|(o=(0|o)>-1?o:0-o|0))>(0|(e=(0|e)>-1?e:0-e|0))?o:e))?t:e)}function yt(t,e){e|=0;var n;n=0|i[(t|=0)+8>>2],i[e>>2]=(0|i[t>>2])-n,i[e+4>>2]=(0|i[t+4>>2])-n}function bt(t,e){e|=0;var n,r,a,o=0,s=0,l=0;s=0|i[(t|=0)>>2],i[e>>2]=s,l=0|i[t+4>>2],i[(r=e+4|0)>>2]=l,i[(a=e+8|0)>>2]=0,t=(o=(0|l)<(0|s))?s:l,o=o?l:s;do{if((0|o)<0){if((0|t)>0){if((-2147483648|t|0)<(0|o)&-2147483648!=(0|o)&(2147483647-t|0)>=(0|o))break;return 0|(t=1)}if(-2147483648==(0|o)|(-2147483648-t|0)>(0|o))return 0|(e=1);if((0|t)>-1){if((-2147483648|t|0)<(0|o))break;return 0|(t=1)}if(!((-2147483648^t|0)<(0|o)))break;return 0|(t=1)}}while(0);return t=l-s|0,(0|s)<0?(o=0-s|0,i[r>>2]=t,i[a>>2]=o,i[e>>2]=0,s=0):(t=l,o=0),(0|t)<0&&(s=s-t|0,i[e>>2]=s,o=o-t|0,i[a>>2]=o,i[r>>2]=0,t=0),n=s-o|0,l=t-o|0,(0|o)<0?(i[e>>2]=n,i[r>>2]=l,i[a>>2]=0,t=l,l=n,o=0):l=s,(0|(s=(0|o)<(0|(s=(0|t)<(0|l)?t:l))?o:s))<=0||(i[e>>2]=l-s,i[r>>2]=t-s,i[a>>2]=o-s),0|(e=0)}function _t(t){var e,n,r,a;n=(a=0|i[(e=(t|=0)+8|0)>>2])-(0|i[t>>2])|0,i[t>>2]=n,t=(0|i[(r=t+4|0)>>2])-a|0,i[r>>2]=t,i[e>>2]=0-(t+n)}function xt(t){var e,n,r=0,a=0,o=0,s=0,l=0;r=0-(a=0|i[(t|=0)>>2])|0,i[t>>2]=r,i[(e=t+8|0)>>2]=0,s=(o=0|i[(n=t+4|0)>>2])+a|0,(0|a)>0?(i[n>>2]=s,i[e>>2]=a,i[t>>2]=0,r=0,o=s):a=0,(0|o)<0?(l=r-o|0,i[t>>2]=l,a=a-o|0,i[e>>2]=a,i[n>>2]=0,s=l-a|0,r=0-a|0,(0|a)<0?(i[t>>2]=s,i[n>>2]=r,i[e>>2]=0,o=r,a=0):(o=0,s=l)):s=r,(0|(r=(0|a)<(0|(r=(0|o)<(0|s)?o:s))?a:r))<=0||(i[t>>2]=s-r,i[n>>2]=o-r,i[e>>2]=a-r)}function wt(t,e,n){n|=0;var r,a,o=0,s=0;return a=R,R=R+16|0,r=a,s=-2130706433&(e|=0)|134217728,!0&268435456==(2013265920&e|0)?(o=0|ze(0|(t|=0),0|e,56),M(),o=0|function(t,e,n){t|=0,e|=0,n|=0;var r=0,a=0,o=0;if(o=R,R=R+16|0,a=o,r=0|Bt(t,e),(n+-1|0)>>>0>5)return R=o,0|(a=-1);if(r=0!=(0|r),1==(0|n)&r)return R=o,0|(a=-1);do{if(!(0|ye(t,e,a))){if(r){r=(5+(0|i[21936+(n<<2)>>2])-(0|i[a>>2])|0)%5|0;break}r=(6+(0|i[21968+(n<<2)>>2])-(0|i[a>>2])|0)%6|0;break}r=-1}while(0);return a=r,R=o,0|a}(t,s,7&o),-1==(0|o)?(i[n>>2]=0,R=a,0|(s=6)):(0|Vt(t,s,r)&&E(23313,22484,282,22499),e=0|ze(0|t,0|e,52),M(),e&=15,0|Bt(t,s)?Tt(r,e,o,2,n):Ct(r,e,o,2,n),R=a,0|(s=0))):(R=a,0|(s=6))}function St(t,e,n,r){e|=0,r|=0;var o,s=0,l=0,u=0,c=0;if(o=R,R=R+16|0,function(t,e,n){t|=0,e|=0,n|=0;var r=0,o=0,s=0;s=R,R=R+32|0,o=s,function(t,e){t|=0,e|=0;var n=0,r=0,i=0;n=+a[t>>3],r=+f(+n),n=+A(+n),a[e+16>>3]=n,n=+a[t+8>>3],i=r*+f(+n),a[e>>3]=i,n=r*+A(+n),a[e+8>>3]=n}(t,o),i[e>>2]=0,a[n>>3]=5,r=+ge(16400,o),r<+a[n>>3]&&(i[e>>2]=0,a[n>>3]=r);r=+ge(16424,o),r<+a[n>>3]&&(i[e>>2]=1,a[n>>3]=r);r=+ge(16448,o),r<+a[n>>3]&&(i[e>>2]=2,a[n>>3]=r);r=+ge(16472,o),r<+a[n>>3]&&(i[e>>2]=3,a[n>>3]=r);r=+ge(16496,o),r<+a[n>>3]&&(i[e>>2]=4,a[n>>3]=r);r=+ge(16520,o),r<+a[n>>3]&&(i[e>>2]=5,a[n>>3]=r);r=+ge(16544,o),r<+a[n>>3]&&(i[e>>2]=6,a[n>>3]=r);r=+ge(16568,o),r<+a[n>>3]&&(i[e>>2]=7,a[n>>3]=r);r=+ge(16592,o),r<+a[n>>3]&&(i[e>>2]=8,a[n>>3]=r);r=+ge(16616,o),r<+a[n>>3]&&(i[e>>2]=9,a[n>>3]=r);r=+ge(16640,o),r<+a[n>>3]&&(i[e>>2]=10,a[n>>3]=r);r=+ge(16664,o),r<+a[n>>3]&&(i[e>>2]=11,a[n>>3]=r);r=+ge(16688,o),r<+a[n>>3]&&(i[e>>2]=12,a[n>>3]=r);r=+ge(16712,o),r<+a[n>>3]&&(i[e>>2]=13,a[n>>3]=r);r=+ge(16736,o),r<+a[n>>3]&&(i[e>>2]=14,a[n>>3]=r);r=+ge(16760,o),r<+a[n>>3]&&(i[e>>2]=15,a[n>>3]=r);r=+ge(16784,o),r<+a[n>>3]&&(i[e>>2]=16,a[n>>3]=r);r=+ge(16808,o),r<+a[n>>3]&&(i[e>>2]=17,a[n>>3]=r);r=+ge(16832,o),r<+a[n>>3]&&(i[e>>2]=18,a[n>>3]=r);if(r=+ge(16856,o),!(r<+a[n>>3]))return void(R=s);i[e>>2]=19,a[n>>3]=r,R=s}(t|=0,n|=0,c=o),(l=+p(+(1-.5*+a[c>>3])))<1e-16)return i[r>>2]=0,i[r+4>>2]=0,i[r+8>>2]=0,i[r+12>>2]=0,void(R=o);if(c=0|i[n>>2],s=+Jt((s=+a[15920+(24*c|0)>>3])-+Jt(+function(t,e){t|=0,e|=0;var n=0,r=0,i=0,o=0,s=0;return o=+a[e>>3],r=+f(+o),i=+a[e+8>>3]-+a[t+8>>3],s=r*+A(+i),n=+a[t>>3],+ +g(+s,+(+A(+o)*+f(+n)-+f(+i)*(r*+A(+n))))}(15600+(c<<4)|0,t))),u=0|jt(e)?+Jt(s+-.3334731722518321):s,s=+d(+l)/.381966011250105,(0|e)>0){t=0;do{s*=2.6457513110645907,t=t+1|0}while((0|t)!=(0|e))}l=+f(+u)*s,a[r>>3]=l,u=+A(+u)*s,a[r+8>>3]=u,R=o}function Mt(t,e,n,r,o){e|=0,n|=0,r|=0,o|=0;var s=0,l=0;if(s=+function(t){t|=0;var e=0,n=0;return n=+a[t>>3],e=+a[t+8>>3],+ +c(+(n*n+e*e))}(t|=0),s<1e-16)return e=15600+(e<<4)|0,i[o>>2]=i[e>>2],i[o+4>>2]=i[e+4>>2],i[o+8>>2]=i[e+8>>2],void(i[o+12>>2]=i[e+12>>2]);if(l=+g(+ +a[t+8>>3],+ +a[t>>3]),(0|n)>0){t=0;do{s/=2.6457513110645907,t=t+1|0}while((0|t)!=(0|n))}r?(s/=3,n=0==(0|jt(n)),s=+v(.381966011250105*(n?s:s/2.6457513110645907))):(s=+v(.381966011250105*s),0|jt(n)&&(l=+Jt(l+.3334731722518321))),function(t,e,n,r){t|=0,e=+e,n=+n,r|=0;var o=0,s=0,l=0,c=0;if(n<1e-16)return i[r>>2]=i[t>>2],i[r+4>>2]=i[t+4>>2],i[r+8>>2]=i[t+8>>2],void(i[r+12>>2]=i[t+12>>2]);s=e<0?e+6.283185307179586:e,s=e>=6.283185307179586?s+-6.283185307179586:s;do{if(!(s<1e-16)){if(o=+u(+(s+-3.141592653589793))<1e-16,e=+a[t>>3],o){e-=n,a[r>>3]=e,o=r;break}if(l=+f(+n),n=+A(+n),e=l*+A(+e)+ +f(+s)*(n*+f(+e)),e=+m(+((e=e>1?1:e)<-1?-1:e)),a[r>>3]=e,+u(+(e+-1.5707963267948966))<1e-16)return a[r>>3]=1.5707963267948966,void(a[r+8>>3]=0);if(+u(+(e+1.5707963267948966))<1e-16)return a[r>>3]=-1.5707963267948966,void(a[r+8>>3]=0);if(c=+f(+e),s=n*+A(+s)/c,n=+a[t>>3],e=(l-+A(+e)*+A(+n))/+f(+n)/c,l=s>1?1:s,e=e>1?1:e,(e=+a[t+8>>3]+ +g(+(l<-1?-1:l),+(e<-1?-1:e)))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);return void(a[r+8>>3]=e)}e=+a[t>>3]+n,a[r>>3]=e,o=r}while(0);if(+u(+(e+-1.5707963267948966))<1e-16)return a[o>>3]=1.5707963267948966,void(a[r+8>>3]=0);if(+u(+(e+1.5707963267948966))<1e-16)return a[o>>3]=-1.5707963267948966,void(a[r+8>>3]=0);if(e=+a[t+8>>3],e>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);a[r+8>>3]=e}(15600+(e<<4)|0,+Jt(+a[15920+(24*e|0)>>3]-l),s,o)}function Et(t,e,n){e|=0,n|=0;var r,a;r=R,R=R+16|0,tt((t|=0)+4|0,a=r),Mt(a,0|i[t>>2],e,0,n),R=r}function Tt(t,e,n,r,o){t|=0,e|=0,n|=0,r|=0,o|=0;var s,l,u,c,h,f,A,d,p,m,v,g,y,b,_,x,w,S,M,T,P,k,L=0,C=0,N=0,O=0,I=0,D=0;if(k=R,R=R+272|0,O=k+240|0,M=k,T=k+224|0,P=k+208|0,v=k+176|0,g=k+160|0,y=k+192|0,b=k+144|0,_=k+128|0,x=k+112|0,w=k+96|0,S=k+80|0,i[(L=k+256|0)>>2]=e,i[O>>2]=i[t>>2],i[O+4>>2]=i[t+4>>2],i[O+8>>2]=i[t+8>>2],i[O+12>>2]=i[t+12>>2],Pt(O,L,M),i[o>>2]=0,(0|(O=r+n+(5==(0|r)&1)|0))<=(0|n))R=k;else{l=T+4|0,u=v+4|0,c=n+5|0,h=16880+((s=0|i[L>>2])<<2)|0,f=16960+(s<<2)|0,A=_+8|0,d=x+8|0,p=w+8|0,m=P+4|0,N=n;t:for(;;){C=M+(((0|N)%5|0)<<4)|0,i[P>>2]=i[C>>2],i[P+4>>2]=i[C+4>>2],i[P+8>>2]=i[C+8>>2],i[P+12>>2]=i[C+12>>2];do{}while(2==(0|kt(P,s,0,1)));if((0|N)>(0|n)&0!=(0|jt(e))){if(i[v>>2]=i[P>>2],i[v+4>>2]=i[P+4>>2],i[v+8>>2]=i[P+8>>2],i[v+12>>2]=i[P+12>>2],tt(l,g),r=0|i[v>>2],L=0|i[17040+(80*r|0)+(i[T>>2]<<2)>>2],i[v>>2]=i[18640+(80*r|0)+(20*L|0)>>2],(0|(C=0|i[18640+(80*r|0)+(20*L|0)+16>>2]))>0){t=0;do{ft(u),t=t+1|0}while((0|t)<(0|C))}switch(C=18640+(80*r|0)+(20*L|0)+4|0,i[y>>2]=i[C>>2],i[y+4>>2]=i[C+4>>2],i[y+8>>2]=i[C+8>>2],rt(y,3*(0|i[h>>2])|0),et(u,y,u),$(u),tt(u,b),I=+(0|i[f>>2]),a[_>>3]=3*I,a[A>>3]=0,D=-1.5*I,a[x>>3]=D,a[d>>3]=2.598076211353316*I,a[w>>3]=D,a[p>>3]=-2.598076211353316*I,0|i[17040+(80*(0|i[v>>2])|0)+(i[P>>2]<<2)>>2]){case 1:t=x,r=_;break;case 3:t=w,r=x;break;case 2:t=_,r=w;break;default:t=12;break t}me(g,b,r,t,S),Mt(S,0|i[v>>2],s,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])}if((0|N)<(0|c)&&(tt(m,v),Mt(v,0|i[P>>2],s,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])),i[T>>2]=i[P>>2],i[T+4>>2]=i[P+4>>2],i[T+8>>2]=i[P+8>>2],i[T+12>>2]=i[P+12>>2],(0|(N=N+1|0))>=(0|O)){t=3;break}}3!=(0|t)?12==(0|t)&&E(22522,22569,571,22579):R=k}}function Pt(t,e,n){t|=0,e|=0,n|=0;var r,a=0,o=0,s=0,l=0,u=0;r=R,R=R+128|0,o=r,l=20240,u=(s=a=r+64|0)+60|0;do{i[s>>2]=i[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|u));l=20304,u=(s=o)+60|0;do{i[s>>2]=i[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|u));a=(u=0==(0|jt(0|i[e>>2])))?a:o,mt(o=t+4|0),vt(o),0|jt(0|i[e>>2])&&(ct(o),i[e>>2]=1+(0|i[e>>2])),i[n>>2]=i[t>>2],et(o,a,e=n+4|0),$(e),i[n+16>>2]=i[t>>2],et(o,a+12|0,e=n+20|0),$(e),i[n+32>>2]=i[t>>2],et(o,a+24|0,e=n+36|0),$(e),i[n+48>>2]=i[t>>2],et(o,a+36|0,e=n+52|0),$(e),i[n+64>>2]=i[t>>2],et(o,a+48|0,n=n+68|0),$(n),R=r}function kt(t,e,n,r){n|=0,r|=0;var a,o,s,l,u,c,h=0,f=0,A=0,d=0,p=0;if(c=R,R=R+32|0,u=c+12|0,o=c,p=(t|=0)+4|0,d=0|i[16960+((e|=0)<<2)>>2],d=(l=0!=(0|r))?3*d|0:d,h=0|i[p>>2],a=0|i[(s=t+8|0)>>2],l){if((0|(h=a+h+(r=0|i[(f=t+12|0)>>2])|0))==(0|d))return R=c,0|(p=1);A=f}else h=a+h+(r=0|i[(A=t+12|0)>>2])|0;if((0|h)<=(0|d))return R=c,0|(p=0);do{if((0|r)>0){if(r=0|i[t>>2],(0|a)>0){f=18640+(80*r|0)+60|0,r=t;break}r=18640+(80*r|0)+40|0,n?(K(u,d,0,0),nt(p,u,o),At(o),et(o,u,p),f=r,r=t):(f=r,r=t)}else f=18640+(80*(0|i[t>>2])|0)+20|0,r=t}while(0);if(i[r>>2]=i[f>>2],(0|i[(h=f+16|0)>>2])>0){r=0;do{ft(p),r=r+1|0}while((0|r)<(0|i[h>>2]))}return t=f+4|0,i[u>>2]=i[t>>2],i[u+4>>2]=i[t+4>>2],i[u+8>>2]=i[t+8>>2],e=0|i[16880+(e<<2)>>2],rt(u,l?3*e|0:e),et(p,u,p),$(p),r=l&&((0|i[s>>2])+(0|i[p>>2])+(0|i[A>>2])|0)==(0|d)?1:2,R=c,0|(p=r)}function Lt(t,e){t|=0,e|=0;var n=0;do{n=0|kt(t,e,0,1)}while(2==(0|n));return 0|n}function Ct(t,e,n,r,o){t|=0,e|=0,n|=0,r|=0,o|=0;var s,l,u,c,h,f,A,d,p,m,v,g,y,b,_,x,w,S,M=0,T=0,P=0,k=0,L=0;if(S=R,R=R+240|0,b=S+208|0,_=S,x=S+192|0,w=S+176|0,p=S+160|0,m=S+144|0,v=S+128|0,g=S+112|0,y=S+96|0,i[(M=S+224|0)>>2]=e,i[b>>2]=i[t>>2],i[b+4>>2]=i[t+4>>2],i[b+8>>2]=i[t+8>>2],i[b+12>>2]=i[t+12>>2],Rt(b,M,_),i[o>>2]=0,(0|(d=r+n+(6==(0|r)&1)|0))<=(0|n))R=S;else{l=n+6|0,u=16960+((s=0|i[M>>2])<<2)|0,c=m+8|0,h=v+8|0,f=g+8|0,A=x+4|0,T=0,P=n,r=-1;t:for(;;){if(t=_+((M=(0|P)%6|0)<<4)|0,i[x>>2]=i[t>>2],i[x+4>>2]=i[t+4>>2],i[x+8>>2]=i[t+8>>2],i[x+12>>2]=i[t+12>>2],t=T,T=0|kt(x,s,0,1),(0|P)>(0|n)&0!=(0|jt(e))&&(1!=(0|t)&&(0|i[x>>2])!=(0|r))){switch(tt(_+(((M+5|0)%6|0)<<4)+4|0,w),tt(_+(M<<4)+4|0,p),k=+(0|i[u>>2]),a[m>>3]=3*k,a[c>>3]=0,L=-1.5*k,a[v>>3]=L,a[h>>3]=2.598076211353316*k,a[g>>3]=L,a[f>>3]=-2.598076211353316*k,M=0|i[b>>2],0|i[17040+(80*M|0)+(((0|r)==(0|M)?0|i[x>>2]:r)<<2)>>2]){case 1:t=v,r=m;break;case 3:t=g,r=v;break;case 2:t=m,r=g;break;default:t=8;break t}me(w,p,r,t,y),0|ve(w,y)||0|ve(p,y)||(Mt(y,0|i[b>>2],s,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2]))}if((0|P)<(0|l)&&(tt(A,w),Mt(w,0|i[x>>2],s,1,o+8+(i[o>>2]<<4)|0),i[o>>2]=1+(0|i[o>>2])),(0|(P=P+1|0))>=(0|d)){t=3;break}r=0|i[x>>2]}3!=(0|t)?8==(0|t)&&E(22606,22569,736,22651):R=S}}function Rt(t,e,n){t|=0,e|=0,n|=0;var r,a=0,o=0,s=0,l=0,u=0;r=R,R=R+160|0,o=r,l=20368,u=(s=a=r+80|0)+72|0;do{i[s>>2]=i[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|u));l=20448,u=(s=o)+72|0;do{i[s>>2]=i[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|u));a=(u=0==(0|jt(0|i[e>>2])))?a:o,mt(o=t+4|0),vt(o),0|jt(0|i[e>>2])&&(ct(o),i[e>>2]=1+(0|i[e>>2])),i[n>>2]=i[t>>2],et(o,a,e=n+4|0),$(e),i[n+16>>2]=i[t>>2],et(o,a+12|0,e=n+20|0),$(e),i[n+32>>2]=i[t>>2],et(o,a+24|0,e=n+36|0),$(e),i[n+48>>2]=i[t>>2],et(o,a+36|0,e=n+52|0),$(e),i[n+64>>2]=i[t>>2],et(o,a+48|0,e=n+68|0),$(e),i[n+80>>2]=i[t>>2],et(o,a+60|0,n=n+84|0),$(n),R=r}function Nt(t,e){return e=0|ze(0|(t|=0),0|(e|=0),45),M(),127&e|0}function Ot(t,e){var n=0,r=0,i=0,a=0,o=0,s=0;if(!(!0&134217728==(-16777216&(e|=0)|0)))return 0|(e=0);if(o=0|ze(0|(t|=0),0|e,45),M(),(o&=127)>>>0>121)return 0|(e=0);n=0|ze(0|t,0|e,52),M(),n&=15;do{if(0|n){for(i=1,r=0;;){if(a=0|ze(0|t,0|e,3*(15-i|0)|0),M(),0!=(0|(a&=7))&(1^r)){if(1==(0|a)&0!=(0|U(o))){s=0,r=13;break}r=1}if(7==(0|a)){s=0,r=13;break}if(!(i>>>0<n>>>0)){r=9;break}i=i+1|0}if(9==(0|r)){if(15!=(0|n))break;return 0|(s=1)}if(13==(0|r))return 0|s}}while(0);for(;;){if(s=0|ze(0|t,0|e,3*(14-n|0)|0),M(),!(7==(7&s|0)&!0)){s=0,r=13;break}if(!(n>>>0<14)){s=1,r=13;break}n=n+1|0}return 13==(0|r)?0|s:0}function It(t,e,n,r){n|=0,r|=0;var a=0,o=0;if(o=0|ze(0|(t|=0),0|(e|=0),52),M(),n>>>0>15)return 0|(r=4);if((0|(o&=15))<(0|n))return 0|(r=12);if((0|o)==(0|n))return i[r>>2]=t,i[r+4>>2]=e,0|(r=0);if(a=0|Ze(0|n,0,52),a|=t,t=0|M()|-15728641&e,(0|o)>(0|n))do{e=0|Ze(7,0,3*(14-n|0)|0),n=n+1|0,a|=e,t=0|M()|t}while((0|n)<(0|o));return i[r>>2]=a,i[r+4>>2]=t,0|(r=0)}function Dt(t,e,n,r){n|=0,r|=0;var a=0,o=0,s=0;if(o=0|ze(0|(t|=0),0|(e|=0),52),M(),!((0|n)<16&(0|(o&=15))<=(0|n)))return 0|(r=4);a=n-o|0,n=0|ze(0|t,0|e,45),M();t:do{if(0|U(127&n)){e:do{if(0|o){for(n=1;0==((s=0|Ze(7,0,3*(15-n|0)|0))&t|0)&0==((0|M())&e|0);){if(!(n>>>0<o>>>0))break e;n=n+1|0}n=0|he(7,0,a,((0|a)<0)<<31>>31),a=0|M();break t}}while(0);n=0|Re(0|(n=0|Be(0|(n=0|he(7,0,a,((0|a)<0)<<31>>31)),0|M(),5,0)),0|M(),-5,-1),n=0|Re(0|(n=0|De(0|n,0|M(),6,0)),0|M(),1,0),a=0|M()}else n=0|he(7,0,a,((0|a)<0)<<31>>31),a=0|M()}while(0);return i[(s=r)>>2]=n,i[s+4>>2]=a,0|(s=0)}function Bt(t,e){var n=0,r=0,i=0;if(i=0|ze(0|(t|=0),0|(e|=0),45),M(),!(0|U(127&i)))return 0|(i=0);i=0|ze(0|t,0|e,52),M(),i&=15;t:do{if(i)for(r=1;;){if(n=0|ze(0|t,0|e,3*(15-r|0)|0),M(),0|(n&=7))break t;if(!(r>>>0<i>>>0)){n=0;break}r=r+1|0}else n=0}while(0);return 0|(i=0==(0|n)&1)}function qt(t,e){var n=0,r=0,i=0;if(i=0|ze(0|(t|=0),0|(e|=0),52),M(),!(i&=15))return 0|(i=0);for(r=1;;){if(n=0|ze(0|t,0|e,3*(15-r|0)|0),M(),0|(n&=7)){r=5;break}if(!(r>>>0<i>>>0)){n=0,r=5;break}r=r+1|0}return 5==(0|r)?0|n:0}function Ft(t,e){var n=0,r=0,i=0,a=0,o=0,s=0,l=0;if(l=0|ze(0|(t|=0),0|(e|=0),52),M(),!(l&=15))return l=t,S(0|(s=e)),0|l;for(s=1,n=0;;){r=0|Ze(7,0,0|(a=3*(15-s|0)|0)),i=0|M(),o=0|ze(0|t,0|e,0|a),M(),t=(a=0|Ze(0|dt(7&o),0,0|a))|t&~r,e=(o=0|M())|e&~i;t:do{if(!n)if(0==(a&r|0)&0==(o&i|0))n=0;else if(r=0|ze(0|t,0|e,52),M(),r&=15){n=1;e:for(;;){switch(o=0|ze(0|t,0|e,3*(15-n|0)|0),M(),7&o){case 1:break e;case 0:break;default:n=1;break t}if(!(n>>>0<r>>>0)){n=1;break t}n=n+1|0}for(n=1;;){if(i=0|ze(0|t,0|e,0|(o=3*(15-n|0)|0)),M(),a=0|Ze(7,0,0|o),e&=~(0|M()),t=t&~a|(o=0|Ze(0|dt(7&i),0,0|o)),e=0|e|M(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<l>>>0))break;s=s+1|0}return S(0|e),0|t}function Ut(t,e){var n=0,r=0,i=0,a=0,o=0;if(r=0|ze(0|(t|=0),0|(e|=0),52),M(),!(r&=15))return r=t,S(0|(n=e)),0|r;for(n=1;o=0|ze(0|t,0|e,0|(a=3*(15-n|0)|0)),M(),i=0|Ze(7,0,0|a),e&=~(0|M()),t=(a=0|Ze(0|dt(7&o),0,0|a))|t&~i,e=0|M()|e,n>>>0<r>>>0;)n=n+1|0;return S(0|e),0|t}function zt(t,e){var n=0,r=0,i=0,a=0,o=0,s=0,l=0;if(l=0|ze(0|(t|=0),0|(e|=0),52),M(),!(l&=15))return l=t,S(0|(s=e)),0|l;for(s=1,n=0;;){r=0|Ze(7,0,0|(a=3*(15-s|0)|0)),i=0|M(),o=0|ze(0|t,0|e,0|a),M(),t=(a=0|Ze(0|pt(7&o),0,0|a))|t&~r,e=(o=0|M())|e&~i;t:do{if(!n)if(0==(a&r|0)&0==(o&i|0))n=0;else if(r=0|ze(0|t,0|e,52),M(),r&=15){n=1;e:for(;;){switch(o=0|ze(0|t,0|e,3*(15-n|0)|0),M(),7&o){case 1:break e;case 0:break;default:n=1;break t}if(!(n>>>0<r>>>0)){n=1;break t}n=n+1|0}for(n=1;;){if(a=0|Ze(7,0,0|(i=3*(15-n|0)|0)),o=e&~(0|M()),e=0|ze(0|t,0|e,0|i),M(),t=t&~a|(e=0|Ze(0|pt(7&e),0,0|i)),e=0|o|M(),!(n>>>0<r>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(s>>>0<l>>>0))break;s=s+1|0}return S(0|e),0|t}function Zt(t,e){var n=0,r=0,i=0,a=0,o=0;if(r=0|ze(0|(t|=0),0|(e|=0),52),M(),!(r&=15))return r=t,S(0|(n=e)),0|r;for(n=1;a=0|Ze(7,0,0|(o=3*(15-n|0)|0)),i=e&~(0|M()),e=0|ze(0|t,0|e,0|o),M(),t=(e=0|Ze(0|pt(7&e),0,0|o))|t&~a,e=0|M()|i,n>>>0<r>>>0;)n=n+1|0;return S(0|e),0|t}function jt(t){return 0|(0|(t|=0))%2}function Ht(t,e,n){n|=0;var r,a=0;return r=R,R=R+16|0,a=r,(e|=0)>>>0>15?(R=r,0|(a=4)):2146435072==(2146435072&i[(t|=0)+4>>2]|0)||2146435072==(2146435072&i[t+8+4>>2]|0)?(R=r,0|(a=3)):(function(t,e,n){var r,i;r=R,R=R+16|0,St(t|=0,e|=0,n|=0,i=r),J(i,n+4|0),R=r}(t,e,a),e=0|function(t,e){t|=0;var n,r=0,a=0,o=0,s=0,l=0,u=0,c=0,h=0;if(n=R,R=R+64|0,u=n+40|0,a=n+24|0,o=n+12|0,s=n,Ze(0|(e|=0),0,52),r=134225919|M(),!e)return(0|i[t+4>>2])>2||(0|i[t+8>>2])>2||(0|i[t+12>>2])>2?(u=0,S(0|(l=0)),R=n,0|u):(Ze(0|Z(t),0,45),l=0|M()|r,u=-1,S(0|l),R=n,0|u);if(i[u>>2]=i[t>>2],i[u+4>>2]=i[t+4>>2],i[u+8>>2]=i[t+8>>2],i[u+12>>2]=i[t+12>>2],l=u+4|0,(0|e)>0)for(t=-1;i[a>>2]=i[l>>2],i[a+4>>2]=i[l+4>>2],i[a+8>>2]=i[l+8>>2],1&e?(st(l),i[o>>2]=i[l>>2],i[o+4>>2]=i[l+4>>2],i[o+8>>2]=i[l+8>>2],ut(o)):(lt(l),i[o>>2]=i[l>>2],i[o+4>>2]=i[l+4>>2],i[o+8>>2]=i[l+8>>2],ct(o)),nt(a,o,s),$(s),c=0|Ze(7,0,0|(h=3*(15-e|0)|0)),r&=~(0|M()),t=(h=0|Ze(0|it(s),0,0|h))|t&~c,r=0|M()|r,(0|e)>1;)e=e+-1|0;else t=-1;t:do{if((0|i[l>>2])<=2&&(0|i[u+8>>2])<=2&&(0|i[u+12>>2])<=2){if(e=0|Ze(0|(a=0|Z(u)),0,45),e|=t,t=0|M()|-1040385&r,s=0|j(u),!(0|U(a))){if((0|s)<=0)break;for(o=0;;){if(a=0|ze(0|e,0|t,52),M(),a&=15)for(r=1;u=0|ze(0|e,0|t,0|(h=3*(15-r|0)|0)),M(),c=0|Ze(7,0,0|h),t&=~(0|M()),e=e&~c|(h=0|Ze(0|dt(7&u),0,0|h)),t=0|t|M(),r>>>0<a>>>0;)r=r+1|0;if((0|(o=o+1|0))==(0|s))break t}}o=0|ze(0|e,0|t,52),M(),o&=15;e:do{if(o){r=1;n:for(;;){switch(h=0|ze(0|e,0|t,3*(15-r|0)|0),M(),7&h){case 1:break n;case 0:break;default:break e}if(!(r>>>0<o>>>0))break e;r=r+1|0}if(0|H(a,0|i[u>>2]))for(r=1;c=0|Ze(7,0,0|(u=3*(15-r|0)|0)),h=t&~(0|M()),t=0|ze(0|e,0|t,0|u),M(),e=e&~c|(t=0|Ze(0|pt(7&t),0,0|u)),t=0|h|M(),r>>>0<o>>>0;)r=r+1|0;else for(r=1;u=0|ze(0|e,0|t,0|(h=3*(15-r|0)|0)),M(),c=0|Ze(7,0,0|h),t&=~(0|M()),e=e&~c|(h=0|Ze(0|dt(7&u),0,0|h)),t=0|t|M(),r>>>0<o>>>0;)r=r+1|0}}while(0);if((0|s)>0){r=0;do{e=0|Ft(e,t),t=0|M(),r=r+1|0}while((0|r)!=(0|s))}}else e=0,t=0}while(0);return h=e,S(0|(c=t)),R=n,0|h}(a,e),a=0|M(),i[n>>2]=e,i[n+4>>2]=a,0==(0|e)&0==(0|a)&&E(23313,22674,786,22697),R=r,0|(a=0))}function Gt(t,e,n){var r,a=0,o=0,s=0;if(r=(n|=0)+4|0,o=0|ze(0|(t|=0),0|(e|=0),52),M(),o&=15,s=0|ze(0|t,0|e,45),M(),a=0==(0|o),0|U(127&s)){if(a)return 0|(s=1);a=1}else{if(a)return 0|(s=0);a=0==(0|i[r>>2])&&0==(0|i[n+8>>2])?0!=(0|i[n+12>>2])&1:1}for(n=1;1&n?ut(r):ct(r),s=0|ze(0|t,0|e,3*(15-n|0)|0),M(),ht(r,7&s),n>>>0<o>>>0;)n=n+1|0;return 0|a}function Vt(t,e,n){n|=0;var r,a,o=0,s=0,l=0,u=0,c=0,h=0;if(a=R,R=R+16|0,r=a,h=0|ze(0|(t|=0),0|(e|=0),45),M(),(h&=127)>>>0>121)return i[n>>2]=0,i[n+4>>2]=0,i[n+8>>2]=0,i[n+12>>2]=0,R=a,0|(h=5);t:do{if(0!=(0|U(h))&&(l=0|ze(0|t,0|e,52),M(),0!=(0|(l&=15)))){o=1;e:for(;;){switch(c=0|ze(0|t,0|e,3*(15-o|0)|0),M(),7&c){case 5:break e;case 0:break;default:o=e;break t}if(!(o>>>0<l>>>0)){o=e;break t}o=o+1|0}for(s=1,o=e;u=0|Ze(7,0,0|(e=3*(15-s|0)|0)),c=o&~(0|M()),o=0|ze(0|t,0|o,0|e),M(),t=t&~u|(o=0|Ze(0|pt(7&o),0,0|e)),o=0|c|M(),s>>>0<l>>>0;)s=s+1|0}else o=e}while(0);if(c=7696+(28*h|0)|0,i[n>>2]=i[c>>2],i[n+4>>2]=i[c+4>>2],i[n+8>>2]=i[c+8>>2],i[n+12>>2]=i[c+12>>2],!(0|Gt(t,o,n)))return R=a,0|(h=0);if(u=n+4|0,i[r>>2]=i[u>>2],i[r+4>>2]=i[u+4>>2],i[r+8>>2]=i[u+8>>2],l=0|ze(0|t,0|o,52),M(),c=15&l,1&l?(ct(u),l=c+1|0):l=c,0|U(h)){t:do{if(c)for(e=1;;){if(s=0|ze(0|t,0|o,3*(15-e|0)|0),M(),0|(s&=7)){o=s;break t}if(!(e>>>0<c>>>0)){o=0;break}e=e+1|0}else o=0}while(0);o=4==(0|o)&1}else o=0;if(0|kt(n,l,o,0)){if(0|U(h))do{}while(0!=(0|kt(n,l,0,0)));(0|l)!=(0|c)&&lt(u)}else(0|l)!=(0|c)&&(i[u>>2]=i[r>>2],i[u+4>>2]=i[r+4>>2],i[u+8>>2]=i[r+8>>2]);return R=a,0|(h=0)}function Wt(t,e,n){n|=0;var r,i,a=0;return i=R,R=R+16|0,0|(a=0|Vt(t|=0,e|=0,r=i))?(R=i,0|a):(a=0|ze(0|t,0|e,52),M(),Et(r,15&a,n),R=i,0|(a=0))}function Xt(t,e,n){n|=0;var r,i=0,a=0,o=0;if(r=R,R=R+16|0,0|(i=0|Vt(t|=0,e|=0,o=r)))return R=r,0|(o=i);i=0|ze(0|t,0|e,45),M(),i=0==(0|U(127&i)),a=0|ze(0|t,0|e,52),M(),a&=15;t:do{if(!i){if(0|a)for(i=1;;){if(!(0==((0|Ze(7,0,3*(15-i|0)|0))&t|0)&0==((0|M())&e|0)))break t;if(!(i>>>0<a>>>0))break;i=i+1|0}return Tt(o,a,0,5,n),R=r,0|0}}while(0);return Ct(o,a,0,6,n),R=r,0|0}function Yt(t,e){e|=0;var n=0,r=0,a=0,o=0,s=0,l=0,u=0;if((t|=0)>>>0>15)return 0|(l=4);if(Ze(0|t,0,52),l=134225919|M(),!t){n=0,r=0;do{0|U(r)&&(Ze(0|r,0,45),s=0|l|M(),i[(t=e+(n<<3)|0)>>2]=-1,i[t+4>>2]=s,n=n+1|0),r=r+1|0}while(122!=(0|r));return 0|(n=0)}n=0,s=0;do{if(0|U(s)){for(Ze(0|s,0,45),r=1,a=-1,o=0|l|M();a&=~(u=0|Ze(7,0,3*(15-r|0)|0)),o&=~(0|M()),(0|r)!=(0|t);)r=r+1|0;i[(u=e+(n<<3)|0)>>2]=a,i[u+4>>2]=o,n=n+1|0}s=s+1|0}while(122!=(0|s));return 0|(n=0)}function Qt(t,e,n,r){t|=0,r|=0;var a=0,o=0;a=0|ze(0|(e|=0),0|(n|=0),52),M(),0==(0|e)&0==(0|n)|(0|r)>15|(0|(a&=15))>(0|r)?(r=-1,a=-1,e=0,n=0):(o=0|function(t,e,n,r){return t|=0,e|=0,(0|(r|=0))<(0|(n|=0))?(r=t,S(0|(n=e)),0|r):(n=0|Ze(-1,-1,3+(3*(r-n|0)|0)|0),r=0|Ze(0|~n,0|~(0|M()),3*(15-r|0)|0),n=~(0|M())&e,r=~r&t,S(0|n),0|r)}(e,n,a+1|0,r),n=-15728641&(0|M()),e=0|Ze(0|r,0,52),r=(o=0==(0|Bt(e|=o,n=0|n|M())))?-1:r),i[(o=t)>>2]=e,i[o+4>>2]=n,i[t+8>>2]=a,i[t+12>>2]=r}function Kt(t){var e,n=0,r=0,a=0,o=0,s=0,l=0,u=0,c=0;if(!(0==(0|(n=0|i[(r=t|=0)>>2]))&0==(0|(r=0|i[r+4>>2])))&&(a=0|ze(0|n,0|r,52),M(),n=0|Re(0|(u=0|Ze(1,0,3*(15^(a&=15))|0)),0|M(),0|n,0|r),r=0|M(),i[(u=t)>>2]=n,i[u+4>>2]=r,!((0|a)<(0|(l=0|i[(u=t+8|0)>>2]))))){for(e=t+12|0,s=a;;){if((0|s)==(0|l)){a=5;break}if(c=(0|s)==(0|i[e>>2]),a=0|ze(0|n,0|r,0|(o=3*(15-s|0)|0)),M(),c&1==(0|(a&=7))&!0){a=7;break}if(!(7==(0|a)&!0)){a=10;break}if(n=0|Re(0|n,0|r,0|(c=0|Ze(1,0,0|o)),0|M()),r=0|M(),i[(c=t)>>2]=n,i[c+4>>2]=r,!((0|s)>(0|l))){a=10;break}s=s+-1|0}if(5==(0|a))return i[(c=t)>>2]=0,i[c+4>>2]=0,i[u>>2]=-1,void(i[e>>2]=-1);if(7==(0|a))return l=0|Re(0|n,0|r,0|(l=0|Ze(1,0,0|o)),0|M()),u=0|M(),i[(c=t)>>2]=l,i[c+4>>2]=u,void(i[e>>2]=s+-1)}}function Jt(t){var e;return e=(t=+t)<0?t+6.283185307179586:t,+(t>=6.283185307179586?e+-6.283185307179586:e)}function $t(t,e){return e|=0,+u(+(+a[(t|=0)>>3]-+a[e>>3]))<17453292519943298e-27?0|(e=+u(+(+a[t+8>>3]-+a[e+8>>3]))<17453292519943298e-27):0|(e=0)}function te(t,e){t|=0;var n,r,i,o=0;return r=+a[(e|=0)>>3],n=+a[t>>3],o=(i=+A(.5*(r-n)))*i+(o=+A(.5*(+a[e+8>>3]-+a[t+8>>3])))*(+f(+r)*+f(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))*6371.007180918475}function ee(t,e){e|=0;var n=0;return(t|=0)>>>0>15?0|(e=4):(n=0|Be(0|(n=0|he(7,0,t,((0|t)<0)<<31>>31)),0|M(),120,0),t=0|M(),i[e>>2]=2|n,i[e+4>>2]=t,0|(e=0))}function ne(t,e,n){t|=0,n|=0;var r,i,o,s,l=0,u=0,h=0,p=0,m=0,y=0;return y=+a[(e|=0)>>3],o=+a[t>>3],m=+A(.5*(y-o)),h=+a[e+8>>3],i=+a[t+8>>3],p=+A(.5*(h-i)),r=+f(+o),s=+f(+y),p=2*+g(+ +c(+(p=m*m+p*(s*r*p))),+ +c(+(1-p))),m=+a[n>>3],y=+A(.5*(m-y)),l=+a[n+8>>3],h=+A(.5*(l-h)),u=+f(+m),h=2*+g(+ +c(+(h=y*y+h*(s*u*h))),+ +c(+(1-h))),m=+A(.5*(o-m)),l=+A(.5*(i-l)),l=2*+g(+ +c(+(l=m*m+l*(r*u*l))),+ +c(+(1-l))),4*+v(+ +c(+ +d(.5*(u=.5*(p+h+l)))*+d(.5*(u-p))*+d(.5*(u-h))*+d(.5*(u-l))))}function re(t,e,n){n|=0;var r,o,s,l=0,u=0;if(s=R,R=R+192|0,o=s,0|(u=0|Wt(t|=0,e|=0,r=s+168|0)))return R=s,0|(n=u);if(0|Xt(t,e,o)&&E(23313,22742,386,22751),(0|(e=0|i[o>>2]))>0){if(l=+ne(o+8|0,o+8+((1!=(0|e)&1)<<4)|0,r)+0,1!=(0|e)){t=1;do{l+=+ne(o+8+((u=t)<<4)|0,o+8+(((0|(t=t+1|0))%(0|e)|0)<<4)|0,r)}while((0|t)<(0|e))}}else l=0;return a[n>>3]=l,R=s,0|(n=0)}function ie(t){t|=0;var e,n,r=0;return(e=0|Ce(1,12))||E(22832,22787,49,22845),0|(r=0|i[(n=t+4|0)>>2])?(i[(r=r+8|0)>>2]=e,i[n>>2]=e,0|e):(0|i[t>>2]&&E(22862,22787,61,22885),i[(r=t)>>2]=e,i[n>>2]=e,0|e)}function ae(t,e){t|=0,e|=0;var n,r;return(r=0|ke(24))||E(22899,22787,78,22913),i[r>>2]=i[e>>2],i[r+4>>2]=i[e+4>>2],i[r+8>>2]=i[e+8>>2],i[r+12>>2]=i[e+12>>2],i[r+16>>2]=0,0|(n=0|i[(e=t+4|0)>>2])?(i[n+16>>2]=r,i[e>>2]=r,0|r):(0|i[t>>2]&&E(22928,22787,82,22913),i[t>>2]=r,i[e>>2]=r,0|r)}function oe(t){var e=0,n=0,r=0,a=0;if(t|=0)for(r=1;;){if(0|(e=0|i[t>>2]))do{if(0|(n=0|i[e>>2]))do{a=n,n=0|i[n+16>>2],Le(a)}while(0!=(0|n));a=e,e=0|i[e+8>>2],Le(a)}while(0!=(0|e));if(e=t,t=0|i[t+8>>2],r||Le(e),!t)break;r=0}}function se(t){var e,n,r=0,o=0,s=0,l=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,S=0,M=0,T=0,P=0,k=0,L=0,C=0,R=0,N=0,O=0,I=0,D=0;if(0|i[(l=(t|=0)+8|0)>>2])return 0|(D=1);if(!(s=0|i[t>>2]))return 0|(D=0);r=s,o=0;do{o=o+1|0,r=0|i[r+8>>2]}while(0!=(0|r));if(o>>>0<2)return 0|(D=0);(n=0|ke(o<<2))||E(22948,22787,317,22967),(e=0|ke(o<<5))||E(22989,22787,321,22967),i[t>>2]=0,i[(P=t+4|0)>>2]=0,i[l>>2]=0,o=0,O=0,T=0,m=0;t:for(;;){if(p=0|i[s>>2]){c=0,h=p;do{if(A=+a[h+8>>3],r=h,h=0|i[h+16>>2],f=+a[(l=(d=0==(0|h))?p:h)+8>>3],+u(+(A-f))>3.141592653589793){D=14;break}c+=(f-A)*(+a[r>>3]+ +a[l>>3])}while(!d);if(14==(0|D)){D=0,c=0,r=p;do{M=+a[r+8>>3],R=0|i[(N=r+16|0)>>2],S=+a[(R=0==(0|R)?p:R)+8>>3],c+=(+a[r>>3]+ +a[R>>3])*((S<0?S+6.283185307179586:S)-(M<0?M+6.283185307179586:M)),r=0|i[(0==(0|r)?s:N)>>2]}while(0!=(0|r))}c>0?(i[n+(O<<2)>>2]=s,O=O+1|0,l=T,r=m):D=19}else D=19;if(19==(0|D)){D=0;do{if(!o){if(m){l=P,h=m+8|0,r=s,o=t;break}if(0|i[t>>2]){D=27;break t}l=P,h=t,r=s,o=t;break}if(0|i[(r=o+8|0)>>2]){D=21;break t}if(!(o=0|Ce(1,12))){D=23;break t}i[r>>2]=o,l=o+4|0,h=o,r=m}while(0);if(i[h>>2]=s,i[l>>2]=s,h=e+(T<<5)|0,d=0|i[s>>2]){for(a[(p=e+(T<<5)+8|0)>>3]=17976931348623157e292,a[(m=e+(T<<5)+24|0)>>3]=17976931348623157e292,a[h>>3]=-17976931348623157e292,a[(v=e+(T<<5)+16|0)>>3]=-17976931348623157e292,x=17976931348623157e292,w=-17976931348623157e292,l=0,g=d,A=17976931348623157e292,b=17976931348623157e292,_=-17976931348623157e292,f=-17976931348623157e292;c=+a[g>>3],M=+a[g+8>>3],g=0|i[g+16>>2],S=+a[((y=0==(0|g))?d:g)+8>>3],c<A&&(a[p>>3]=c,A=c),M<b&&(a[m>>3]=M,b=M),c>_?a[h>>3]=c:c=_,M>f&&(a[v>>3]=M,f=M),x=M>0&M<x?M:x,w=M<0&M>w?M:w,l|=+u(+(M-S))>3.141592653589793,!y;)_=c;l&&(a[v>>3]=w,a[m>>3]=x)}else i[h>>2]=0,i[h+4>>2]=0,i[h+8>>2]=0,i[h+12>>2]=0,i[h+16>>2]=0,i[h+20>>2]=0,i[h+24>>2]=0,i[h+28>>2]=0;l=T+1|0}if(s=0|i[(N=s+8|0)>>2],i[N>>2]=0,!s){D=45;break}T=l,m=r}if(21==(0|D))E(22765,22787,35,22799);else if(23==(0|D))E(22819,22787,37,22799);else if(27==(0|D))E(22862,22787,61,22885);else if(45==(0|D)){t:do{if((0|O)>0){for(N=0==(0|l),C=l<<2,R=0==(0|t),L=0,r=0;;){if(k=0|i[n+(L<<2)>>2],N)D=73;else{if(!(T=0|ke(C))){D=50;break}if(!(P=0|ke(C))){D=52;break}e:do{if(R)o=0;else{for(l=0,o=0,h=t;s=e+(l<<5)|0,0|le(0|i[h>>2],s,0|i[k>>2])?(i[T+(o<<2)>>2]=h,i[P+(o<<2)>>2]=s,y=o+1|0):y=o,h=0|i[h+8>>2];)l=l+1|0,o=y;if((0|y)>0)if(s=0|i[T>>2],1==(0|y))o=s;else for(v=0,g=-1,o=s,m=s;;){for(d=0|i[m>>2],s=0,h=0;p=(0|(l=0|i[i[T+(h<<2)>>2]>>2]))==(0|d)?s:s+(1&(0|le(l,0|i[P+(h<<2)>>2],0|i[d>>2])))|0,(0|(h=h+1|0))!=(0|y);)s=p;if(o=(l=(0|p)>(0|g))?m:o,(0|(s=v+1|0))==(0|y))break e;v=s,g=l?p:g,m=0|i[T+(s<<2)>>2]}else o=0}}while(0);if(Le(T),Le(P),o){if(s=0|i[(l=o+4|0)>>2])o=s+8|0;else if(0|i[o>>2]){D=70;break}i[o>>2]=k,i[l>>2]=k}else D=73}if(73==(0|D)){if(D=0,0|(r=0|i[k>>2]))do{P=r,r=0|i[r+16>>2],Le(P)}while(0!=(0|r));Le(k),r=1}if((0|(L=L+1|0))>=(0|O)){I=r;break t}}50==(0|D)?E(23004,22787,249,23023):52==(0|D)?E(23042,22787,252,23023):70==(0|D)&&E(22862,22787,61,22885)}else I=0}while(0);return Le(n),Le(e),0|(D=I)}return 0}function le(t,e,n){t|=0;var r=0,o=0,s=0,l=0,u=0,c=0,h=0,f=0;if(!(0|X(e|=0,n|=0)))return 0|(t=0);if(e=0|W(e),r=+a[n>>3],o=e&(o=+a[n+8>>3])<0?o+6.283185307179586:o,!(t=0|i[t>>2]))return 0|(t=0);if(e){e=0,h=o,n=t;t:for(;;){for(;l=+a[n>>3],o=+a[n+8>>3],f=0|i[(n=n+16|0)>>2],s=+a[(f=0==(0|f)?t:f)>>3],u=+a[f+8>>3],l>s?(c=l,l=u):(c=s,s=l,l=o,o=u),(r=r==s|r==c?r+2220446049250313e-31:r)<s|r>c;)if(!(n=0|i[n>>2])){n=22;break t}if(((c=(u=l<0?l+6.283185307179586:l)+(r-s)/(c-s)*((l=o<0?o+6.283185307179586:o)-u))<0?c+6.283185307179586:c)>(h=u==h|l==h?h+-2220446049250313e-31:h)&&(e^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|e}else{e=0,h=o,n=t;t:for(;;){for(;l=+a[n>>3],o=+a[n+8>>3],f=0|i[(n=n+16|0)>>2],s=+a[(f=0==(0|f)?t:f)>>3],u=+a[f+8>>3],l>s?(c=l,l=u):(c=s,s=l,l=o,o=u),(r=r==s|r==c?r+2220446049250313e-31:r)<s|r>c;)if(!(n=0|i[n>>2])){n=22;break t}if(l+(r-s)/(c-s)*(o-l)>(h=l==h|o==h?h+-2220446049250313e-31:h)&&(e^=1),!(n=0|i[n>>2])){n=22;break}}if(22==(0|n))return 0|e}return 0}function ue(t,e,n,a,o){n|=0,a|=0,o|=0;var s,l,u,c,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0;if(c=R,R=R+32|0,b=c+16|0,u=c,h=0|ze(0|(t|=0),0|(e|=0),52),M(),h&=15,v=0|ze(0|n,0|a,52),M(),(0|h)!=(15&v|0))return R=c,0|(b=12);if(p=0|ze(0|t,0|e,45),M(),p&=127,m=0|ze(0|n,0|a,45),M(),p>>>0>121|(m&=127)>>>0>121)return R=c,0|(b=5);if(v=(0|p)!=(0|m)){if(7==(0|(A=0|V(p,m))))return R=c,0|(b=1);7==(0|(d=0|V(m,p)))?E(23066,23090,161,23100):(g=A,f=d)}else g=0,f=0;s=0|U(p),l=0|U(m),i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0;do{if(g){if(A=(0|(m=0|i[4272+(28*p|0)+(g<<2)>>2]))>0,l)if(A){p=0,d=n,A=a;do{d=0|zt(d,A),A=0|M(),1==(0|(f=0|pt(f)))&&(f=0|pt(1)),p=p+1|0}while((0|p)!=(0|m));m=f,p=d,d=A}else m=f,p=n,d=a;else if(A){p=0,d=n,A=a;do{d=0|Zt(d,A),A=0|M(),f=0|pt(f),p=p+1|0}while((0|p)!=(0|m));m=f,p=d,d=A}else m=f,p=n,d=a;if(Gt(p,d,b),v||E(23115,23090,191,23100),(A=0!=(0|s))&(f=0!=(0|l))&&E(23142,23090,192,23100),A){if(7==(0|(f=0|qt(t,e)))){h=5;break}if(0|r[21872+(7*f|0)+g>>0]){h=1;break}p=d=0|i[21040+(28*f|0)+(g<<2)>>2]}else if(f){if(7==(0|(f=0|qt(p,d)))){h=5;break}if(0|r[21872+(7*f|0)+m>>0]){h=1;break}p=0,d=0|i[21040+(28*m|0)+(f<<2)>>2]}else p=0,d=0;if((p|d|0)<0)h=5;else{if((0|d)>0){A=b+4|0,f=0;do{At(A),f=f+1|0}while((0|f)!=(0|d))}if(i[u>>2]=0,i[u+4>>2]=0,i[u+8>>2]=0,ht(u,g),0|h)for(;0|jt(h)?ut(u):ct(u),(0|h)>1;)h=h+-1|0;if((0|p)>0){h=0;do{At(u),h=h+1|0}while((0|h)!=(0|p))}et(y=b+4|0,u,y),$(y),y=51}}else if(Gt(n,a,b),0!=(0|s)&0!=(0|l))if((0|m)!=(0|p)&&E(23173,23090,261,23100),7==(0|(f=0|qt(t,e)))|7==(0|(h=0|qt(n,a))))h=5;else if(0|r[21872+(7*f|0)+h>>0])h=1;else if((0|(f=0|i[21040+(28*f|0)+(h<<2)>>2]))>0){A=b+4|0,h=0;do{At(A),h=h+1|0}while((0|h)!=(0|f));y=51}else y=51;else y=51}while(0);return 51==(0|y)&&(h=b+4|0,i[o>>2]=i[h>>2],i[o+4>>2]=i[h+4>>2],i[o+8>>2]=i[h+8>>2],h=0),R=c,0|(b=h)}function ce(t,e,n,r){n|=0,r|=0;var a,o,s,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0;if(s=R,R=R+48|0,a=s+36|0,c=s+24|0,h=s+12|0,f=s,l=0|ze(0|(t|=0),0|(e|=0),52),M(),l&=15,d=0|ze(0|t,0|e,45),M(),(d&=127)>>>0>121)return R=s,0|(r=5);if(o=0|U(d),Ze(0|l,0,52),v=134225919|M(),i[(u=r)>>2]=-1,i[u+4>>2]=v,!l)return 7==(0|(l=0|it(n)))||127==(0|(l=0|G(d,l)))?(R=s,0|(v=1)):(p=0|Ze(0|l,0,45),m=0|M(),m=-1040385&i[(d=r)+4>>2]|m,i[(v=r)>>2]=i[d>>2]|p,i[v+4>>2]=m,R=s,0|(v=0));for(i[a>>2]=i[n>>2],i[a+4>>2]=i[n+4>>2],i[a+8>>2]=i[n+8>>2],n=l;;){if(u=n,n=n+-1|0,i[c>>2]=i[a>>2],i[c+4>>2]=i[a+4>>2],i[c+8>>2]=i[a+8>>2],0|jt(u)){if(0|(l=0|at(a))){n=13;break}i[h>>2]=i[a>>2],i[h+4>>2]=i[a+4>>2],i[h+8>>2]=i[a+8>>2],ut(h)}else{if(0|(l=0|ot(a))){n=13;break}i[h>>2]=i[a>>2],i[h+4>>2]=i[a+4>>2],i[h+8>>2]=i[a+8>>2],ct(h)}if(nt(c,h,f),$(f),y=0|i[(l=r)>>2],l=0|i[l+4>>2],g=0|Ze(7,0,0|(b=3*(15-u|0)|0)),l&=~(0|M()),b=0|Ze(0|it(f),0,0|b),l=0|M()|l,i[(v=r)>>2]=b|y&~g,i[v+4>>2]=l,(0|u)<=1){n=14;break}}t:do{if(13!=(0|n)&&14==(0|n))if((0|i[a>>2])<=1&&(0|i[a+4>>2])<=1&&(0|i[a+8>>2])<=1){f=127==(0|(l=0|G(d,n=0|it(a))))?0:0|U(l);e:do{if(n){if(o){if(7==(0|(l=0|qt(t,e)))){l=5;break t}if((0|(u=0|i[21248+(28*l|0)+(n<<2)>>2]))>0){l=n,n=0;do{l=0|dt(l),n=n+1|0}while((0|n)!=(0|u))}else l=n;if(1==(0|l)){l=9;break t}127==(0|(n=0|G(d,l)))&&E(23200,23090,411,23230),0|U(n)?E(23245,23090,412,23230):(m=n,p=u,A=l)}else m=l,p=0,A=n;if((0|(h=0|i[4272+(28*d|0)+(A<<2)>>2]))<=-1&&E(23276,23090,419,23230),!f){if((0|p)<0){l=5;break t}if(0|p){l=0,n=0|i[(u=r)>>2],u=0|i[u+4>>2];do{n=0|Ut(n,u),u=0|M(),i[(b=r)>>2]=n,i[b+4>>2]=u,l=l+1|0}while((0|l)<(0|p))}if((0|h)<=0){l=m,n=58;break}for(l=0,n=0|i[(u=r)>>2],u=0|i[u+4>>2];;)if(n=0|Ut(n,u),u=0|M(),i[(b=r)>>2]=n,i[b+4>>2]=u,(0|(l=l+1|0))==(0|h)){l=m,n=58;break e}}if(7==(0|(c=0|V(m,d)))&&E(23066,23090,428,23230),n=0|i[(l=r)>>2],l=0|i[l+4>>2],(0|h)>0){u=0;do{n=0|Ut(n,l),l=0|M(),i[(b=r)>>2]=n,i[b+4>>2]=l,u=u+1|0}while((0|u)!=(0|h))}if(7==(0|(l=0|qt(n,l)))&&E(23313,23090,440,23230),n=0|z(m),(0|(n=0|i[(n?21664:21456)+(28*c|0)+(l<<2)>>2]))<0&&E(23313,23090,454,23230),n){l=0,u=0|i[(c=r)>>2],c=0|i[c+4>>2];do{u=0|Ft(u,c),c=0|M(),i[(b=r)>>2]=u,i[b+4>>2]=c,l=l+1|0}while((0|l)<(0|n));l=m,n=58}else l=m,n=58}else if(0!=(0|o)&0!=(0|f)){if(7==(0|(n=0|qt(t,e)))|7==(0|(u=0|qt(0|i[(u=r)>>2],0|i[u+4>>2])))){l=5;break t}if((0|(u=0|i[21248+(28*n|0)+(u<<2)>>2]))<0){l=5;break t}if(u){n=0,c=0|i[(h=r)>>2],h=0|i[h+4>>2];do{c=0|Ut(c,h),h=0|M(),i[(b=r)>>2]=c,i[b+4>>2]=h,n=n+1|0}while((0|n)<(0|u));n=58}else n=59}else n=58}while(0);if(58==(0|n)&&f&&(n=59),59==(0|n)&&1==(0|qt(0|i[(b=r)>>2],0|i[b+4>>2]))){l=9;break}g=0|i[(b=r)>>2],b=-1040385&i[b+4>>2],y=0|Ze(0|l,0,45),b=0|b|M(),i[(l=r)>>2]=g|y,i[l+4>>2]=b,l=0}else l=1}while(0);return R=s,0|(b=l)}function he(t,e,n,r){t|=0,e|=0;var i=0,a=0,o=0;if(0==(0|(n|=0))&0==(0|(r|=0)))return a=1,S(0|(i=0)),0|a;a=t,i=e,t=1,e=0;do{t=0|Be(0|((o=0==(1&n|0)&!0)?1:a),0|(o?0:i),0|t,0|e),e=0|M(),n=0|Ue(0|n,0|r,1),r=0|M(),a=0|Be(0|a,0|i,0|a,0|i),i=0|M()}while(!(0==(0|n)&0==(0|r)));return S(0|e),0|t}function fe(t,e,n){t|=0;var r,o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0;if(!(0|X(e|=0,n|=0)))return 0|(d=0);if(e=0|W(e),o=+a[n>>3],s=e&(s=+a[n+8>>3])<0?s+6.283185307179586:s,(0|(d=0|i[t>>2]))<=0)return 0|(d=0);if(r=0|i[t+4>>2],e){e=0,A=s,n=-1,t=0;t:for(;;){for(f=t;u=+a[r+(f<<4)>>3],s=+a[r+(f<<4)+8>>3],l=+a[r+((t=(n+2|0)%(0|d)|0)<<4)>>3],c=+a[r+(t<<4)+8>>3],u>l?(h=u,u=c):(h=l,l=u,u=s,s=c),(o=o==l|o==h?o+2220446049250313e-31:o)<l|o>h;){if((0|(n=f+1|0))>=(0|d)){n=22;break t}t=f,f=n,n=t}if(((h=(c=u<0?u+6.283185307179586:u)+(o-l)/(h-l)*((u=s<0?s+6.283185307179586:s)-c))<0?h+6.283185307179586:h)>(A=c==A|u==A?A+-2220446049250313e-31:A)&&(e^=1),(0|(t=f+1|0))>=(0|d)){n=22;break}n=f}if(22==(0|n))return 0|e}else{e=0,A=s,n=-1,t=0;t:for(;;){for(f=t;u=+a[r+(f<<4)>>3],s=+a[r+(f<<4)+8>>3],l=+a[r+((t=(n+2|0)%(0|d)|0)<<4)>>3],c=+a[r+(t<<4)+8>>3],u>l?(h=u,u=c):(h=l,l=u,u=s,s=c),(o=o==l|o==h?o+2220446049250313e-31:o)<l|o>h;){if((0|(n=f+1|0))>=(0|d)){n=22;break t}t=f,f=n,n=t}if(u+(o-l)/(h-l)*(s-u)>(A=u==A|s==A?A+-2220446049250313e-31:A)&&(e^=1),(0|(t=f+1|0))>=(0|d)){n=22;break}n=f}if(22==(0|n))return 0|e}return 0}function Ae(t,e){e|=0;var n,r,o,s,l,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0;if(!(r=0|i[(t|=0)>>2]))return i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,void(i[e+28>>2]=0);if(a[(o=e+8|0)>>3]=17976931348623157e292,a[(s=e+24|0)>>3]=17976931348623157e292,a[e>>3]=-17976931348623157e292,a[(l=e+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(n=0|i[t+4>>2],v=17976931348623157e292,g=-17976931348623157e292,y=0,t=-1,A=17976931348623157e292,d=17976931348623157e292,m=-17976931348623157e292,h=-17976931348623157e292,b=0;c=+a[n+(b<<4)>>3],p=+a[n+(b<<4)+8>>3],f=+a[n+(((0|(t=t+2|0))==(0|r)?0:t)<<4)+8>>3],c<A&&(a[o>>3]=c,A=c),p<d&&(a[s>>3]=p,d=p),c>m?a[e>>3]=c:c=m,p>h&&(a[l>>3]=p,h=p),v=p>0&p<v?p:v,g=p<0&p>g?p:g,y|=+u(+(p-f))>3.141592653589793,(0|(t=b+1|0))!=(0|r);)_=b,m=c,b=t,t=_;y&&(a[l>>3]=g,a[s>>3]=v)}}function de(t,e){e|=0;var n,r=0,o=0,s=0,l=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,S=0,M=0,E=0;if(g=0|i[(t|=0)>>2]){if(a[(y=e+8|0)>>3]=17976931348623157e292,a[(b=e+24|0)>>3]=17976931348623157e292,a[e>>3]=-17976931348623157e292,a[(_=e+16|0)>>3]=-17976931348623157e292,(0|g)>0){for(s=0|i[t+4>>2],m=17976931348623157e292,v=-17976931348623157e292,o=0,r=-1,f=17976931348623157e292,A=17976931348623157e292,p=-17976931348623157e292,c=-17976931348623157e292,x=0;l=+a[s+(x<<4)>>3],d=+a[s+(x<<4)+8>>3],h=+a[s+(((0|(M=r+2|0))==(0|g)?0:M)<<4)+8>>3],l<f&&(a[y>>3]=l,f=l),d<A&&(a[b>>3]=d,A=d),l>p?a[e>>3]=l:l=p,d>c&&(a[_>>3]=d,c=d),m=d>0&d<m?d:m,v=d<0&d>v?d:v,o|=+u(+(d-h))>3.141592653589793,(0|(r=x+1|0))!=(0|g);)M=x,p=l,x=r,r=M;o&&(a[_>>3]=v,a[b>>3]=m)}}else i[e>>2]=0,i[e+4>>2]=0,i[e+8>>2]=0,i[e+12>>2]=0,i[e+16>>2]=0,i[e+20>>2]=0,i[e+24>>2]=0,i[e+28>>2]=0;if(!((0|(r=0|i[(M=t+8|0)>>2]))<=0)){n=t+12|0,S=0;do{if(s=0|i[n>>2],o=S,b=e+((S=S+1|0)<<5)|0,_=0|i[s+(o<<3)>>2]){if(a[(x=e+(S<<5)+8|0)>>3]=17976931348623157e292,a[(t=e+(S<<5)+24|0)>>3]=17976931348623157e292,a[b>>3]=-17976931348623157e292,a[(w=e+(S<<5)+16|0)>>3]=-17976931348623157e292,(0|_)>0){for(g=0|i[s+(o<<3)+4>>2],m=17976931348623157e292,v=-17976931348623157e292,s=0,o=-1,y=0,f=17976931348623157e292,A=17976931348623157e292,d=-17976931348623157e292,c=-17976931348623157e292;l=+a[g+(y<<4)>>3],p=+a[g+(y<<4)+8>>3],h=+a[g+(((0|(o=o+2|0))==(0|_)?0:o)<<4)+8>>3],l<f&&(a[x>>3]=l,f=l),p<A&&(a[t>>3]=p,A=p),l>d?a[b>>3]=l:l=d,p>c&&(a[w>>3]=p,c=p),m=p>0&p<m?p:m,v=p<0&p>v?p:v,s|=+u(+(p-h))>3.141592653589793,(0|(o=y+1|0))!=(0|_);)E=y,y=o,d=l,o=E;s&&(a[w>>3]=v,a[t>>3]=m)}}else i[b>>2]=0,i[b+4>>2]=0,i[b+8>>2]=0,i[b+12>>2]=0,i[b+16>>2]=0,i[b+20>>2]=0,i[b+24>>2]=0,i[b+28>>2]=0,r=0|i[M>>2]}while((0|S)<(0|r))}}function pe(t,e,n){var r=0,a=0,o=0;if(!(0|fe(t|=0,e|=0,n|=0)))return 0|(a=0);if((0|i[(a=t+8|0)>>2])<=0)return 0|(a=1);for(r=t+12|0,t=0;;){if(o=t,t=t+1|0,0|fe((0|i[r>>2])+(o<<3)|0,e+(t<<5)|0,n)){t=0,r=6;break}if((0|t)>=(0|i[a>>2])){t=1,r=6;break}}return 6==(0|r)?0|t:0}function me(t,e,n,r,i){e|=0,n|=0,r|=0,i|=0;var o,s,l,u,c,h,f,A=0;u=+a[(t|=0)>>3],l=+a[e>>3]-u,s=+a[t+8>>3],o=+a[e+8>>3]-s,h=+a[n>>3],A=((A=+a[r>>3]-h)*(s-(f=+a[n+8>>3]))-(u-h)*(c=+a[r+8>>3]-f))/(l*c-o*A),a[i>>3]=u+l*A,a[i+8>>3]=s+o*A}function ve(t,e){return e|=0,+u(+(+a[(t|=0)>>3]-+a[e>>3]))<1.1920928955078125e-7?0|(e=+u(+(+a[t+8>>3]-+a[e+8>>3]))<1.1920928955078125e-7):0|(e=0)}function ge(t,e){e|=0;var n,r,i;return+((i=+a[(t|=0)>>3]-+a[e>>3])*i+(r=+a[t+8>>3]-+a[e+8>>3])*r+(n=+a[t+16>>3]-+a[e+16>>3])*n)}function ye(t,e,n){n|=0;var r,a,o,s,l=0,u=0,c=0;if(s=R,R=R+32|0,c=s,0|(l=0|Vt(t|=0,e|=0,a=s+16|0)))return R=s,0|(n=l);r=0|Nt(t,e),o=0|qt(t,e),function(t,e){t=7696+(28*(t|=0)|0)|0,i[(e|=0)>>2]=i[t>>2],i[e+4>>2]=i[t+4>>2],i[e+8>>2]=i[t+8>>2],i[e+12>>2]=i[t+12>>2]}(r,c),l=0|function(t,e){t|=0;var n=0,r=0;if((e|=0)>>>0>20)return-1;do{if((0|i[11120+(216*e|0)>>2])!=(0|t))if((0|i[11120+(216*e|0)+8>>2])!=(0|t))if((0|i[11120+(216*e|0)+16>>2])!=(0|t))if((0|i[11120+(216*e|0)+24>>2])!=(0|t))if((0|i[11120+(216*e|0)+32>>2])!=(0|t))if((0|i[11120+(216*e|0)+40>>2])!=(0|t))if((0|i[11120+(216*e|0)+48>>2])!=(0|t))if((0|i[11120+(216*e|0)+56>>2])!=(0|t))if((0|i[11120+(216*e|0)+64>>2])!=(0|t))if((0|i[11120+(216*e|0)+72>>2])!=(0|t))if((0|i[11120+(216*e|0)+80>>2])!=(0|t))if((0|i[11120+(216*e|0)+88>>2])!=(0|t))if((0|i[11120+(216*e|0)+96>>2])!=(0|t))if((0|i[11120+(216*e|0)+104>>2])!=(0|t))if((0|i[11120+(216*e|0)+112>>2])!=(0|t))if((0|i[11120+(216*e|0)+120>>2])!=(0|t))if((0|i[11120+(216*e|0)+128>>2])!=(0|t)){if((0|i[11120+(216*e|0)+136>>2])!=(0|t)){if((0|i[11120+(216*e|0)+144>>2])==(0|t)){t=0,n=2,r=0;break}if((0|i[11120+(216*e|0)+152>>2])==(0|t)){t=0,n=2,r=1;break}if((0|i[11120+(216*e|0)+160>>2])==(0|t)){t=0,n=2,r=2;break}if((0|i[11120+(216*e|0)+168>>2])==(0|t)){t=1,n=2,r=0;break}if((0|i[11120+(216*e|0)+176>>2])==(0|t)){t=1,n=2,r=1;break}if((0|i[11120+(216*e|0)+184>>2])==(0|t)){t=1,n=2,r=2;break}if((0|i[11120+(216*e|0)+192>>2])==(0|t)){t=2,n=2,r=0;break}if((0|i[11120+(216*e|0)+200>>2])==(0|t)){t=2,n=2,r=1;break}if((0|i[11120+(216*e|0)+208>>2])==(0|t)){t=2,n=2,r=2;break}return-1}t=2,n=1,r=2}else t=2,n=1,r=1;else t=2,n=1,r=0;else t=1,n=1,r=2;else t=1,n=1,r=1;else t=1,n=1,r=0;else t=0,n=1,r=2;else t=0,n=1,r=1;else t=0,n=1,r=0;else t=2,n=0,r=2;else t=2,n=0,r=1;else t=2,n=0,r=0;else t=1,n=0,r=2;else t=1,n=0,r=1;else t=1,n=0,r=0;else t=0,n=0,r=2;else t=0,n=0,r=1;else t=0,n=0,r=0}while(0);return 0|i[11120+(216*e|0)+(72*n|0)+(24*t|0)+(r<<3)+4>>2]}(r,0|i[a>>2]);t:do{if(0|U(r)){switch(0|r){case 4:t=0;break;case 14:t=1;break;case 24:t=2;break;case 38:t=3;break;case 49:t=4;break;case 58:t=5;break;case 63:t=6;break;case 72:t=7;break;case 83:t=8;break;case 97:t=9;break;case 107:t=10;break;case 117:t=11;break;default:l=1;break t}if(u=0|i[22e3+(24*t|0)+8>>2],e=0|i[22e3+(24*t|0)+16>>2],(0|(t=0|i[a>>2]))!=(0|i[c>>2])&&(c=0|z(r))|(0|(t=0|i[a>>2]))==(0|e)&&(l=(l+1|0)%6|0),3==(0|o)&(0|t)==(0|e)){l=(l+5|0)%6|0,u=22;break}5==(0|o)&(0|t)==(0|u)?(l=(l+1|0)%6|0,u=22):u=22}else u=22}while(0);return 22==(0|u)&&(i[n>>2]=l,l=0),R=s,0|(n=l)}function be(t,e,n,r){n|=0,r|=0;var a,o,s,l,u,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0;if(u=R,R=R+32|0,b=u+24|0,l=u+20|0,s=u+8|0,o=u+16|0,a=u,d=(d=0==(0|Bt(t|=0,e|=0)))?6:5,m=0|ze(0|t,0|e,52),M(),d>>>0<=n>>>0)return R=u,0|(r=2);!(v=0==(0|(m&=15)))&&0==((g=0|Ze(7,0,3*(15^m)|0))&t|0)&0==((0|M())&e|0)?c=n:h=4;t:do{if(4==(0|h)){if((0|((c=0!=(0|Bt(t,e)))?4:5))<(0|n))return R=u,0|(r=1);if(0|ye(t,e,b))return R=u,0|(r=1);if(h=(0|i[b>>2])+n|0,7==(0|(g=0|i[(c=c?22288+(((0|h)%5|0)<<2)|0:22320+(((0|h)%6|0)<<2)|0)>>2])))return R=u,0|(r=1);i[l>>2]=0,c=0|B(t,e,g,l,s);do{if(!c){if(p=0|i[(A=s)>>2],h=(f=(A=0|i[A+4>>2])>>>0<e>>>0|(0|A)==(0|e)&p>>>0<t>>>0)?p:t,f=f?A:e,!v&&0==(p&(v=0|Ze(7,0,3*(15^m)|0))|0)&0==(A&(0|M())|0))c=n;else{if(A=(n+-1+d|0)%(0|d)|0,c=0|Bt(t,e),(0|A)<0&&E(23313,23315,245,23324),(0|((d=0!=(0|c))?4:5))<(0|A)&&E(23313,23315,245,23324),0|ye(t,e,b)&&E(23313,23315,245,23324),c=(0|i[b>>2])+A|0,7==(0|(A=0|i[(c=d?22288+(((0|c)%5|0)<<2)|0:22320+(((0|c)%6|0)<<2)|0)>>2]))&&E(23313,23315,245,23324),i[o>>2]=0,0|(c=0|B(t,e,A,o,a)))break;d=0|i[(p=a)>>2],p=0|i[p+4>>2];do{if(p>>>0<f>>>0|(0|p)==(0|f)&d>>>0<h>>>0){if(h=0|Bt(d,p)?0|q(d,p,t,e):0|i[22384+((((0|i[o>>2])+(0|i[22352+(A<<2)>>2])|0)%6|0)<<2)>>2],c=0|Bt(d,p),(h+-1|0)>>>0>5){c=-1,h=d,f=p;break}if(1==(0|h)&(c=0!=(0|c))){c=-1,h=d,f=p;break}do{if(!(0|ye(d,p,b))){if(c){c=(5+(0|i[21936+(h<<2)>>2])-(0|i[b>>2])|0)%5|0;break}c=(6+(0|i[21968+(h<<2)>>2])-(0|i[b>>2])|0)%6|0;break}c=-1}while(0);h=d,f=p}else c=n}while(0);p=0|i[(A=s)>>2],A=0|i[A+4>>2]}if((0|h)==(0|p)&(0|f)==(0|A)){if(t=(d=0!=(0|Bt(p,A)))?0|q(p,A,t,e):0|i[22384+((((0|i[l>>2])+(0|i[22352+(g<<2)>>2])|0)%6|0)<<2)>>2],c=0|Bt(p,A),(t+-1|0)>>>0<=5&&!(1==(0|t)&(y=0!=(0|c))))do{if(!(0|ye(p,A,b))){if(y){c=(5+(0|i[21936+(t<<2)>>2])-(0|i[b>>2])|0)%5|0;break}c=(6+(0|i[21968+(t<<2)>>2])-(0|i[b>>2])|0)%6|0;break}c=-1}while(0);else c=-1;c=6==(0|(c=c+1|0))|d&5==(0|c)?0:c}e=f,t=h;break t}}while(0);return R=u,0|(r=c)}}while(0);return y=0|Ze(0|c,0,56),b=0|M()|-2130706433&e|536870912,i[r>>2]=y|t,i[r+4>>2]=b,R=u,0|(r=0)}function _e(t,e,n){t|=0,n|=0;var r=0;(0|(e|=0))>0?(r=0|Ce(e,4),i[t>>2]=r,r||E(23337,23360,40,23374)):i[t>>2]=0,i[t+4>>2]=e,i[t+8>>2]=0,i[t+12>>2]=n}function xe(t){var e,n,r,o=0,s=0,l=0,c=0;e=(t|=0)+4|0,n=t+12|0,r=t+8|0;t:for(;;){for(s=0|i[e>>2],o=0;;){if((0|o)>=(0|s))break t;if(l=0|i[t>>2],c=0|i[l+(o<<2)>>2])break;o=o+1|0}o=l+(~~(+u(+ +h(10,+ +(15-(0|i[n>>2])|0))*(+a[c>>3]+ +a[c+8>>3]))%+(0|s))>>>0<<2)|0,s=0|i[o>>2];e:do{if(0|s){if(l=c+32|0,(0|s)==(0|c))i[o>>2]=i[l>>2];else{if(!(o=0|i[(s=s+32|0)>>2]))break;for(;(0|o)!=(0|c);)if(!(o=0|i[(s=o+32|0)>>2]))break e;i[s>>2]=i[l>>2]}Le(c),i[r>>2]=(0|i[r>>2])-1}}while(0)}Le(0|i[t>>2])}function we(t){var e,n=0,r=0;for(e=0|i[(t|=0)+4>>2],r=0;;){if((0|r)>=(0|e)){n=0,r=4;break}if(n=0|i[(0|i[t>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|n:0}function Se(t,e){e|=0;var n=0,r=0,o=0,s=0;if(n=~~(+u(+ +h(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+a[e>>3]+ +a[e+8>>3]))%+(0|i[t+4>>2]))>>>0,n=(0|i[t>>2])+(n<<2)|0,!(r=0|i[n>>2]))return 0|(s=1);s=e+32|0;do{if((0|r)!=(0|e)){if(!(n=0|i[r+32>>2]))return 0|(s=1);for(o=n;;){if((0|o)==(0|e)){o=8;break}if(!(n=0|i[o+32>>2])){n=1,o=10;break}r=o,o=n}if(8==(0|o)){i[r+32>>2]=i[s>>2];break}if(10==(0|o))return 0|n}else i[n>>2]=i[s>>2]}while(0);return Le(e),i[(s=t+8|0)>>2]=(0|i[s>>2])-1,0|(s=0)}function Me(t,e,n){t|=0,e|=0,n|=0;var r,o=0,s=0,l=0;(r=0|ke(40))||E(23390,23360,98,23403),i[r>>2]=i[e>>2],i[r+4>>2]=i[e+4>>2],i[r+8>>2]=i[e+8>>2],i[r+12>>2]=i[e+12>>2],i[(s=r+16|0)>>2]=i[n>>2],i[s+4>>2]=i[n+4>>2],i[s+8>>2]=i[n+8>>2],i[s+12>>2]=i[n+12>>2],i[r+32>>2]=0,s=~~(+u(+ +h(10,+ +(15-(0|i[t+12>>2])|0))*(+a[e>>3]+ +a[e+8>>3]))%+(0|i[t+4>>2]))>>>0,s=(0|i[t>>2])+(s<<2)|0,o=0|i[s>>2];do{if(o){for(;!(0|$t(o,e)&&0|$t(o+16|0,n));)if(s=0|i[o+32>>2],!(0|i[(o=0==(0|s)?o:s)+32>>2])){l=10;break}if(10==(0|l)){i[o+32>>2]=r;break}return Le(r),0|(l=o)}i[s>>2]=r}while(0);return i[(l=t+8|0)>>2]=1+(0|i[l>>2]),0|(l=r)}function Ee(t,e,n){e|=0,n|=0;var r=0,o=0;if(o=~~(+u(+ +h(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+a[e>>3]+ +a[e+8>>3]))%+(0|i[t+4>>2]))>>>0,!(o=0|i[(0|i[t>>2])+(o<<2)>>2]))return 0|(n=0);if(!n){for(t=o;;){if(0|$t(t,e)){r=10;break}if(!(t=0|i[t+32>>2])){t=0,r=10;break}}if(10==(0|r))return 0|t}for(t=o;;){if(0|$t(t,e)&&0|$t(t+16|0,n)){r=10;break}if(!(t=0|i[t+32>>2])){t=0,r=10;break}}return 10==(0|r)?0|t:0}function Te(t,e){e|=0;var n=0;if(n=~~(+u(+ +h(10,+ +(15-(0|i[(t|=0)+12>>2])|0))*(+a[e>>3]+ +a[e+8>>3]))%+(0|i[t+4>>2]))>>>0,!(t=0|i[(0|i[t>>2])+(n<<2)>>2]))return 0|(n=0);for(;;){if(0|$t(t,e)){e=5;break}if(!(t=0|i[t+32>>2])){t=0,e=5;break}}return 5==(0|e)?0|t:0}function Pe(t){return 0|~~+function(t){return+ +Xe(+(t=+t))}(t=+t)}function ke(t){t|=0;var e,n=0,r=0,a=0,o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0;e=R,R=R+16|0,d=e;do{if(t>>>0<245){if(t=(h=t>>>0<11?16:t+11&-8)>>>3,3&(r=(A=0|i[5857])>>>t)|0)return a=0|i[(r=(t=23468+((n=(1&r^1)+t|0)<<1<<2)|0)+8|0)>>2],(0|(s=0|i[(o=a+8|0)>>2]))==(0|t)?i[5857]=A&~(1<<n):(i[s+12>>2]=t,i[r>>2]=s),x=n<<3,i[a+4>>2]=3|x,i[(x=a+x+4|0)>>2]=1|i[x>>2],R=e,0|(x=o);if(h>>>0>(f=0|i[5859])>>>0){if(0|r)return n=((n=r<<t&((n=2<<t)|0-n))&0-n)-1|0,s=0|i[(t=(n=23468+((a=((r=(n>>>=u=n>>>12&16)>>>5&8)|u|(s=(n>>>=r)>>>2&4)|(t=(n>>>=s)>>>1&2)|(a=(n>>>=t)>>>1&1))+(n>>>a)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|i[(u=s+8|0)>>2]))==(0|n)?(t=A&~(1<<a),i[5857]=t):(i[r+12>>2]=n,i[t>>2]=r,t=A),l=(x=a<<3)-h|0,i[s+4>>2]=3|h,i[(o=s+h|0)+4>>2]=1|l,i[s+x>>2]=l,0|f&&(a=0|i[5862],r=23468+((n=f>>>3)<<1<<2)|0,t&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5857]=t|n,n=r,t=r+8|0),i[t>>2]=a,i[n+12>>2]=a,i[a+8>>2]=n,i[a+12>>2]=r),i[5859]=l,i[5862]=o,R=e,0|(x=u);if(s=0|i[5858]){for(r=(s&0-s)-1|0,r=c=0|i[23732+(((a=(r>>>=o=r>>>12&16)>>>5&8)|o|(l=(r>>>=a)>>>2&4)|(u=(r>>>=l)>>>1&2)|(c=(r>>>=u)>>>1&1))+(r>>>c)<<2)>>2],u=c,c=(-8&i[c+4>>2])-h|0;(t=0|i[r+16>>2])||(t=0|i[r+20>>2]);)r=t,u=(o=(l=(-8&i[t+4>>2])-h|0)>>>0<c>>>0)?t:u,c=o?l:c;if((l=u+h|0)>>>0>u>>>0){o=0|i[u+24>>2],n=0|i[u+12>>2];do{if((0|n)==(0|u)){if(!(n=0|i[(t=u+20|0)>>2])&&!(n=0|i[(t=u+16|0)>>2])){r=0;break}for(;;)if(r=0|i[(a=n+20|0)>>2])n=r,t=a;else{if(!(r=0|i[(a=n+16|0)>>2]))break;n=r,t=a}i[t>>2]=0,r=n}else r=0|i[u+8>>2],i[r+12>>2]=n,i[n+8>>2]=r,r=n}while(0);do{if(0|o){if(n=0|i[u+28>>2],(0|u)==(0|i[(t=23732+(n<<2)|0)>>2])){if(i[t>>2]=r,!r){i[5858]=s&~(1<<n);break}}else if(i[((0|i[(x=o+16|0)>>2])==(0|u)?x:o+20|0)>>2]=r,!r)break;i[r+24>>2]=o,0|(n=0|i[u+16>>2])&&(i[r+16>>2]=n,i[n+24>>2]=r),0|(n=0|i[u+20>>2])&&(i[r+20>>2]=n,i[n+24>>2]=r)}}while(0);return c>>>0<16?(x=c+h|0,i[u+4>>2]=3|x,i[(x=u+x+4|0)>>2]=1|i[x>>2]):(i[u+4>>2]=3|h,i[l+4>>2]=1|c,i[l+c>>2]=c,0|f&&(a=0|i[5862],r=23468+((n=f>>>3)<<1<<2)|0,(n=1<<n)&A?n=0|i[(t=r+8|0)>>2]:(i[5857]=n|A,n=r,t=r+8|0),i[t>>2]=a,i[n+12>>2]=a,i[a+8>>2]=n,i[a+12>>2]=r),i[5859]=c,i[5862]=l),R=e,0|(x=u+8|0)}A=h}else A=h}else A=h}else if(t>>>0<=4294967231)if(h=-8&(t=t+11|0),a=0|i[5858]){o=0-h|0,c=(t>>>=8)?h>>>0>16777215?31:h>>>((c=14-((u=((v=t<<(A=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|A|(c=((v<<=u)+245760|0)>>>16&2))+(v<<c>>>15)|0)+7|0)&1|c<<1:0,r=0|i[23732+(c<<2)>>2];t:do{if(r)for(t=0,u=h<<(31==(0|c)?0:25-(c>>>1)|0),s=0;;){if((l=(-8&i[r+4>>2])-h|0)>>>0<o>>>0){if(!l){t=r,o=0,v=65;break t}t=r,o=l}if(s=0==(0|(v=0|i[r+20>>2]))|(0|v)==(0|(r=0|i[r+16+(u>>>31<<2)>>2]))?s:v,!r){r=s,v=61;break}u<<=1}else r=0,t=0,v=61}while(0);if(61==(0|v)){if(0==(0|r)&0==(0|t)){if(!(t=((t=2<<c)|0-t)&a)){A=h;break}A=(t&0-t)-1|0,t=0,r=0|i[23732+(((s=(A>>>=l=A>>>12&16)>>>5&8)|l|(u=(A>>>=s)>>>2&4)|(c=(A>>>=u)>>>1&2)|(r=(A>>>=c)>>>1&1))+(A>>>r)<<2)>>2]}r?v=65:(u=t,l=o)}if(65==(0|v))for(s=r;;){if(o=(r=(A=(-8&i[s+4>>2])-h|0)>>>0<o>>>0)?A:o,t=r?s:t,(r=0|i[s+16>>2])||(r=0|i[s+20>>2]),!r){u=t,l=o;break}s=r}if(0!=(0|u)&&l>>>0<((0|i[5859])-h|0)>>>0&&(f=u+h|0)>>>0>u>>>0){s=0|i[u+24>>2],n=0|i[u+12>>2];do{if((0|n)==(0|u)){if(!(n=0|i[(t=u+20|0)>>2])&&!(n=0|i[(t=u+16|0)>>2])){n=0;break}for(;;)if(r=0|i[(o=n+20|0)>>2])n=r,t=o;else{if(!(r=0|i[(o=n+16|0)>>2]))break;n=r,t=o}i[t>>2]=0}else x=0|i[u+8>>2],i[x+12>>2]=n,i[n+8>>2]=x}while(0);do{if(s){if(t=0|i[u+28>>2],(0|u)==(0|i[(r=23732+(t<<2)|0)>>2])){if(i[r>>2]=n,!n){a&=~(1<<t),i[5858]=a;break}}else if(i[((0|i[(x=s+16|0)>>2])==(0|u)?x:s+20|0)>>2]=n,!n)break;i[n+24>>2]=s,0|(t=0|i[u+16>>2])&&(i[n+16>>2]=t,i[t+24>>2]=n),(t=0|i[u+20>>2])&&(i[n+20>>2]=t,i[t+24>>2]=n)}}while(0);t:do{if(l>>>0<16)x=l+h|0,i[u+4>>2]=3|x,i[(x=u+x+4|0)>>2]=1|i[x>>2];else{if(i[u+4>>2]=3|h,i[f+4>>2]=1|l,i[f+l>>2]=l,n=l>>>3,l>>>0<256){r=23468+(n<<1<<2)|0,(t=0|i[5857])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5857]=t|n,n=r,t=r+8|0),i[t>>2]=f,i[n+12>>2]=f,i[f+8>>2]=n,i[f+12>>2]=r;break}if(n=23732+((r=(n=l>>>8)?l>>>0>16777215?31:l>>>((r=14-((b=((x=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(r=((x<<=b)+245760|0)>>>16&2))+(x<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[f+28>>2]=r,i[(t=f+16|0)+4>>2]=0,i[t>>2]=0,!(a&(t=1<<r))){i[5858]=a|t,i[n>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break}n=0|i[n>>2];e:do{if((-8&i[n+4>>2]|0)!=(0|l)){for(a=l<<(31==(0|r)?0:25-(r>>>1)|0);t=0|i[(r=n+16+(a>>>31<<2)|0)>>2];){if((-8&i[t+4>>2]|0)==(0|l)){n=t;break e}a<<=1,n=t}i[r>>2]=f,i[f+24>>2]=n,i[f+12>>2]=f,i[f+8>>2]=f;break t}}while(0);x=0|i[(_=n+8|0)>>2],i[x+12>>2]=f,i[_>>2]=f,i[f+8>>2]=x,i[f+12>>2]=n,i[f+24>>2]=0}}while(0);return R=e,0|(x=u+8|0)}A=h}else A=h;else A=-1}while(0);if((r=0|i[5859])>>>0>=A>>>0)return n=r-A|0,t=0|i[5862],n>>>0>15?(x=t+A|0,i[5862]=x,i[5859]=n,i[x+4>>2]=1|n,i[t+r>>2]=n,i[t+4>>2]=3|A):(i[5859]=0,i[5862]=0,i[t+4>>2]=3|r,i[(x=t+r+4|0)>>2]=1|i[x>>2]),R=e,0|(x=t+8|0);if((l=0|i[5860])>>>0>A>>>0)return b=l-A|0,i[5860]=b,_=(x=0|i[5863])+A|0,i[5863]=_,i[_+4>>2]=1|b,i[x+4>>2]=3|A,R=e,0|(x=x+8|0);if(0|i[5975]?t=0|i[5977]:(i[5977]=4096,i[5976]=4096,i[5978]=-1,i[5979]=-1,i[5980]=0,i[5968]=0,i[5975]=-16&d^1431655768,t=4096),u=A+48|0,(h=(s=t+(c=A+47|0)|0)&(o=0-t|0))>>>0<=A>>>0)return R=e,0|(x=0);if(0|(t=0|i[5967])&&(d=(f=0|i[5965])+h|0)>>>0<=f>>>0|d>>>0>t>>>0)return R=e,0|(x=0);t:do{if(4&i[5968])n=0,v=143;else{r=0|i[5863];e:do{if(r){for(a=23876;!((d=0|i[a>>2])>>>0<=r>>>0&&(d+(0|i[a+4>>2])|0)>>>0>r>>>0);){if(!(t=0|i[a+8>>2])){v=128;break e}a=t}if((n=s-l&o)>>>0<2147483647)if((0|(t=0|Ye(0|n)))==((0|i[a>>2])+(0|i[a+4>>2])|0)){if(-1!=(0|t)){l=n,s=t,v=145;break t}}else a=t,v=136;else n=0}else v=128}while(0);do{if(128==(0|v))if(-1!=(0|(r=0|Ye(0)))&&(n=r,m=(n=(0==((m=(p=0|i[5976])+-1|0)&n|0)?0:(m+n&0-p)-n|0)+h|0)+(p=0|i[5965])|0,n>>>0>A>>>0&n>>>0<2147483647)){if(0|(d=0|i[5967])&&m>>>0<=p>>>0|m>>>0>d>>>0){n=0;break}if((0|(t=0|Ye(0|n)))==(0|r)){l=n,s=r,v=145;break t}a=t,v=136}else n=0}while(0);do{if(136==(0|v)){if(r=0-n|0,!(u>>>0>n>>>0&n>>>0<2147483647&-1!=(0|a))){if(-1==(0|a)){n=0;break}l=n,s=a,v=145;break t}if((t=c-n+(t=0|i[5977])&0-t)>>>0>=2147483647){l=n,s=a,v=145;break t}if(-1==(0|Ye(0|t))){Ye(0|r),n=0;break}l=t+n|0,s=a,v=145;break t}}while(0);i[5968]=4|i[5968],v=143}}while(0);if(143==(0|v)&&h>>>0<2147483647&&!(-1==(0|(b=0|Ye(0|h)))|1^(y=(g=(m=0|Ye(0))-b|0)>>>0>(A+40|0)>>>0)|b>>>0<m>>>0&-1!=(0|b)&-1!=(0|m)^1)&&(l=y?g:n,s=b,v=145),145==(0|v)){n=(0|i[5965])+l|0,i[5965]=n,n>>>0>(0|i[5966])>>>0&&(i[5966]=n),c=0|i[5863];t:do{if(c){for(n=23876;;){if((0|s)==((t=0|i[n>>2])+(r=0|i[n+4>>2])|0)){v=154;break}if(!(a=0|i[n+8>>2]))break;n=a}if(154==(0|v)&&(_=n+4|0,0==(8&i[n+12>>2]|0))&&s>>>0>c>>>0&t>>>0<=c>>>0){i[_>>2]=r+l,_=c+(b=0==(7&(b=c+8|0)|0)?0:0-b&7)|0,b=(x=(0|i[5860])+l|0)-b|0,i[5863]=_,i[5860]=b,i[_+4>>2]=1|b,i[c+x+4>>2]=40,i[5864]=i[5979];break}for(s>>>0<(0|i[5861])>>>0&&(i[5861]=s),r=s+l|0,n=23876;;){if((0|i[n>>2])==(0|r)){v=162;break}if(!(t=0|i[n+8>>2]))break;n=t}if(162==(0|v)&&0==(8&i[n+12>>2]|0)){i[n>>2]=s,i[(f=n+4|0)>>2]=(0|i[f>>2])+l,h=(f=s+(0==(7&(f=s+8|0)|0)?0:0-f&7)|0)+A|0,u=(n=r+(0==(7&(n=r+8|0)|0)?0:0-n&7)|0)-f-A|0,i[f+4>>2]=3|A;e:do{if((0|c)==(0|n))x=(0|i[5860])+u|0,i[5860]=x,i[5863]=h,i[h+4>>2]=1|x;else{if((0|i[5862])==(0|n)){x=(0|i[5859])+u|0,i[5859]=x,i[5862]=h,i[h+4>>2]=1|x,i[h+x>>2]=x;break}if(1==(3&(t=0|i[n+4>>2])|0)){l=-8&t,a=t>>>3;n:do{if(t>>>0<256){if(t=0|i[n+8>>2],(0|(r=0|i[n+12>>2]))==(0|t)){i[5857]=i[5857]&~(1<<a);break}i[t+12>>2]=r,i[r+8>>2]=t;break}s=0|i[n+24>>2],t=0|i[n+12>>2];do{if((0|t)==(0|n)){if(t=0|i[(a=(r=n+16|0)+4|0)>>2])r=a;else if(!(t=0|i[r>>2])){t=0;break}for(;;)if(a=0|i[(o=t+20|0)>>2])t=a,r=o;else{if(!(a=0|i[(o=t+16|0)>>2]))break;t=a,r=o}i[r>>2]=0}else x=0|i[n+8>>2],i[x+12>>2]=t,i[t+8>>2]=x}while(0);if(!s)break;a=23732+((r=0|i[n+28>>2])<<2)|0;do{if((0|i[a>>2])==(0|n)){if(i[a>>2]=t,0|t)break;i[5858]=i[5858]&~(1<<r);break n}if(i[((0|i[(x=s+16|0)>>2])==(0|n)?x:s+20|0)>>2]=t,!t)break n}while(0);if(i[t+24>>2]=s,0|(a=0|i[(r=n+16|0)>>2])&&(i[t+16>>2]=a,i[a+24>>2]=t),!(r=0|i[r+4>>2]))break;i[t+20>>2]=r,i[r+24>>2]=t}while(0);n=n+l|0,o=l+u|0}else o=u;if(i[(n=n+4|0)>>2]=-2&i[n>>2],i[h+4>>2]=1|o,i[h+o>>2]=o,n=o>>>3,o>>>0<256){r=23468+(n<<1<<2)|0,(t=0|i[5857])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5857]=t|n,n=r,t=r+8|0),i[t>>2]=h,i[n+12>>2]=h,i[h+8>>2]=n,i[h+12>>2]=r;break}n=o>>>8;do{if(n){if(o>>>0>16777215){a=31;break}a=o>>>((a=14-((b=((x=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(a=((x<<=b)+245760|0)>>>16&2))+(x<<a>>>15)|0)+7|0)&1|a<<1}else a=0}while(0);if(n=23732+(a<<2)|0,i[h+28>>2]=a,i[(t=h+16|0)+4>>2]=0,i[t>>2]=0,!((t=0|i[5858])&(r=1<<a))){i[5858]=t|r,i[n>>2]=h,i[h+24>>2]=n,i[h+12>>2]=h,i[h+8>>2]=h;break}n=0|i[n>>2];n:do{if((-8&i[n+4>>2]|0)!=(0|o)){for(a=o<<(31==(0|a)?0:25-(a>>>1)|0);t=0|i[(r=n+16+(a>>>31<<2)|0)>>2];){if((-8&i[t+4>>2]|0)==(0|o)){n=t;break n}a<<=1,n=t}i[r>>2]=h,i[h+24>>2]=n,i[h+12>>2]=h,i[h+8>>2]=h;break e}}while(0);x=0|i[(_=n+8|0)>>2],i[x+12>>2]=h,i[_>>2]=h,i[h+8>>2]=x,i[h+12>>2]=n,i[h+24>>2]=0}}while(0);return R=e,0|(x=f+8|0)}for(n=23876;!((t=0|i[n>>2])>>>0<=c>>>0&&(x=t+(0|i[n+4>>2])|0)>>>0>c>>>0);)n=0|i[n+8>>2];n=(t=(t=(o=x+-47|0)+(0==(7&(t=o+8|0)|0)?0:0-t&7)|0)>>>0<(o=c+16|0)>>>0?c:t)+8|0,_=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(r=l+-40|0)-b|0,i[5863]=_,i[5860]=b,i[_+4>>2]=1|b,i[s+r+4>>2]=40,i[5864]=i[5979],i[(r=t+4|0)>>2]=27,i[n>>2]=i[5969],i[n+4>>2]=i[5970],i[n+8>>2]=i[5971],i[n+12>>2]=i[5972],i[5969]=s,i[5970]=l,i[5972]=0,i[5971]=n,n=t+24|0;do{_=n,i[(n=n+4|0)>>2]=7}while((_+8|0)>>>0<x>>>0);if((0|t)!=(0|c)){if(s=t-c|0,i[r>>2]=-2&i[r>>2],i[c+4>>2]=1|s,i[t>>2]=s,n=s>>>3,s>>>0<256){r=23468+(n<<1<<2)|0,(t=0|i[5857])&(n=1<<n)?n=0|i[(t=r+8|0)>>2]:(i[5857]=t|n,n=r,t=r+8|0),i[t>>2]=c,i[n+12>>2]=c,i[c+8>>2]=n,i[c+12>>2]=r;break}if(r=23732+((a=(n=s>>>8)?s>>>0>16777215?31:s>>>((a=14-((b=((x=n<<(_=(n+1048320|0)>>>16&8))+520192|0)>>>16&4)|_|(a=((x<<=b)+245760|0)>>>16&2))+(x<<a>>>15)|0)+7|0)&1|a<<1:0)<<2)|0,i[c+28>>2]=a,i[c+20>>2]=0,i[o>>2]=0,!((n=0|i[5858])&(t=1<<a))){i[5858]=n|t,i[r>>2]=c,i[c+24>>2]=r,i[c+12>>2]=c,i[c+8>>2]=c;break}n=0|i[r>>2];e:do{if((-8&i[n+4>>2]|0)!=(0|s)){for(a=s<<(31==(0|a)?0:25-(a>>>1)|0);t=0|i[(r=n+16+(a>>>31<<2)|0)>>2];){if((-8&i[t+4>>2]|0)==(0|s)){n=t;break e}a<<=1,n=t}i[r>>2]=c,i[c+24>>2]=n,i[c+12>>2]=c,i[c+8>>2]=c;break t}}while(0);x=0|i[(_=n+8|0)>>2],i[x+12>>2]=c,i[_>>2]=c,i[c+8>>2]=x,i[c+12>>2]=n,i[c+24>>2]=0}}else 0==(0|(x=0|i[5861]))|s>>>0<x>>>0&&(i[5861]=s),i[5969]=s,i[5970]=l,i[5972]=0,i[5866]=i[5975],i[5865]=-1,i[5870]=23468,i[5869]=23468,i[5872]=23476,i[5871]=23476,i[5874]=23484,i[5873]=23484,i[5876]=23492,i[5875]=23492,i[5878]=23500,i[5877]=23500,i[5880]=23508,i[5879]=23508,i[5882]=23516,i[5881]=23516,i[5884]=23524,i[5883]=23524,i[5886]=23532,i[5885]=23532,i[5888]=23540,i[5887]=23540,i[5890]=23548,i[5889]=23548,i[5892]=23556,i[5891]=23556,i[5894]=23564,i[5893]=23564,i[5896]=23572,i[5895]=23572,i[5898]=23580,i[5897]=23580,i[5900]=23588,i[5899]=23588,i[5902]=23596,i[5901]=23596,i[5904]=23604,i[5903]=23604,i[5906]=23612,i[5905]=23612,i[5908]=23620,i[5907]=23620,i[5910]=23628,i[5909]=23628,i[5912]=23636,i[5911]=23636,i[5914]=23644,i[5913]=23644,i[5916]=23652,i[5915]=23652,i[5918]=23660,i[5917]=23660,i[5920]=23668,i[5919]=23668,i[5922]=23676,i[5921]=23676,i[5924]=23684,i[5923]=23684,i[5926]=23692,i[5925]=23692,i[5928]=23700,i[5927]=23700,i[5930]=23708,i[5929]=23708,i[5932]=23716,i[5931]=23716,_=s+(b=0==(7&(b=s+8|0)|0)?0:0-b&7)|0,b=(x=l+-40|0)-b|0,i[5863]=_,i[5860]=b,i[_+4>>2]=1|b,i[s+x+4>>2]=40,i[5864]=i[5979]}while(0);if((n=0|i[5860])>>>0>A>>>0)return b=n-A|0,i[5860]=b,_=(x=0|i[5863])+A|0,i[5863]=_,i[_+4>>2]=1|b,i[x+4>>2]=3|A,R=e,0|(x=x+8|0)}return i[(x=23424)>>2]=12,R=e,0|(x=0)}function Le(t){var e=0,n=0,r=0,a=0,o=0,s=0,l=0,u=0;if(t|=0){n=t+-8|0,a=0|i[5861],u=n+(e=-8&(t=0|i[t+-4>>2]))|0;do{if(1&t)l=n,s=n;else{if(r=0|i[n>>2],!(3&t))return;if(o=r+e|0,(s=n+(0-r)|0)>>>0<a>>>0)return;if((0|i[5862])==(0|s)){if(3!=(3&(e=0|i[(t=u+4|0)>>2])|0)){l=s,e=o;break}return i[5859]=o,i[t>>2]=-2&e,i[s+4>>2]=1|o,void(i[s+o>>2]=o)}if(n=r>>>3,r>>>0<256){if(t=0|i[s+8>>2],(0|(e=0|i[s+12>>2]))==(0|t)){i[5857]=i[5857]&~(1<<n),l=s,e=o;break}i[t+12>>2]=e,i[e+8>>2]=t,l=s,e=o;break}a=0|i[s+24>>2],t=0|i[s+12>>2];do{if((0|t)==(0|s)){if(t=0|i[(n=(e=s+16|0)+4|0)>>2])e=n;else if(!(t=0|i[e>>2])){t=0;break}for(;;)if(n=0|i[(r=t+20|0)>>2])t=n,e=r;else{if(!(n=0|i[(r=t+16|0)>>2]))break;t=n,e=r}i[e>>2]=0}else l=0|i[s+8>>2],i[l+12>>2]=t,i[t+8>>2]=l}while(0);if(a){if(e=0|i[s+28>>2],(0|i[(n=23732+(e<<2)|0)>>2])==(0|s)){if(i[n>>2]=t,!t){i[5858]=i[5858]&~(1<<e),l=s,e=o;break}}else if(i[((0|i[(l=a+16|0)>>2])==(0|s)?l:a+20|0)>>2]=t,!t){l=s,e=o;break}i[t+24>>2]=a,0|(n=0|i[(e=s+16|0)>>2])&&(i[t+16>>2]=n,i[n+24>>2]=t),(e=0|i[e+4>>2])?(i[t+20>>2]=e,i[e+24>>2]=t,l=s,e=o):(l=s,e=o)}else l=s,e=o}}while(0);if(!(s>>>0>=u>>>0)&&1&(r=0|i[(t=u+4|0)>>2])){if(2&r)i[t>>2]=-2&r,i[l+4>>2]=1|e,i[s+e>>2]=e,a=e;else{if((0|i[5863])==(0|u)){if(u=(0|i[5860])+e|0,i[5860]=u,i[5863]=l,i[l+4>>2]=1|u,(0|l)!=(0|i[5862]))return;return i[5862]=0,void(i[5859]=0)}if((0|i[5862])==(0|u))return u=(0|i[5859])+e|0,i[5859]=u,i[5862]=s,i[l+4>>2]=1|u,void(i[s+u>>2]=u);a=(-8&r)+e|0,n=r>>>3;do{if(r>>>0<256){if(e=0|i[u+8>>2],(0|(t=0|i[u+12>>2]))==(0|e)){i[5857]=i[5857]&~(1<<n);break}i[e+12>>2]=t,i[t+8>>2]=e;break}o=0|i[u+24>>2],t=0|i[u+12>>2];do{if((0|t)==(0|u)){if(t=0|i[(n=(e=u+16|0)+4|0)>>2])e=n;else if(!(t=0|i[e>>2])){n=0;break}for(;;)if(n=0|i[(r=t+20|0)>>2])t=n,e=r;else{if(!(n=0|i[(r=t+16|0)>>2]))break;t=n,e=r}i[e>>2]=0,n=t}else n=0|i[u+8>>2],i[n+12>>2]=t,i[t+8>>2]=n,n=t}while(0);if(0|o){if(t=0|i[u+28>>2],(0|i[(e=23732+(t<<2)|0)>>2])==(0|u)){if(i[e>>2]=n,!n){i[5858]=i[5858]&~(1<<t);break}}else if(i[((0|i[(r=o+16|0)>>2])==(0|u)?r:o+20|0)>>2]=n,!n)break;i[n+24>>2]=o,0|(e=0|i[(t=u+16|0)>>2])&&(i[n+16>>2]=e,i[e+24>>2]=n),0|(t=0|i[t+4>>2])&&(i[n+20>>2]=t,i[t+24>>2]=n)}}while(0);if(i[l+4>>2]=1|a,i[s+a>>2]=a,(0|l)==(0|i[5862]))return void(i[5859]=a)}if(t=a>>>3,a>>>0<256)return n=23468+(t<<1<<2)|0,(e=0|i[5857])&(t=1<<t)?t=0|i[(e=n+8|0)>>2]:(i[5857]=e|t,t=n,e=n+8|0),i[e>>2]=l,i[t+12>>2]=l,i[l+8>>2]=t,void(i[l+12>>2]=n);t=23732+((r=(t=a>>>8)?a>>>0>16777215?31:a>>>((r=14-((o=((u=t<<(s=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|s|(r=((u<<=o)+245760|0)>>>16&2))+(u<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,i[l+28>>2]=r,i[l+20>>2]=0,i[l+16>>2]=0,e=0|i[5858],n=1<<r;t:do{if(e&n){t=0|i[t>>2];e:do{if((-8&i[t+4>>2]|0)!=(0|a)){for(r=a<<(31==(0|r)?0:25-(r>>>1)|0);e=0|i[(n=t+16+(r>>>31<<2)|0)>>2];){if((-8&i[e+4>>2]|0)==(0|a)){t=e;break e}r<<=1,t=e}i[n>>2]=l,i[l+24>>2]=t,i[l+12>>2]=l,i[l+8>>2]=l;break t}}while(0);u=0|i[(s=t+8|0)>>2],i[u+12>>2]=l,i[s>>2]=l,i[l+8>>2]=u,i[l+12>>2]=t,i[l+24>>2]=0}else i[5858]=e|n,i[t>>2]=l,i[l+24>>2]=t,i[l+12>>2]=l,i[l+8>>2]=l}while(0);if(u=(0|i[5865])-1|0,i[5865]=u,!(0|u)){for(t=23884;t=0|i[t>>2];)t=t+8|0;i[5865]=-1}}}}function Ce(t,e){e|=0;var n=0;return(t|=0)?(n=0|b(e,t),(e|t)>>>0>65535&&(n=(0|(n>>>0)/(t>>>0))==(0|e)?n:-1)):n=0,(t=0|ke(n))&&3&i[t+-4>>2]?(We(0|t,0,0|n),0|t):0|t}function Re(t,e,n,r){return 0|(S((e|=0)+(r|=0)+((n=(t|=0)+(n|=0)>>>0)>>>0<t>>>0|0)>>>0|0),0|n)}function Ne(t,e,n,r){return 0|(S(0|(r=(e|=0)-(r|=0)-((n|=0)>>>0>(t|=0)>>>0|0)>>>0)),t-n>>>0|0)}function Oe(t){return 0|((t|=0)?31-(0|w(t^t-1))|0:32)}function Ie(t,e,n,r,a){a|=0;var o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0;if(h=t|=0,s=n|=0,l=A=r|=0,!(c=u=e|=0))return o=0!=(0|a),l?o?(i[a>>2]=0|t,i[a+4>>2]=0&e,a=0,0|(S(0|(A=0)),a)):(a=0,0|(S(0|(A=0)),a)):(o&&(i[a>>2]=(h>>>0)%(s>>>0),i[a+4>>2]=0),a=(h>>>0)/(s>>>0)>>>0,0|(S(0|(A=0)),a));o=0==(0|l);do{if(s){if(!o){if((o=(0|w(0|l))-(0|w(0|c))|0)>>>0<=31){s=f=o+1|0,t=h>>>(f>>>0)&(e=o-31>>31)|c<<(l=31-o|0),e&=c>>>(f>>>0),o=0,l=h<<l;break}return a?(i[a>>2]=0|t,i[a+4>>2]=u|0&e,a=0,0|(S(0|(A=0)),a)):(a=0,0|(S(0|(A=0)),a))}if((o=s-1|0)&s|0){s=l=33+(0|w(0|s))-(0|w(0|c))|0,t=(f=32-l|0)-1>>31&c>>>((d=l-32|0)>>>0)|(c<<f|h>>>(l>>>0))&(e=d>>31),e&=c>>>(l>>>0),o=h<<(p=64-l|0)&(u=f>>31),l=(c<<p|h>>>(d>>>0))&u|h<<f&l-33>>31;break}return 0|a&&(i[a>>2]=o&h,i[a+4>>2]=0),1==(0|s)?(p=0|t,0|(S(0|(d=u|0&e)),p)):(d=c>>>((p=0|Oe(0|s))>>>0)|0,p=c<<32-p|h>>>(p>>>0)|0,0|(S(0|d),p))}if(o)return 0|a&&(i[a>>2]=(c>>>0)%(s>>>0),i[a+4>>2]=0),p=(c>>>0)/(s>>>0)>>>0,0|(S(0|(d=0)),p);if(!h)return 0|a&&(i[a>>2]=0,i[a+4>>2]=(c>>>0)%(l>>>0)),p=(c>>>0)/(l>>>0)>>>0,0|(S(0|(d=0)),p);if(!((o=l-1|0)&l))return 0|a&&(i[a>>2]=0|t,i[a+4>>2]=o&c|0&e),d=0,p=c>>>((0|Oe(0|l))>>>0),0|(S(0|d),p);if((o=(0|w(0|l))-(0|w(0|c))|0)>>>0<=30){s=e=o+1|0,t=c<<(l=31-o|0)|h>>>(e>>>0),e=c>>>(e>>>0),o=0,l=h<<l;break}return a?(i[a>>2]=0|t,i[a+4>>2]=u|0&e,p=0,0|(S(0|(d=0)),p)):(p=0,0|(S(0|(d=0)),p))}while(0);if(s){c=0|Re(0|(f=0|n),0|(h=A|0&r),-1,-1),n=0|M(),u=l,l=0;do{r=u,u=o>>>31|u<<1,o=l|o<<1,Ne(0|c,0|n,0|(r=t<<1|r>>>31|0),0|(A=t>>>31|e<<1|0)),l=1&(d=(p=0|M())>>31|((0|p)<0?-1:0)<<1),t=0|Ne(0|r,0|A,d&f|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&h|0),e=0|M(),s=s-1|0}while(0!=(0|s));c=u,u=0}else c=l,u=0,l=0;return s=0,0|a&&(i[a>>2]=t,i[a+4>>2]=e),p=-2&(o<<1|0)|l,0|(S(0|(d=(0|o)>>>31|(c|s)<<1|0&(s<<1|o>>>31)|u)),p)}function De(t,e,n,r){n|=0;var i,a,o,s,l;return a=(r|=0)>>31|((0|r)<0?-1:0)<<1,i=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,o=0|Ne((l=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(t|=0)|0,(s=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|l,0|s),t=a^l,e=i^s,0|Ne((0|Ie(o,0|M(),0|Ne(a^n|0,i^r|0,0|a,0|i),0|M(),0))^t|0,(0|M())^e|0,0|t,0|e)}function Be(t,e,n,r){e|=0,r|=0;var i,a;return n=0|function(t,e){var n,r,i,a=0;return t=((n=0|b(a=65535&(e|=0),i=65535&(t|=0)))>>>16)+(0|b(a,r=t>>>16))|0,e=0|b(a=e>>>16,i),0|(S((t>>>16)+(0|b(a,r))+(((65535&t)+e|0)>>>16)|0),t+e<<16|65535&n|0)}(i=t|=0,a=n|=0),t=0|M(),0|(S((0|b(e,a))+(0|b(r,i))+t|0&t|0),0|n)}function qe(t,e,n,r){n|=0;var a,o,s,l,u,c;return a=R,R=R+16|0,l=0|a,c=(r|=0)>>31|((0|r)<0?-1:0)<<1,u=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,Ie(t=0|Ne((s=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(t|=0)|0,(o=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|s,0|o),e=0|M(),0|Ne(c^n|0,u^r|0,0|c,0|u),0|M(),l),r=0|Ne(i[l>>2]^s|0,i[l+4>>2]^o|0,0|s,0|o),n=0|M(),R=a,0|(S(0|n),r)}function Fe(t,e,n,r){var a,o;return o=R,R=R+16|0,Ie(t|=0,e|=0,n|=0,r|=0,a=0|o),R=o,0|(S(0|i[a+4>>2]),0|i[a>>2])}function Ue(t,e,n){return t|=0,e|=0,(0|(n|=0))<32?(S(e>>n|0),t>>>n|(e&(1<<n)-1)<<32-n):(S(0|((0|e)<0?-1:0)),e>>n-32|0)}function ze(t,e,n){return t|=0,e|=0,(0|(n|=0))<32?(S(e>>>n|0),t>>>n|(e&(1<<n)-1)<<32-n):(S(0),e>>>n-32|0)}function Ze(t,e,n){return t|=0,e|=0,(0|(n|=0))<32?(S(e<<n|(t&(1<<n)-1<<32-n)>>>32-n|0),t<<n):(S(t<<n-32|0),0)}function je(t,e){return e=+e,(t=+t)!=t?+e:e!=e?+t:+x(+t,+e)}function He(t,e){return e=+e,(t=+t)!=t?+e:e!=e?+t:+_(+t,+e)}function Ge(t){return(t=+t)>=0?+l(t+.5):+y(t-.5)}function Ve(t,e,n){t|=0,e|=0;var a,o,s=0;if((0|(n|=0))>=8192)return k(0|t,0|e,0|n),0|t;if(o=0|t,a=t+n|0,(3&t)==(3&e)){for(;3&t;){if(!n)return 0|o;r[t>>0]=0|r[e>>0],t=t+1|0,e=e+1|0,n=n-1|0}for(s=(n=-4&a|0)-64|0;(0|t)<=(0|s);)i[t>>2]=i[e>>2],i[t+4>>2]=i[e+4>>2],i[t+8>>2]=i[e+8>>2],i[t+12>>2]=i[e+12>>2],i[t+16>>2]=i[e+16>>2],i[t+20>>2]=i[e+20>>2],i[t+24>>2]=i[e+24>>2],i[t+28>>2]=i[e+28>>2],i[t+32>>2]=i[e+32>>2],i[t+36>>2]=i[e+36>>2],i[t+40>>2]=i[e+40>>2],i[t+44>>2]=i[e+44>>2],i[t+48>>2]=i[e+48>>2],i[t+52>>2]=i[e+52>>2],i[t+56>>2]=i[e+56>>2],i[t+60>>2]=i[e+60>>2],t=t+64|0,e=e+64|0;for(;(0|t)<(0|n);)i[t>>2]=i[e>>2],t=t+4|0,e=e+4|0}else for(n=a-4|0;(0|t)<(0|n);)r[t>>0]=0|r[e>>0],r[t+1>>0]=0|r[e+1>>0],r[t+2>>0]=0|r[e+2>>0],r[t+3>>0]=0|r[e+3>>0],t=t+4|0,e=e+4|0;for(;(0|t)<(0|a);)r[t>>0]=0|r[e>>0],t=t+1|0,e=e+1|0;return 0|o}function We(t,e,n){e|=0;var a,o=0,s=0,l=0;if(a=(t|=0)+(n|=0)|0,e&=255,(0|n)>=67){for(;3&t;)r[t>>0]=e,t=t+1|0;for(l=e|e<<8|e<<16|e<<24,s=(o=-4&a|0)-64|0;(0|t)<=(0|s);)i[t>>2]=l,i[t+4>>2]=l,i[t+8>>2]=l,i[t+12>>2]=l,i[t+16>>2]=l,i[t+20>>2]=l,i[t+24>>2]=l,i[t+28>>2]=l,i[t+32>>2]=l,i[t+36>>2]=l,i[t+40>>2]=l,i[t+44>>2]=l,i[t+48>>2]=l,i[t+52>>2]=l,i[t+56>>2]=l,i[t+60>>2]=l,t=t+64|0;for(;(0|t)<(0|o);)i[t>>2]=l,t=t+4|0}for(;(0|t)<(0|a);)r[t>>0]=e,t=t+1|0;return a-n|0}function Xe(t){return(t=+t)>=0?+l(t+.5):+y(t-.5)}function Ye(t){t|=0;var e,n,r;return r=0|P(),(0|t)>0&(0|(e=(n=0|i[s>>2])+t|0))<(0|n)|(0|e)<0?(C(0|e),T(12),-1):(0|e)>(0|r)&&!(0|L(0|e))?(T(12),-1):(i[s>>2]=e,0|n)}return{___divdi3:De,___muldi3:Be,___remdi3:qe,___uremdi3:Fe,_areNeighborCells:function(t,e,n,r,a){a|=0;var o,s,l,u=0,c=0,h=0,f=0;if(l=R,R=R+64|0,s=l,o=l+56|0,!(!0&134217728==(2013265920&(e|=0)|0)&!0&134217728==(2013265920&(r|=0)|0)))return R=l,0|(a=5);if((0|(t|=0))==(0|(n|=0))&(0|e)==(0|r))return i[a>>2]=0,R=l,0|(a=0);if(c=0|ze(0|t,0|e,52),M(),c&=15,f=0|ze(0|n,0|r,52),M(),(0|c)!=(15&f|0))return R=l,0|(a=12);if(u=c+-1|0,c>>>0>1){It(t,e,u,s),It(n,r,u,o),h=0|i[(f=s)>>2],f=0|i[f+4>>2];t:do{if((0|h)==(0|i[o>>2])&&(0|f)==(0|i[o+4>>2])){u=0|ze(0|t,0|e,0|(c=3*(15^c)|0)),M(),u&=7,c=0|ze(0|n,0|r,0|c),M(),c&=7;do{if(0==(0|u)|0==(0|c))i[a>>2]=1,u=0;else if(7==(0|u))u=5;else{if(1==(0|u)|1==(0|c)&&0|Bt(h,f)){u=5;break}if((0|i[15536+(u<<2)>>2])!=(0|c)&&(0|i[15568+(u<<2)>>2])!=(0|c))break t;i[a>>2]=1,u=0}}while(0);return R=l,0|(a=u)}}while(0)}c=(u=s)+56|0;do{i[u>>2]=0,u=u+4|0}while((0|u)<(0|c));return N(t,e,1,s),u=(0|i[(e=s)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)||(0|i[(e=s+8|0)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)||(0|i[(e=s+16|0)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)||(0|i[(e=s+24|0)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)||(0|i[(e=s+32|0)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)||(0|i[(e=s+40|0)>>2])==(0|n)&&(0|i[e+4>>2])==(0|r)?1:1&((0|i[(u=s+48|0)>>2])==(0|n)?(0|i[u+4>>2])==(0|r):0),i[a>>2]=u,R=l,0|(a=0)},_bitshift64Ashr:Ue,_bitshift64Lshr:ze,_bitshift64Shl:Ze,_calloc:Ce,_cellAreaKm2:function(t,e,n){return 0|(t=0|re(t|=0,e|=0,n|=0))||(a[n>>3]=6371.007180918475*+a[n>>3]*6371.007180918475),0|t},_cellAreaM2:function(t,e,n){return 0|(t=0|re(t|=0,e|=0,n|=0))||(a[n>>3]=6371.007180918475*+a[n>>3]*6371.007180918475*1e3*1e3),0|t},_cellAreaRads2:re,_cellToBoundary:Xt,_cellToCenterChild:function(t,e,n,r){n|=0,r|=0;var a=0;return a=0|ze(0|(t|=0),0|(e|=0),52),M(),(0|n)<16&(0|(a&=15))<=(0|n)?((0|a)<(0|n)&&(a=0|Ze(-1,-1,3+(3*(n+-1-a|0)|0)|0),a=0|Ze(0|~a,0|~(0|M()),3*(15-n|0)|0),e=~(0|M())&e,t&=~a),a=0|Ze(0|n,0,52),n=-15728641&e|0|M(),i[r>>2]=t|a,i[r+4>>2]=n,0|(r=0)):0|(r=4)},_cellToChildPos:function(t,e,n,r){n|=0,r|=0;var a,o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0;if(a=R,R=R+16|0,g=a,y=0|ze(0|(t|=0),0|(e|=0),52),M(),y&=15,n>>>0>15)return R=a,0|(y=4);if((0|y)<(0|n))return R=a,0|(y=12);if((0|y)!=(0|n))if(s=0|Ze(0|n,0,52),s|=t,u=0|M()|-15728641&e,(0|y)>(0|n)){c=n;do{v=0|Ze(7,0,3*(14-c|0)|0),c=c+1|0,s|=v,u=0|M()|u}while((0|c)<(0|y));v=s}else v=s;else v=t,u=e;m=0|ze(0|v,0|u,45),M();t:do{if(0|U(127&m)){if(c=0|ze(0|v,0|u,52),M(),0|(c&=15))for(s=1;;){if(!(0==((m=0|Ze(7,0,3*(15-s|0)|0))&v|0)&0==((0|M())&u|0))){h=33;break t}if(!(s>>>0<c>>>0))break;s=s+1|0}if(i[(m=r)>>2]=0,i[m+4>>2]=0,(0|y)>(0|n)){for(m=-15728641&e,p=y;;){if(d=p,(p=p+-1|0)>>>0>15|(0|y)<(0|p)){h=19;break}if((0|y)!=(0|p))if(s=0|Ze(0|p,0,52),s|=t,c=0|M()|m,(0|y)<(0|d))A=s;else{h=p;do{A=0|Ze(7,0,3*(14-h|0)|0),h=h+1|0,s|=A,c=0|M()|c}while((0|h)<(0|y));A=s}else A=t,c=e;if(f=0|ze(0|A,0|c,45),M(),0|U(127&f)){f=0|ze(0|A,0|c,52),M(),f&=15;e:do{if(f)for(h=1;;){if(s=0|ze(0|A,0|c,3*(15-h|0)|0),M(),0|(s&=7))break e;if(!(h>>>0<f>>>0)){s=0;break}h=h+1|0}else s=0}while(0);s=0==(0|s)&1}else s=0;if(c=0|ze(0|t,0|e,3*(15-d|0)|0),M(),7==(0|(c&=7))){o=5,h=42;break}if(1==(0|c)&(s=0!=(0|s))){o=5,h=42;break}if(0|(A=c+((0!=(0|c)&s)<<31>>31)|0)&&(h=0|he(7,0,h=y-d|0,((0|h)<0)<<31>>31),f=0|M(),s?(s=0|Re(0|(s=0|Be(0|h,0|f,5,0)),0|M(),-5,-1),s=0|Re(0|(s=0|De(0|s,0|M(),6,0)),0|M(),1,0),c=0|M()):(s=h,c=f),d=0|Re(0|s,0|c,0|(d=0|Be(0|h,0|f,0|(d=A+-1|0),((0|d)<0)<<31>>31|0)),0|M()),f=0|Re(0|d,0|(A=0|M()),0|i[(f=r)>>2],0|i[f+4>>2]),A=0|M(),i[(d=r)>>2]=f,i[d+4>>2]=A),(0|p)<=(0|n)){h=37;break}}if(19==(0|h))E(23313,22674,1099,22710);else{if(37==(0|h)){o=0|i[(l=r)+4>>2],l=0|i[l>>2];break}if(42==(0|h))return R=a,0|o}}else o=0,l=0}else h=33}while(0);t:do{if(33==(0|h)){if(i[(m=r)>>2]=0,i[m+4>>2]=0,(0|y)>(0|n)){for(s=y;;){if(o=0|ze(0|t,0|e,3*(15-s|0)|0),M(),7==(0|(o&=7))){o=5;break}if(o=0|Be(0|(l=0|he(7,0,l=y-s|0,((0|l)<0)<<31>>31)),0|M(),0|o,0),l=0|M(),l=0|Re(0|i[(m=r)>>2],0|i[m+4>>2],0|o,0|l),o=0|M(),i[(m=r)>>2]=l,i[m+4>>2]=o,(0|(s=s+-1|0))<=(0|n))break t}return R=a,0|o}o=0,l=0}}while(0);return 0|Dt(v,u,y,g)&&E(23313,22674,1063,22725),((0|o)>-1|-1==(0|o)&l>>>0>4294967295)&((0|(g=0|i[(y=g)+4>>2]))>(0|o)|((0|g)==(0|o)?(0|i[y>>2])>>>0>l>>>0:0))?(R=a,0|(y=0)):(E(23313,22674,1139,22710),0)},_cellToChildren:function(t,e,n,r){r|=0;var a,o,s=0,l=0;if(o=R,R=R+16|0,Qt(a=o,t|=0,e|=0,n|=0),0==(0|(t=0|i[(e=a)>>2]))&0==(0|(e=0|i[e+4>>2])))return R=o,0;s=0,n=0;do{i[(l=r+(s<<3)|0)>>2]=t,i[l+4>>2]=e,s=0|Re(0|s,0|n,1,0),n=0|M(),Kt(a),t=0|i[(l=a)>>2],e=0|i[l+4>>2]}while(!(0==(0|t)&0==(0|e)));return R=o,0},_cellToChildrenSize:Dt,_cellToLatLng:Wt,_cellToLocalIj:function(t,e,n,r,i,a){var o,s;return t|=0,e|=0,n|=0,r|=0,a|=0,s=R,R=R+16|0,o=s,(i|=0)?t=15:(t=0|ue(t,e,n,r,o))||(yt(o,a),t=0),R=s,0|t},_cellToParent:It,_cellToVertex:be,_cellToVertexes:function(t,e,n){n|=0;var r,a=0,o=0;return o=0==(0|Bt(t|=0,e|=0)),r=0==(0|(a=0|be(t,e,0,n))),o?r?0|(a=0|be(t,e,1,n+8|0))||0|(a=0|be(t,e,2,n+16|0))||0|(a=0|be(t,e,3,n+24|0))||(a=0|be(t,e,4,n+32|0))?0|(o=a):0|be(t,e,5,n+40|0):0|(o=a):r?0|(a=0|be(t,e,1,n+8|0))||0|(a=0|be(t,e,2,n+16|0))||0|(a=0|be(t,e,3,n+24|0))||0|(a=0|be(t,e,4,n+32|0))?0|(o=a):(i[(o=n+40|0)>>2]=0,i[o+4>>2]=0,0|(o=0)):0|(o=a)},_cellsToDirectedEdge:function(t,e,n,r,a){return a|=0,7==(0|(n=0|q(t|=0,e|=0,n|=0,r|=0)))?0|(a=11):(r=0|Ze(0|n,0,56),e=-2130706433&e|0|M()|268435456,i[a>>2]=t|r,i[a+4>>2]=e,0|(a=0))},_cellsToLinkedMultiPolygon:function(t,e,n){n|=0;var r,a,o,s=0;if(o=R,R=R+32|0,r=o,t=0|function(t,e,n){t|=0,n|=0;var r,a,o=0,s=0,l=0,u=0,c=0,h=0;if(a=R,R=R+176|0,r=a,(0|(e|=0))<1)return _e(n,0,0),R=a,0;for(c=0|ze(0|i[(c=t)>>2],0|i[c+4>>2],52),M(),_e(n,(0|e)>6?e:6,15&c),c=0;!(0|(o=0|Xt(0|i[(o=t+(c<<3)|0)>>2],0|i[o+4>>2],r)));){if((0|(o=0|i[r>>2]))>0){u=0;do{l=r+8+(u<<4)|0,(s=0|Ee(n,o=r+8+(((0|(u=u+1|0))%(0|o)|0)<<4)|0,l))?Se(n,s):Me(n,l,o),o=0|i[r>>2]}while((0|u)<(0|o))}if((0|(c=c+1|0))>=(0|e)){o=0,h=13;break}}return 13==(0|h)?(R=a,0|o):(xe(n),R=a,0|(h=o))}(t|=0,e|=0,a=o+16|0),0|t)return R=o,0|(n=t);if(i[n>>2]=0,i[n+4>>2]=0,i[n+8>>2]=0,0|(t=0|we(a)))do{e=0|ie(n);do{ae(e,t),s=t+16|0,i[r>>2]=i[s>>2],i[r+4>>2]=i[s+4>>2],i[r+8>>2]=i[s+8>>2],i[r+12>>2]=i[s+12>>2],Se(a,t),t=0|Te(a,r)}while(0!=(0|t));t=0|we(a)}while(0!=(0|t));return xe(a),(t=0|se(n))?(oe(n),R=o,0|(s=t)):(R=o,0|(s=0))},_childPosToCell:function(t,e,n,r,a,o){t|=0,e|=0,o|=0;var s,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0;if(s=R,R=R+16|0,l=s,(a|=0)>>>0>15)return R=s,0|(o=4);if(u=0|ze(0|(n|=0),0|(r|=0),52),M(),(0|(u&=15))>(0|a))return R=s,0|(o=12);if(0|Dt(n,r,a,l)&&E(23313,22674,1063,22725),!(((0|e)>-1|-1==(0|e)&t>>>0>4294967295)&((0|(h=0|i[(f=l)+4>>2]))>(0|e)|((0|h)==(0|e)?(0|i[f>>2])>>>0>t>>>0:0))))return R=s,0|(o=2);f=a-u|0,a=0|Ze(0|a,0,52),c=0|M()|-15728641&r,i[(h=o)>>2]=a|n,i[h+4>>2]=c,h=0|ze(0|n,0|r,45),M();t:do{if(0|U(127&h)){if(0|u)for(l=1;;){if(!(0==((h=0|Ze(7,0,3*(15-l|0)|0))&n|0)&0==((0|M())&r|0)))break t;if(!(l>>>0<u>>>0))break;l=l+1|0}if((0|f)<1)return R=s,0|(o=0);for(h=15^u,r=-1,c=1,l=1;;){u=0|he(7,0,u=f-c|0,((0|u)<0)<<31>>31),n=0|M();do{if(l){if(l=0|De(0|(l=0|Re(0|(l=0|Be(0|u,0|n,5,0)),0|M(),-5,-1)),0|M(),6,0),(0|e)>(0|(a=0|M()))|(0|e)==(0|a)&t>>>0>l>>>0){e=0|Ne(0|(e=0|Re(0|t,0|e,-1,-1)),0|M(),0|l,0|a),l=0|M(),p=0|i[(A=o)>>2],A=0|i[A+4>>2],d=0|Ze(7,0,0|(m=3*(h+r|0)|0)),A&=~(0|M()),m=0|Ze(0|(a=0|Re(0|(r=0|De(0|e,0|l,0|u,0|n)),0|(t=0|M()),2,0)),0|M(),0|m),A=0|M()|A,i[(a=o)>>2]=m|p&~d,i[a+4>>2]=A,t=0|Ne(0|e,0|l,0|(t=0|Be(0|r,0|t,0|u,0|n)),0|M()),l=0,e=0|M();break}d=0|i[(m=o)>>2],m=0|i[m+4>>2],p=0|Ze(7,0,3*(h+r|0)|0),m&=~(0|M()),i[(l=o)>>2]=d&~p,i[l+4>>2]=m,l=1;break}a=0|i[(d=o)>>2],d=0|i[d+4>>2],A=0|Ze(7,0,0|(r=3*(h+r|0)|0)),d&=~(0|M()),r=0|Ze(0|(m=0|De(0|t,0|e,0|u,0|n)),0|(l=0|M()),0|r),d=0|M()|d,i[(p=o)>>2]=r|a&~A,i[p+4>>2]=d,t=0|Ne(0|t,0|e,0|(l=0|Be(0|m,0|l,0|u,0|n)),0|M()),l=0,e=0|M()}while(0);if(!((0|f)>(0|c))){e=0;break}r=~c,c=c+1|0}return R=s,0|e}}while(0);if((0|f)<1)return R=s,0|(m=0);for(a=15^u,l=1;;){if(p=0|he(7,0,p=f-l|0,((0|p)<0)<<31>>31),m=0|M(),n=0|i[(c=o)>>2],c=0|i[c+4>>2],r=0|Ze(7,0,0|(u=3*(a-l|0)|0)),c&=~(0|M()),u=0|Ze(0|(A=0|De(0|t,0|e,0|p,0|m)),0|(d=0|M()),0|u),c=0|M()|c,i[(h=o)>>2]=u|n&~r,i[h+4>>2]=c,t=0|Ne(0|t,0|e,0|(m=0|Be(0|A,0|d,0|p,0|m)),0|M()),e=0|M(),(0|f)<=(0|l)){e=0;break}l=l+1|0}return R=s,0|e},_compactCells:function(t,e,n,r){e|=0;var a,o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,S=0,T=0;if(0==(0|(n|=0))&0==(0|(r|=0)))return 0|(S=0);if(s=0|i[(o=t|=0)>>2],!0&0==(15728640&(o=0|i[o+4>>2])|0)){if(!((0|r)>0|0==(0|r)&n>>>0>0))return 0|(S=0);if(i[(S=e)>>2]=s,i[S+4>>2]=o,1==(0|n)&0==(0|r))return 0|(S=0);o=1;do{w=0|i[(x=t+(o<<3)|0)+4>>2],i[(S=e+(o<<3)|0)>>2]=i[x>>2],i[S+4>>2]=w,o=o+1|0}while(0<(0|r)|0==(0|r)&o>>>0<n>>>0);return 0|(o=0)}if(!(w=0|ke(a=n<<3)))return 0|(S=13);if(Ve(0|w,0|t,0|a),!(x=0|Ce(n,8)))return Le(w),0|(S=13);t:do{if(0|n){e:for(;;){b=0|ze(0|(y=0|i[(o=w)>>2]),0|(o=0|i[o+4>>2]),52),M(),_=(b&=15)+-1|0,g=(0|n)>0;n:do{if(0!=(0|b)&g){if(p=((0|n)<0)<<31>>31,m=0|Ze(0|_,0,52),v=0|M(),_>>>0>15){if(!(0==(0|y)&0==(0|o))){S=17;break e}for(s=0;;){if((0|(s=s+1|0))>=(0|n))break n;if(!(0==(0|(v=0|i[(r=w+(s<<3)|0)>>2]))&0==(0|(r=0|i[r+4>>2])))){o=r,S=17;break e}}}for(s=0,t=y,r=o;;){if(!(0==(0|t)&0==(0|r))){if(!(!0&0==(117440512&r|0))){S=22;break e}if(u=0|ze(0|t,0|r,52),M(),(0|(u&=15))<(0|_)){o=12,S=28;break e}if((0|u)!=(0|_)&&(t|=m,r=-15728641&r|v,u>>>0>=b>>>0)){l=_;do{d=0|Ze(7,0,3*(14-l|0)|0),l=l+1|0,t|=d,r=0|M()|r}while(l>>>0<u>>>0)}if(l=0|Fe(0|t,0|r,0|n,0|p),M(),0==(0|(c=0|i[(u=h=x+(l<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2])))l=h;else for(d=0;;){if((0|d)>(0|n)){S=32;break e}if((0|c)==(0|t)&(-117440513&u|0)==(0|r)){f=0|ze(0|c,0|u,56),M(),A=(f&=7)+1|0,T=0|ze(0|c,0|u,45),M();r:do{if(0|U(127&T)){if(c=0|ze(0|c,0|u,52),M(),!(c&=15)){u=6;break}for(u=1;;){if(!(0==((T=0|Ze(7,0,3*(15-u|0)|0))&t|0)&0==((0|M())&r|0))){u=7;break r}if(!(u>>>0<c>>>0)){u=6;break}u=u+1|0}}else u=7}while(0);if((f+2|0)>>>0>u>>>0){S=42;break e}T=0|Ze(0|A,0,56),r=0|M()|-117440513&r,i[(A=h)>>2]=0,i[A+4>>2]=0,t|=T}else l=(l+1|0)%(0|n)|0;if(0==(0|(c=0|i[(u=h=x+(l<<3)|0)>>2]))&0==(0|(u=0|i[u+4>>2]))){l=h;break}d=d+1|0}i[(T=l)>>2]=t,i[T+4>>2]=r}if((0|(s=s+1|0))>=(0|n))break n;t=0|i[(r=w+(s<<3)|0)>>2],r=0|i[r+4>>2]}}}while(0);if((n+5|0)>>>0<11){S=85;break}if(!(v=0|Ce((0|n)/6|0,8))){S=49;break}n:do{if(g){d=0,A=0;do{if(!(0==(0|(s=0|i[(r=u=x+(d<<3)|0)>>2]))&0==(0|(r=0|i[r+4>>2])))){c=0|ze(0|s,0|r,56),M(),t=(c&=7)+1|0,h=-117440513&r,T=0|ze(0|s,0|r,45),M();r:do{if(0|U(127&T)){if(f=0|ze(0|s,0|r,52),M(),0|(f&=15))for(l=1;;){if(!(0==(s&(T=0|Ze(7,0,3*(15-l|0)|0))|0)&0==(h&(0|M())|0)))break r;if(!(l>>>0<f>>>0))break;l=l+1|0}s|=r=0|Ze(0|t,0,56),r=0|M()|h,i[(t=u)>>2]=s,i[t+4>>2]=r,t=c+2|0}}while(0);7==(0|t)&&(i[(T=v+(A<<3)|0)>>2]=s,i[T+4>>2]=-117440513&r,A=A+1|0)}d=d+1|0}while((0|d)!=(0|n));if(g){if(d=((0|n)<0)<<31>>31,p=0|Ze(0|_,0,52),m=0|M(),_>>>0>15){if(!(0==(0|y)&0==(0|o))){o=4,S=84;break e}for(o=0;;){if((0|(o=o+1|0))>=(0|n)){s=0,o=A;break n}if(!(0==(0|i[(T=w+(o<<3)|0)>>2])&0==(0|i[T+4>>2]))){o=4,S=84;break e}}}for(f=0,s=0,h=y;;){do{if(!(0==(0|h)&0==(0|o))){if(u=0|ze(0|h,0|o,52),M(),(0|(u&=15))<(0|_)){o=12,S=84;break e}do{if((0|u)==(0|_))r=h,u=o;else{if(r=h|p,t=-15728641&o|m,u>>>0<b>>>0){u=t;break}l=_;do{T=0|Ze(7,0,3*(14-l|0)|0),l=l+1|0,r|=T,t=0|M()|t}while(l>>>0<u>>>0);u=t}}while(0);for(l=0|Fe(0|r,0|u,0|n,0|d),M(),t=0;;){if((0|t)>(0|n)){S=77;break e}if((-117440513&(c=0|i[(T=x+(l<<3)|0)+4>>2])|0)==(0|u)&&(0|i[T>>2])==(0|r)){S=79;break}if((0|i[(T=x+((l=(l+1|0)%(0|n)|0)<<3)|0)>>2])==(0|r)&&(0|i[T+4>>2])==(0|u))break;t=t+1|0}if(79==(0|S)&&(S=0,!0&100663296==(117440512&c|0)))break;i[(T=e+(s<<3)|0)>>2]=h,i[T+4>>2]=o,s=s+1|0}}while(0);if((0|(o=f+1|0))>=(0|n)){o=A;break n}f=o,h=0|i[(T=w+(o<<3)|0)>>2],o=0|i[T+4>>2]}}else s=0,o=A}else s=0,o=0}while(0);if(We(0|x,0,0|a),Ve(0|w,0|v,o<<3|0),Le(v),!o)break t;e=e+(s<<3)|0,n=o}if(17==(0|S))!0&0==(117440512&o|0)?(o=4,S=28):S=22;else if(32==(0|S))E(23313,22674,362,22684);else{if(42==(0|S))return Le(w),Le(x),0|(T=10);if(49==(0|S))return Le(w),Le(x),0|(T=13);if(77==(0|S))E(23313,22674,462,22684);else{if(84==(0|S))return Le(v),Le(w),Le(x),0|(T=o);if(85==(0|S)){Ve(0|e,0|w,n<<3|0);break}}}if(22==(0|S))return Le(w),Le(x),0|(T=5);if(28==(0|S))return Le(w),Le(x),0|(T=o)}}while(0);return Le(w),Le(x),0|(T=0)},_destroyLinkedMultiPolygon:oe,_directedEdgeToBoundary:wt,_directedEdgeToCells:function(t,e,n){t|=0;var r,a,o,s=0;return r=R,R=R+16|0,s=r,!0&268435456==(2013265920&(e|=0)|0)?(a=-2130706433&e|134217728,i[(o=n|=0)>>2]=t,i[o+4>>2]=a,i[s>>2]=0,e=0|ze(0|t,0|e,56),M(),s=0|B(t,a,7&e,s,n+8|0),R=r,0|s):(R=r,0|(s=6))},_edgeLengthKm:function(t,e,n){n|=0;var r,o=0,s=0,l=0,u=0,h=0,d=0,p=0;if(r=R,R=R+176|0,0|(t=0|wt(t|=0,e|=0,u=r)))return u=t,l=+a[n>>3],l*=6371.007180918475,a[n>>3]=l,R=r,0|u;if(a[n>>3]=0,(0|(t=0|i[u>>2]))<=1)return u=0,l=0,l*=6371.007180918475,a[n>>3]=l,R=r,0|u;e=t+-1|0,t=0,o=+a[u+8>>3],s=+a[u+16>>3],l=0;do{d=o,o=+a[u+8+((t=t+1|0)<<4)>>3],p=+A(.5*(o-d)),h=s,s=+a[u+8+(t<<4)+8>>3],h=p*p+(h=+A(.5*(s-h)))*(+f(+d)*+f(+o)*h),l+=2*+g(+ +c(+h),+ +c(+(1-h)))}while((0|t)!=(0|e));return a[n>>3]=l,u=0,p=l,p*=6371.007180918475,a[n>>3]=p,R=r,0|u},_edgeLengthM:function(t,e,n){n|=0;var r,o=0,s=0,l=0,u=0,h=0,d=0,p=0;if(r=R,R=R+176|0,0|(t=0|wt(t|=0,e|=0,u=r)))return u=t,l=+a[n>>3],l*=6371.007180918475,l*=1e3,a[n>>3]=l,R=r,0|u;if(a[n>>3]=0,(0|(t=0|i[u>>2]))<=1)return u=0,l=0,l*=6371.007180918475,l*=1e3,a[n>>3]=l,R=r,0|u;e=t+-1|0,t=0,o=+a[u+8>>3],s=+a[u+16>>3],l=0;do{d=o,o=+a[u+8+((t=t+1|0)<<4)>>3],p=+A(.5*(o-d)),h=s,s=+a[u+8+(t<<4)+8>>3],h=p*p+(h=+A(.5*(s-h)))*(+f(+d)*+f(+o)*h),l+=2*+g(+ +c(+h),+ +c(+(1-h)))}while((0|t)!=(0|e));return a[n>>3]=l,u=0,p=l,p*=6371.007180918475,p*=1e3,a[n>>3]=p,R=r,0|u},_edgeLengthRads:function(t,e,n){n|=0;var r,o=0,s=0,l=0,u=0,h=0,d=0,p=0;if(r=R,R=R+176|0,0|(t=0|wt(t|=0,e|=0,u=r)))return R=r,0|(u=t);if(a[n>>3]=0,(0|(t=0|i[u>>2]))<=1)return R=r,0|(u=0);e=t+-1|0,t=0,o=+a[u+8>>3],s=+a[u+16>>3],l=0;do{d=o,o=+a[u+8+((t=t+1|0)<<4)>>3],p=+A(.5*(o-d)),h=s,s=+a[u+8+(t<<4)+8>>3],h=p*p+(h=+A(.5*(s-h)))*(+f(+o)*+f(+d)*h),l+=2*+g(+ +c(+h),+ +c(+(1-h)))}while((0|t)<(0|e));return a[n>>3]=l,R=r,0|(u=0)},_emscripten_replace_memory:function(t){return r=new Int8Array(t),new Uint8Array(t),i=new Int32Array(t),new Float32Array(t),a=new Float64Array(t),n=t,!0},_free:Le,_getBaseCellNumber:Nt,_getDirectedEdgeDestination:function(t,e,n){t|=0,e|=0,n|=0;var r,a,o=0;return r=R,R=R+16|0,i[(o=r)>>2]=0,!0&268435456==(2013265920&e|0)?(a=0|ze(0|t,0|e,56),M(),o=0|B(t,-2130706433&e|134217728,7&a,o,n),R=r,0|o):(R=r,0|(o=6))},_getDirectedEdgeOrigin:function(t,e,n){return t|=0,n|=0,!0&268435456==(2013265920&(e|=0)|0)?(i[n>>2]=t,i[n+4>>2]=-2130706433&e|134217728,0|(n=0)):0|(n=6)},_getHexagonAreaAvgKm2:function(t,e){return e|=0,(t|=0)>>>0>15?0|(e=4):(a[e>>3]=+a[20528+(t<<3)>>3],0|(e=0))},_getHexagonAreaAvgM2:function(t,e){return e|=0,(t|=0)>>>0>15?0|(e=4):(a[e>>3]=+a[20656+(t<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgKm:function(t,e){return e|=0,(t|=0)>>>0>15?0|(e=4):(a[e>>3]=+a[20784+(t<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgM:function(t,e){return e|=0,(t|=0)>>>0>15?0|(e=4):(a[e>>3]=+a[20912+(t<<3)>>3],0|(e=0))},_getIcosahedronFaces:function t(e,n,r){r|=0;var a,o=0,s=0,l=0,u=0,c=0,h=0,f=0,A=0;a=R,R=R+128|0,f=a+112|0,l=a+96|0,A=a,s=0|ze(0|(e|=0),0|(n|=0),52),M(),c=15&s,i[f>>2]=c,u=0|ze(0|e,0|n,45),M(),u&=127;t:do{if(0|U(u)){if(0|c)for(o=1;;){if(!(0==((h=0|Ze(7,0,3*(15-o|0)|0))&e|0)&0==((0|M())&n|0))){s=0;break t}if(!(o>>>0<c>>>0))break;o=o+1|0}if(!(1&s))return h=0|Ze(c+1|0,0,52),A=0|M()|-15728641&n,A=0|t((h|e)&~(f=0|Ze(7,0,3*(14-c|0)|0)),A&~(0|M()),r),R=a,0|A;s=1}else s=0}while(0);if(!(o=0|Vt(e,n,l))){s?(Pt(l,f,A),h=5):(Rt(l,f,A),h=6);t:do{if(0|U(u))if(c)for(o=1;;){if(!(0==((u=0|Ze(7,0,3*(15-o|0)|0))&e|0)&0==((0|M())&n|0))){e=2;break t}if(!(o>>>0<c>>>0)){e=5;break}o=o+1|0}else e=5;else e=2}while(0);We(0|r,-1,e<<2|0);t:do{if(s)for(l=0;;){if(Lt(u=A+(l<<4)|0,0|i[f>>2]),u=0|i[u>>2],-1==(0|(c=0|i[r>>2]))|(0|c)==(0|u))o=r;else{s=0;do{if((s=s+1|0)>>>0>=e>>>0){o=1;break t}c=0|i[(o=r+(s<<2)|0)>>2]}while(!(-1==(0|c)|(0|c)==(0|u)))}if(i[o>>2]=u,(l=l+1|0)>>>0>=h>>>0){o=0;break}}else for(l=0;;){if(kt(u=A+(l<<4)|0,0|i[f>>2],0,1),u=0|i[u>>2],-1==(0|(c=0|i[r>>2]))|(0|c)==(0|u))o=r;else{s=0;do{if((s=s+1|0)>>>0>=e>>>0){o=1;break t}c=0|i[(o=r+(s<<2)|0)>>2]}while(!(-1==(0|c)|(0|c)==(0|u)))}if(i[o>>2]=u,(l=l+1|0)>>>0>=h>>>0){o=0;break}}}while(0)}return R=a,0|(A=o)},_getNumCells:ee,_getPentagons:Yt,_getRes0Cells:function(t){t|=0;var e=0,n=0,r=0;e=0;do{Ze(0|e,0,45),r=134225919|M(),i[(n=t+(e<<3)|0)>>2]=-1,i[n+4>>2]=r,e=e+1|0}while(122!=(0|e));return 0},_getResolution:function(t,e){return e=0|ze(0|(t|=0),0|(e|=0),52),M(),15&e|0},_greatCircleDistanceKm:te,_greatCircleDistanceM:function(t,e){t|=0;var n,r,i,o=0;return r=+a[(e|=0)>>3],n=+a[t>>3],o=(i=+A(.5*(r-n)))*i+(o=+A(.5*(+a[e+8>>3]-+a[t+8>>3])))*(+f(+r)*+f(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))*6371.007180918475*1e3},_greatCircleDistanceRads:function(t,e){t|=0;var n,r,i,o=0;return r=+a[(e|=0)>>3],n=+a[t>>3],o=(i=+A(.5*(r-n)))*i+(o=+A(.5*(+a[e+8>>3]-+a[t+8>>3])))*(+f(+r)*+f(+n)*o),2*+g(+ +c(+o),+ +c(+(1-o)))},_gridDisk:N,_gridDiskDistances:O,_gridDistance:function(t,e,n,r,a){n|=0,r|=0,a|=0;var o,s,l=0,u=0;return s=R,R=R+32|0,u=s,0|(o=0|ue(t|=0,e|=0,t,e,l=s+12|0))?(R=s,0|(u=o)):0|(t=0|ue(t,e,n,r,u))?(R=s,0|(u=t)):(l=0|gt(l,u),i[(u=a)>>2]=l,i[u+4>>2]=((0|l)<0)<<31>>31,R=s,0|(u=0))},_gridPathCells:function(t,e,n,r,a){n|=0,r|=0,a|=0;var o,s=0,l=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,S=0,T=0,P=0;if(o=R,R=R+48|0,c=o+12|0,T=o,!(s=0|ue(t|=0,e|=0,t,e,l=o+24|0))&&!(s=0|ue(t,e,n,r,c))){S=((0|(w=0|gt(l,c)))<0)<<31>>31,i[l>>2]=0,i[l+4>>2]=0,i[l+8>>2]=0,i[c>>2]=0,i[c+4>>2]=0,i[c+8>>2]=0,0|ue(t,e,t,e,l)&&E(23313,23090,691,23299),0|ue(t,e,n,r,c)&&E(23313,23090,696,23299),_t(l),_t(c),w?(v=+(0|w),x=l,r=d=0|i[l>>2],s=p=0|i[(b=l+4|0)>>2],n=m=0|i[(_=l+8|0)>>2],g=+((0|i[c>>2])-d|0)/v,y=+((0|i[c+4>>2])-p|0)/v,v=+((0|i[c+8>>2])-m|0)/v):(b=s=l+4|0,_=n=l+8|0,x=l,r=0|i[l>>2],s=0|i[s>>2],n=0|i[n>>2],g=0,y=0,v=0),i[T>>2]=r,i[(m=T+4|0)>>2]=s,i[(p=T+8|0)>>2]=n;t:do{if((0|w)<0)s=0;else for(A=0,d=0,s=r;;){P=g*(f=+(d>>>0)+4294967296*+(0|A))+ +(0|s),h=y*f+ +(0|i[b>>2]),f=v*f+ +(0|i[_>>2]),n=~~+Ge(+P),l=~~+Ge(+h),s=~~+Ge(+f),P=+u(+(+(0|n)-P)),h=+u(+(+(0|l)-h)),f=+u(+(+(0|s)-f));do{if(!(P>h&P>f)){if(c=0-n|0,h>f){r=c-s|0;break}r=l,s=c-l|0;break}n=0-(l+s)|0,r=l}while(0);if(i[T>>2]=n,i[m>>2]=r,i[p>>2]=s,xt(T),0|(s=0|ce(t,e,T,a+(d<<3)|0)))break t;if(!((0|A)<(0|S)|(0|A)==(0|S)&d>>>0<w>>>0)){s=0;break t}s=0|Re(0|d,0|A,1,0),A=c=0|M(),d=s,s=0|i[x>>2]}}while(0);return R=o,0|(T=s)}return R=o,0|(T=s)},_gridPathCellsSize:function(t,e,n,r,a){n|=0,r|=0,a|=0;var o,s=0,l=0,u=0;return o=R,R=R+32|0,u=o,(s=0|ue(t|=0,e|=0,t,e,l=o+12|0))||(s=0|ue(t,e,n,r,u))?(R=o,0|(u=s)):(r=0|Re(0|(r=0|gt(l,u)),((0|r)<0)<<31>>31|0,1,0),l=0|M(),i[(u=a)>>2]=r,i[u+4>>2]=l,R=o,0|(u=0))},_gridRingUnsafe:function(t,e,n,r){t|=0,e|=0,n|=0,r|=0;var a,o,s=0,l=0,u=0,c=0,h=0,f=0,A=0,d=0,p=0;if(o=R,R=R+16|0,p=o+8|0,i[(d=a=o)>>2]=t,i[d+4>>2]=e,!n)return i[(p=r)>>2]=t,i[p+4>>2]=e,R=o,0|(p=0);i[p>>2]=0;t:do{if(0|Bt(t,e))t=9;else{if(l=(0|n)>0){s=0,d=t;do{if(0|(t=0|B(d,e,4,p,a)))break t;if(s=s+1|0,0|Bt(d=0|i[(e=a)>>2],e=0|i[e+4>>2])){t=9;break t}}while((0|s)<(0|n));if(i[(A=r)>>2]=d,i[A+4>>2]=e,A=n+-1|0,l){f=0,t=1;do{if(s=22384+(f<<2)|0,5==(0|f))for(u=0|i[s>>2],l=0,s=t;;){if(0|(t=0|B(0|i[(t=a)>>2],0|i[t+4>>2],u,p,a)))break t;if((0|l)!=(0|A)){if(c=0|i[(h=a)>>2],h=0|i[h+4>>2],i[(t=r+(s<<3)|0)>>2]=c,i[t+4>>2]=h,0|Bt(c,h)){t=9;break t}t=s+1|0}else t=s;if((0|(l=l+1|0))>=(0|n))break;s=t}else for(u=a,h=0|i[s>>2],c=0,s=t,l=0|i[u>>2],u=0|i[u+4>>2];;){if(0|(t=0|B(l,u,h,p,a)))break t;if(l=0|i[(u=a)>>2],u=0|i[u+4>>2],i[(t=r+(s<<3)|0)>>2]=l,i[t+4>>2]=u,t=s+1|0,0|Bt(l,u)){t=9;break t}if((0|(c=c+1|0))>=(0|n))break;s=t}f=f+1|0}while(f>>>0<6);u=d,s=0|i[(t=a)>>2],l=e,t=0|i[t+4>>2]}else u=d,s=d,l=e,t=e}else i[(u=r)>>2]=t,i[u+4>>2]=e,u=t,s=t,l=e,t=e;t=(0|u)==(0|s)&(0|l)==(0|t)?0:9}}while(0);return R=o,0|(p=t)},_i64Add:Re,_i64Subtract:Ne,_isPentagon:Bt,_isResClassIII:function(t,e){return e=0|ze(0|(t|=0),0|(e|=0),52),M(),1&e|0},_isValidCell:Ot,_isValidDirectedEdge:function(t,e){var n=0;switch(n=0|ze(0|(t|=0),0|(e|=0),56),M(),7&n){case 0:case 7:return 0|(n=0)}return n=-2130706433&e|134217728,!0&268435456==(2013265920&e|0)?!0&16777216==(117440512&e|0)&0!=(0|Bt(t,n))?0|(n=0):0|(n=0|Ot(t,n)):0|(n=0)},_isValidVertex:function(t,e){t|=0;var n,r,a=0,o=0;return r=R,R=R+16|0,n=r,!0&536870912==(2013265920&(e|=0)|0)&&0|Ot(t,a=-2130706433&e|134217728)?(o=0|ze(0|t,0|e,56),M(),a=(o=0==(0|be(t,a,7&o,n)))&((0|i[(a=n)>>2])==(0|t)?(0|i[a+4>>2])==(0|e):0)&1,R=r,0|a):(R=r,0|(a=0))},_latLngToCell:Ht,_llvm_maxnum_f64:je,_llvm_minnum_f64:He,_llvm_round_f64:Ge,_localIjToCell:function(t,e,n,r,i){var a,o;return t|=0,e|=0,n|=0,i|=0,o=R,R=R+16|0,a=o,(r|=0)?n=15:(n=0|bt(n,a))||(n=0|ce(t,e,a,i)),R=o,0|n},_malloc:ke,_maxFaceCount:function(t,e,n){n|=0;var r=0,a=0;if(a=0|ze(0|(t|=0),0|(e|=0),45),M(),!(0|U(127&a)))return a=2,i[n>>2]=a,0;if(a=0|ze(0|t,0|e,52),M(),!(a&=15))return a=5,i[n>>2]=a,0;for(r=1;;){if(!(0==((0|Ze(7,0,3*(15-r|0)|0))&t|0)&0==((0|M())&e|0))){r=2,t=6;break}if(!(r>>>0<a>>>0)){r=5,t=6;break}r=r+1|0}return 6==(0|t)?(i[n>>2]=r,0):0},_maxGridDiskSize:function(t,e){e|=0;var n=0,r=0,a=0;return(0|(t|=0))<0?0|(e=2):(0|t)>13780509?0|(e=0|ee(15,e)):(a=0|Be(0|t,0|(n=((0|t)<0)<<31>>31),3,0),r=0|M(),n=0|Re(0|t,0|n,1,0),n=0|Re(0|(n=0|Be(0|a,0|r,0|n,0|M())),0|M(),1,0),t=0|M(),i[e>>2]=n,i[e+4>>2]=t,0|(e=0))},_maxPolygonToCellsSize:function(t,e,n,r){e|=0,r|=0;var a,o=0,s=0,l=0,u=0,c=0;if(a=R,R=R+48|0,o=a+16|0,s=a+8|0,l=a,0|(n|=0))return R=a,0|(l=15);if(u=0|i[(c=t|=0)+4>>2],i[(n=s)>>2]=i[c>>2],i[n+4>>2]=u,Ae(s,o),!(e=0|Y(o,e,l))){if(n=0|i[s>>2],(0|(s=0|i[t+8>>2]))>0){o=0|i[t+12>>2],e=0;do{n=(0|i[o+(e<<3)>>2])+n|0,e=e+1|0}while((0|e)<(0|s))}o=0|i[(e=l)>>2],(0|(e=0|i[e+4>>2]))<(0|(s=((0|n)<0)<<31>>31))|(0|e)==(0|s)&o>>>0<n>>>0?(i[(e=l)>>2]=n,i[e+4>>2]=s,e=s):n=o,u=0|Re(0|n,0|e,12,0),c=0|M(),i[(e=l)>>2]=u,i[e+4>>2]=c,i[(e=r)>>2]=u,i[e+4>>2]=c,e=0}return R=a,0|(c=e)},_memcpy:Ve,_memset:We,_originToDirectedEdges:function(t,e,n){n|=0;var r,a=0;return r=0==(0|Bt(t|=0,e|=0)),e&=-2130706433,i[(a=n)>>2]=r?t:0,i[a+4>>2]=r?285212672|e:0,i[(a=n+8|0)>>2]=t,i[a+4>>2]=301989888|e,i[(a=n+16|0)>>2]=t,i[a+4>>2]=318767104|e,i[(a=n+24|0)>>2]=t,i[a+4>>2]=335544320|e,i[(a=n+32|0)>>2]=t,i[a+4>>2]=352321536|e,i[(n=n+40|0)>>2]=t,i[n+4>>2]=369098752|e,0},_pentagonCount:function(){return 12},_polygonToCells:function(t,e,n,r){e|=0,r|=0;var a,o,s,l,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,S=0,E=0,T=0,P=0,k=0,L=0,C=0,N=0,O=0,B=0,q=0,U=0;if(l=R,R=R+112|0,a=l+80|0,A=l+72|0,o=l,s=l+56|0,0|(n|=0))return R=l,0|(U=15);if(!(U=0|ke(32+(i[(d=(t|=0)+8|0)>>2]<<5)|0)))return R=l,0|(U=13);if(de(t,U),q=0|i[(B=t)+4>>2],i[(n=A)>>2]=i[B>>2],i[n+4>>2]=q,Ae(A,a),n=0|Y(a,e,o))B=0,q=0;else{if(n=0|i[A>>2],(0|(c=0|i[d>>2]))>0){h=0|i[t+12>>2],u=0;do{n=(0|i[h+(u<<3)>>2])+n|0,u=u+1|0}while((0|u)!=(0|c));u=n}else u=n;c=0|i[(n=o)>>2],(0|(n=0|i[n+4>>2]))<(0|(h=((0|u)<0)<<31>>31))|(0|n)==(0|h)&c>>>0<u>>>0?(i[(n=o)>>2]=u,i[n+4>>2]=h,n=h):u=c,B=0|Re(0|u,0|n,12,0),q=0|M(),i[(n=o)>>2]=B,i[n+4>>2]=q,n=0}if(0|n)return Le(U),R=l,0|(U=n);if(!(u=0|Ce(B,8)))return Le(U),R=l,0|(U=13);if(!(f=0|Ce(B,8)))return Le(U),Le(u),R=l,0|(U=13);i[(N=a)>>2]=0,i[N+4>>2]=0,O=0|i[(N=t)+4>>2],i[(n=A)>>2]=i[N>>2],i[n+4>>2]=O,n=0|F(A,B,q,e,a,u,f);t:do{if(n)Le(u),Le(f),Le(U);else{e:do{if((0|i[d>>2])>0){for(h=t+12|0,c=0;n=0|F((0|i[h>>2])+(c<<3)|0,B,q,e,a,u,f),c=c+1|0,!(0|n);)if((0|c)>=(0|i[d>>2]))break e;Le(u),Le(f),Le(U);break t}}while(0);(0|q)>0|0==(0|q)&B>>>0>0&&We(0|f,0,B<<3|0),N=0|i[(O=a)+4>>2];e:do{if((0|N)>0|0==(0|N)&(0|i[O>>2])>>>0>0){k=u,L=f,C=u,N=f,O=u,n=u,E=u,T=f,P=f,u=f;n:for(;;){for(_=0,x=0,w=0,S=0,c=0,h=0;;){A=(f=o)+56|0;do{i[f>>2]=0,f=f+4|0}while((0|f)<(0|A));if(0|I(d=0|i[(e=k+(_<<3)|0)>>2],e=0|i[e+4>>2],1,o,0)){A=(f=o)+56|0;do{i[f>>2]=0,f=f+4|0}while((0|f)<(0|A));0|(f=0|Ce(7,4))&&(D(d,e,1,o,f,7,0,0),Le(f))}for(b=0;;){g=0|i[(y=o+(b<<3)|0)>>2],y=0|i[y+4>>2];r:do{if(0==(0|g)&0==(0|y))f=c,A=h;else{if(p=0|Fe(0|g,0|y,0|B,0|q),d=0|M(),!(0==(0|(A=0|i[(e=f=r+(p<<3)|0)>>2]))&0==(0|(e=0|i[e+4>>2])))){m=0,v=0;do{if((0|m)>(0|q)|(0|m)==(0|q)&v>>>0>B>>>0)break n;if((0|A)==(0|g)&(0|e)==(0|y)){f=c,A=h;break r}p=0|qe(0|(f=0|Re(0|p,0|d,1,0)),0|M(),0|B,0|q),d=0|M(),v=0|Re(0|v,0|m,1,0),m=0|M(),A=0|i[(e=f=r+(p<<3)|0)>>2],e=0|i[e+4>>2]}while(!(0==(0|A)&0==(0|e)))}0==(0|g)&0==(0|y)?(f=c,A=h):(Wt(g,y,s),0|pe(t,U,s)&&(v=0|Re(0|c,0|h,1,0),h=0|M(),i[(m=f)>>2]=g,i[m+4>>2]=y,i[(c=L+(c<<3)|0)>>2]=g,i[c+4>>2]=y,c=v),f=c,A=h)}}while(0);if((b=b+1|0)>>>0>=7)break;c=f,h=A}if(_=0|Re(0|_,0|x,1,0),x=0|M(),w=0|Re(0|w,0|S,1,0),S=0|M(),c=0|i[(h=a)>>2],!((0|S)<(0|(h=0|i[h+4>>2]))|(0|S)==(0|h)&w>>>0<c>>>0))break;c=f,h=A}if((0|h)>0|0==(0|h)&c>>>0>0){c=0,h=0;do{i[(S=k+(c<<3)|0)>>2]=0,i[S+4>>2]=0,c=0|Re(0|c,0|h,1,0),h=0|M(),w=0|i[(S=a)+4>>2]}while((0|h)<(0|w)|((0|h)==(0|w)?c>>>0<(0|i[S>>2])>>>0:0))}if(i[(S=a)>>2]=f,i[S+4>>2]=A,!((0|A)>0|0==(0|A)&f>>>0>0))break e;b=u,_=P,x=O,w=T,S=L,u=E,P=n,T=C,E=b,n=_,O=N,N=x,C=w,L=k,k=S}Le(C),Le(N),Le(U),n=1;break t}n=f}while(0);Le(U),Le(u),Le(n),n=0}}while(0);return R=l,0|(U=n)},_readInt64AsDoubleFromPointer:function(t){return+(+((0|i[(t|=0)>>2])>>>0)+4294967296*+(0|i[t+4>>2]))},_res0CellCount:function(){return 122},_round:Xe,_sbrk:Ye,_sizeOfCellBoundary:function(){return 168},_sizeOfCoordIJ:function(){return 8},_sizeOfGeoLoop:function(){return 8},_sizeOfGeoPolygon:function(){return 16},_sizeOfH3Index:function(){return 8},_sizeOfLatLng:function(){return 16},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompactCells:function(t,e,n,r,a,o,s){t|=0,r|=0,a|=0,o|=0;var l,u=0,c=0,h=0,f=0,A=0,d=0,p=0,m=0;if(l=R,R=R+16|0,m=l,!((0|(n|=0))>0|0==(0|n)&(e|=0)>>>0>0))return R=l,0|(m=0);if((0|(s|=0))>=16)return R=l,0|(m=12);d=0,p=0,A=0,u=0;t:for(;;){if(f=0|ze(0|(c=0|i[(h=t+(d<<3)|0)>>2]),0|(h=0|i[h+4>>2]),52),M(),(15&f|0)>(0|s)){u=12,c=11;break}if(Qt(m,c,h,s),0==(0|(h=0|i[(f=m)>>2]))&0==(0|(f=0|i[f+4>>2])))c=A;else{c=A;do{if(!((0|u)<(0|o)|(0|u)==(0|o)&c>>>0<a>>>0)){c=10;break t}i[(A=r+(c<<3)|0)>>2]=h,i[A+4>>2]=f,c=0|Re(0|c,0|u,1,0),u=0|M(),Kt(m),h=0|i[(A=m)>>2],f=0|i[A+4>>2]}while(!(0==(0|h)&0==(0|f)))}if(d=0|Re(0|d,0|p,1,0),!((0|(p=0|M()))<(0|n)|(0|p)==(0|n)&d>>>0<e>>>0)){u=0,c=11;break}A=c}return 10==(0|c)?(R=l,0|(m=14)):11==(0|c)?(R=l,0|u):0},_uncompactCellsSize:function(t,e,n,r,a){t|=0,e|=0,n|=0,r|=0,a|=0;var o,s,l=0,u=0,c=0,h=0,f=0,A=0;s=R,R=R+16|0,o=s;t:do{if((0|n)>0|0==(0|n)&e>>>0>0){for(f=0,u=0,l=0,A=0;;){if(!(0==(0|(c=0|i[(h=t+(f<<3)|0)>>2]))&0==(0|(h=0|i[h+4>>2])))&&(h=0==(0|Dt(c,h,r,o)),u=0|Re(0|i[(c=o)>>2],0|i[c+4>>2],0|u,0|l),l=0|M(),!h)){l=12;break}if(f=0|Re(0|f,0|A,1,0),!((0|(A=0|M()))<(0|n)|(0|A)==(0|n)&f>>>0<e>>>0))break t}return R=s,0|l}u=0,l=0}while(0);return i[a>>2]=u,i[a+4>>2]=l,R=s,0|(a=0)},_vertexToLatLng:function(t,e,n){n|=0;var r,a,o,s,l=0,u=0;return s=R,R=R+192|0,a=s,o=s+168|0,l=0|ze(0|(t|=0),0|(e|=0),56),M(),l&=7,0|(r=0|Vt(t,u=-2130706433&e|134217728,o))?(R=s,0|(u=r)):(e=0|ze(0|t,0|e,52),M(),e&=15,0|Bt(t,u)?Tt(o,e,l,1,a):Ct(o,e,l,1,a),u=a+8|0,i[n>>2]=i[u>>2],i[n+4>>2]=i[u+4>>2],i[n+8>>2]=i[u+8>>2],i[n+12>>2]=i[u+12>>2],R=s,0|(u=0))},establishStackSpace:function(t,e){R=t|=0},stackAlloc:function(t){var e;return e=R,R=(R=R+(t|=0)|0)+15&-16,0|e},stackRestore:function(t){R=t|=0},stackSave:function(){return 0|R}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},K,p),$=(n.___divdi3=J.___divdi3,n.___muldi3=J.___muldi3,n.___remdi3=J.___remdi3,n.___uremdi3=J.___uremdi3,n._areNeighborCells=J._areNeighborCells,n._bitshift64Ashr=J._bitshift64Ashr,n._bitshift64Lshr=J._bitshift64Lshr,n._bitshift64Shl=J._bitshift64Shl,n._calloc=J._calloc,n._cellAreaKm2=J._cellAreaKm2,n._cellAreaM2=J._cellAreaM2,n._cellAreaRads2=J._cellAreaRads2,n._cellToBoundary=J._cellToBoundary,n._cellToCenterChild=J._cellToCenterChild,n._cellToChildPos=J._cellToChildPos,n._cellToChildren=J._cellToChildren,n._cellToChildrenSize=J._cellToChildrenSize,n._cellToLatLng=J._cellToLatLng,n._cellToLocalIj=J._cellToLocalIj,n._cellToParent=J._cellToParent,n._cellToVertex=J._cellToVertex,n._cellToVertexes=J._cellToVertexes,n._cellsToDirectedEdge=J._cellsToDirectedEdge,n._cellsToLinkedMultiPolygon=J._cellsToLinkedMultiPolygon,n._childPosToCell=J._childPosToCell,n._compactCells=J._compactCells,n._destroyLinkedMultiPolygon=J._destroyLinkedMultiPolygon,n._directedEdgeToBoundary=J._directedEdgeToBoundary,n._directedEdgeToCells=J._directedEdgeToCells,n._edgeLengthKm=J._edgeLengthKm,n._edgeLengthM=J._edgeLengthM,n._edgeLengthRads=J._edgeLengthRads,n._emscripten_replace_memory=J._emscripten_replace_memory),tt=(n._free=J._free,n._getBaseCellNumber=J._getBaseCellNumber,n._getDirectedEdgeDestination=J._getDirectedEdgeDestination,n._getDirectedEdgeOrigin=J._getDirectedEdgeOrigin,n._getHexagonAreaAvgKm2=J._getHexagonAreaAvgKm2,n._getHexagonAreaAvgM2=J._getHexagonAreaAvgM2,n._getHexagonEdgeLengthAvgKm=J._getHexagonEdgeLengthAvgKm,n._getHexagonEdgeLengthAvgM=J._getHexagonEdgeLengthAvgM,n._getIcosahedronFaces=J._getIcosahedronFaces,n._getNumCells=J._getNumCells,n._getPentagons=J._getPentagons,n._getRes0Cells=J._getRes0Cells,n._getResolution=J._getResolution,n._greatCircleDistanceKm=J._greatCircleDistanceKm,n._greatCircleDistanceM=J._greatCircleDistanceM,n._greatCircleDistanceRads=J._greatCircleDistanceRads,n._gridDisk=J._gridDisk,n._gridDiskDistances=J._gridDiskDistances,n._gridDistance=J._gridDistance,n._gridPathCells=J._gridPathCells,n._gridPathCellsSize=J._gridPathCellsSize,n._gridRingUnsafe=J._gridRingUnsafe,n._i64Add=J._i64Add,n._i64Subtract=J._i64Subtract,n._isPentagon=J._isPentagon,n._isResClassIII=J._isResClassIII,n._isValidCell=J._isValidCell,n._isValidDirectedEdge=J._isValidDirectedEdge,n._isValidVertex=J._isValidVertex,n._latLngToCell=J._latLngToCell,n._llvm_maxnum_f64=J._llvm_maxnum_f64,n._llvm_minnum_f64=J._llvm_minnum_f64,n._llvm_round_f64=J._llvm_round_f64,n._localIjToCell=J._localIjToCell,n._malloc=J._malloc,n._maxFaceCount=J._maxFaceCount,n._maxGridDiskSize=J._maxGridDiskSize,n._maxPolygonToCellsSize=J._maxPolygonToCellsSize,n._memcpy=J._memcpy,n._memset=J._memset,n._originToDirectedEdges=J._originToDirectedEdges,n._pentagonCount=J._pentagonCount,n._polygonToCells=J._polygonToCells,n._readInt64AsDoubleFromPointer=J._readInt64AsDoubleFromPointer,n._res0CellCount=J._res0CellCount,n._round=J._round,n._sbrk=J._sbrk,n._sizeOfCellBoundary=J._sizeOfCellBoundary,n._sizeOfCoordIJ=J._sizeOfCoordIJ,n._sizeOfGeoLoop=J._sizeOfGeoLoop,n._sizeOfGeoPolygon=J._sizeOfGeoPolygon,n._sizeOfH3Index=J._sizeOfH3Index,n._sizeOfLatLng=J._sizeOfLatLng,n._sizeOfLinkedGeoPolygon=J._sizeOfLinkedGeoPolygon,n._uncompactCells=J._uncompactCells,n._uncompactCellsSize=J._uncompactCellsSize,n._vertexToLatLng=J._vertexToLatLng,n.establishStackSpace=J.establishStackSpace,n.stackAlloc=J.stackAlloc),et=n.stackRestore=J.stackRestore,nt=n.stackSave=J.stackSave;if(n.asm=J,n.cwrap=function(t,e,n,r){var i=(n=n||[]).every((function(t){return"number"===t}));return"string"!==e&&i&&!r?h(t):function(){return f(t,e,n,arguments)}},n.setValue=function(t,e,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":m[t>>0]=e;break;case"i16":g[t>>1]=e;break;case"i32":y[t>>2]=e;break;case"i64":q=[e>>>0,(B=e,+L(B)>=1?B>0?(0|N(+R(B/4294967296),4294967295))>>>0:~~+C((B-+(~~B>>>0))/4294967296)>>>0:0)],y[t>>2]=q[0],y[t+4>>2]=q[1];break;case"float":b[t>>2]=e;break;case"double":_[t>>3]=e;break;default:lt("invalid type for setValue: "+n)}},n.getValue=function(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return m[t>>0];case"i16":return g[t>>1];case"i32":case"i64":return y[t>>2];case"float":return b[t>>2];case"double":return _[t>>3];default:lt("invalid type for getValue: "+e)}return null},F){z(F)||(Y=F,F=n.locateFile?n.locateFile(Y,o):o+Y),O++,n.monitorRunDependencies&&n.monitorRunDependencies(O);var rt=function(t){t.byteLength&&(t=new Uint8Array(t)),v.set(t,8),n.memoryInitializerRequest&&delete n.memoryInitializerRequest.response,function(t){if(O--,n.monitorRunDependencies&&n.monitorRunDependencies(O),0==O&&(null!==I&&(clearInterval(I),I=null),D)){var e=D;D=null,e()}}()},it=function(){i(F,rt,(function(){throw"could not load memory initializer "+F}))},at=X(F);if(at)rt(at.buffer);else if(n.memoryInitializerRequest){var ot=function(){var t=n.memoryInitializerRequest,e=t.response;if(200!==t.status&&0!==t.status){var r=X(n.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+t.status+", retrying "+F),void it();e=r.buffer}rt(e)};n.memoryInitializerRequest.response?setTimeout(ot,0):n.memoryInitializerRequest.addEventListener("load",ot)}else it()}function st(t){function e(){Q||(Q=!0,c||(M(T),M(P),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),k.unshift(t);var t;M(k)}()))}t=t||a,O>0||(!function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)t=n.preRun.shift(),E.unshift(t);var t;M(E)}(),O>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e()))}function lt(t){throw n.onAbort&&n.onAbort(t),s(t+=""),l(t),c=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(D=function t(){Q||st(),Q||(D=t)},n.run=st,n.abort=lt,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return st(),t}("object"===typeof Rv?Rv:{}),Nv="number",Ov=[["sizeOfH3Index",Nv],["sizeOfLatLng",Nv],["sizeOfCellBoundary",Nv],["sizeOfGeoLoop",Nv],["sizeOfGeoPolygon",Nv],["sizeOfLinkedGeoPolygon",Nv],["sizeOfCoordIJ",Nv],["readInt64AsDoubleFromPointer",Nv],["isValidCell",Nv,[Nv,Nv]],["latLngToCell",Nv,[Nv,Nv,Nv,Nv]],["cellToLatLng",Nv,[Nv,Nv,Nv]],["cellToBoundary",Nv,[Nv,Nv,Nv]],["maxGridDiskSize",Nv,[Nv,Nv]],["gridDisk",Nv,[Nv,Nv,Nv,Nv]],["gridDiskDistances",Nv,[Nv,Nv,Nv,Nv,Nv]],["gridRingUnsafe",Nv,[Nv,Nv,Nv,Nv]],["maxPolygonToCellsSize",Nv,[Nv,Nv,Nv,Nv]],["polygonToCells",Nv,[Nv,Nv,Nv,Nv]],["cellsToLinkedMultiPolygon",Nv,[Nv,Nv,Nv]],["destroyLinkedMultiPolygon",null,[Nv]],["compactCells",Nv,[Nv,Nv,Nv,Nv]],["uncompactCells",Nv,[Nv,Nv,Nv,Nv,Nv,Nv]],["uncompactCellsSize",Nv,[Nv,Nv,Nv,Nv,Nv]],["isPentagon",Nv,[Nv,Nv]],["isResClassIII",Nv,[Nv,Nv]],["getBaseCellNumber",Nv,[Nv,Nv]],["getResolution",Nv,[Nv,Nv]],["maxFaceCount",Nv,[Nv,Nv,Nv]],["getIcosahedronFaces",Nv,[Nv,Nv,Nv]],["cellToParent",Nv,[Nv,Nv,Nv,Nv]],["cellToChildren",Nv,[Nv,Nv,Nv,Nv]],["cellToCenterChild",Nv,[Nv,Nv,Nv,Nv]],["cellToChildrenSize",Nv,[Nv,Nv,Nv,Nv]],["cellToChildPos",Nv,[Nv,Nv,Nv,Nv]],["childPosToCell",Nv,[Nv,Nv,Nv,Nv,Nv,Nv]],["areNeighborCells",Nv,[Nv,Nv,Nv,Nv,Nv]],["cellsToDirectedEdge",Nv,[Nv,Nv,Nv,Nv,Nv]],["getDirectedEdgeOrigin",Nv,[Nv,Nv,Nv]],["getDirectedEdgeDestination",Nv,[Nv,Nv,Nv]],["isValidDirectedEdge",Nv,[Nv,Nv]],["directedEdgeToCells",Nv,[Nv,Nv,Nv]],["originToDirectedEdges",Nv,[Nv,Nv,Nv]],["directedEdgeToBoundary",Nv,[Nv,Nv,Nv]],["gridDistance",Nv,[Nv,Nv,Nv,Nv,Nv]],["gridPathCells",Nv,[Nv,Nv,Nv,Nv,Nv]],["gridPathCellsSize",Nv,[Nv,Nv,Nv,Nv,Nv]],["cellToLocalIj",Nv,[Nv,Nv,Nv,Nv,Nv,Nv]],["localIjToCell",Nv,[Nv,Nv,Nv,Nv,Nv]],["getHexagonAreaAvgM2",Nv,[Nv,Nv]],["getHexagonAreaAvgKm2",Nv,[Nv,Nv]],["getHexagonEdgeLengthAvgM",Nv,[Nv,Nv]],["getHexagonEdgeLengthAvgKm",Nv,[Nv,Nv]],["greatCircleDistanceM",Nv,[Nv,Nv]],["greatCircleDistanceKm",Nv,[Nv,Nv]],["greatCircleDistanceRads",Nv,[Nv,Nv]],["cellAreaM2",Nv,[Nv,Nv,Nv]],["cellAreaKm2",Nv,[Nv,Nv,Nv]],["cellAreaRads2",Nv,[Nv,Nv,Nv]],["edgeLengthM",Nv,[Nv,Nv,Nv]],["edgeLengthKm",Nv,[Nv,Nv,Nv]],["edgeLengthRads",Nv,[Nv,Nv,Nv]],["getNumCells",Nv,[Nv,Nv]],["getRes0Cells",Nv,[Nv]],["res0CellCount",Nv],["getPentagons",Nv,[Nv,Nv]],["pentagonCount",Nv],["cellToVertex",Nv,[Nv,Nv,Nv,Nv]],["cellToVertexes",Nv,[Nv,Nv,Nv]],["vertexToLatLng",Nv,[Nv,Nv,Nv]],["isValidVertex",Nv,[Nv,Nv]]],Iv=4,Dv=5,Bv={0:"Success",1:"The operation failed but a more specific error is not available",2:"Argument was outside of acceptable range",3:"Latitude or longitude arguments were outside of acceptable range"};Bv[Iv]="Resolution argument was outside of acceptable range",Bv[Dv]="Cell argument was not valid",Bv[6]="Directed edge argument was not valid",Bv[7]="Undirected edge argument was not valid",Bv[8]="Vertex argument was not valid",Bv[9]="Pentagon distortion was encountered",Bv[10]="Duplicate input",Bv[11]="Cell arguments were not neighbors",Bv[12]="Cell arguments had incompatible resolutions",Bv[13]="Memory allocation failed",Bv[14]="Bounds of provided memory were insufficient",Bv[15]="Mode or flags argument was not valid";var qv=1001,Fv=1002,Uv={1e3:"Unknown unit"};Uv[qv]="Array length out of bounds",Uv[Fv]="Got unexpected null value for H3 index";var zv="Unknown error";function Zv(t,e,n){var r=n&&"value"in n,i=new Error((t[e]||zv)+" (code: "+e+(r?", value: "+n.value:"")+")");return i.code=e,i}function jv(t,e){return Zv(Bv,t,2===arguments.length?{value:e}:{})}function Hv(t,e){return Zv(Uv,t,2===arguments.length?{value:e}:{})}function Gv(t){if(0!==t)throw jv(t)}var Vv={};Ov.forEach((function(t){Vv[t[0]]=Rv.cwrap.apply(Rv,t)}));var Wv=16,Xv=4,Yv=8,Qv=8,Kv=Vv.sizeOfH3Index(),Jv=Vv.sizeOfLatLng(),$v=Vv.sizeOfCellBoundary(),tg=Vv.sizeOfGeoPolygon(),eg=Vv.sizeOfGeoLoop();Vv.sizeOfLinkedGeoPolygon(),Vv.sizeOfCoordIJ();function ng(t){if("number"!==typeof t||t<0||t>15||Math.floor(t)!==t)throw jv(Iv,t);return t}function rg(t){if(!t)throw Hv(Fv);return t}var ig=Math.pow(2,32)-1;function ag(t){if(t>ig)throw Hv(qv,t);return t}var og=/[^0-9a-fA-F]/;function sg(t){if(Array.isArray(t)&&2===t.length&&Number.isInteger(t[0])&&Number.isInteger(t[1]))return t;if("string"!==typeof t||og.test(t))return[0,0];var e=parseInt(t.substring(0,t.length-8),Wv);return[parseInt(t.substring(t.length-8),Wv),e]}function lg(t){if(t>=0)return t.toString(Wv);var e=ug(8,(t&=2147483647).toString(Wv));return e=(parseInt(e[0],Wv)+8).toString(Wv)+e.substring(1)}function ug(t,e){for(var n=t-e.length,r="",i=0;i<n;i++)r+="0";return r+=e}Math.pow(2,32);function cg(t,e,n){for(var r=t.length,i=Rv._calloc(r,Jv),a=n?1:0,o=n?0:1,s=0;s<2*r;s+=2)Rv.HEAPF64.set([t[s/2][a],t[s/2][o]].map(xg),i/Yv+s);return Rv.HEAPU32.set([r,i],e/Xv),e}function hg(t,e){void 0===e&&(e=0);var n=Rv.getValue(t+Kv*e,"i32"),r=Rv.getValue(t+Kv*e+Xv,"i32");return r?function(t,e){return lg(e)+ug(8,lg(t))}(n,r):null}function fg(t){return Vv.readInt64AsDoubleFromPointer(t)}function Ag(t,e){for(var n=[],r=0;r<e;r++){var i=hg(t,r);null!==i&&n.push(i)}return n}function dg(t){return 180*Rv.getValue(t,"double")/Math.PI}function pg(t){return[dg(t),dg(t+Yv)]}function mg(t){return[dg(t+Yv),dg(t)]}function vg(t,e,n){for(var r=Rv.getValue(t,"i32"),i=t+Yv,a=[],o=e?mg:pg,s=0;s<2*r;s+=2)a.push(o(i+Yv*s));return n&&a.push(a[0]),a}function gg(t,e,n){var r=Rv._malloc(Jv);Rv.HEAPF64.set([t,e].map(xg),r/Yv);var i=Rv._malloc(Kv);try{return Gv(Vv.latLngToCell(r,n,i)),rg(hg(i))}finally{Rv._free(i),Rv._free(r)}}function yg(t){var e=Rv._malloc(Jv),n=sg(t),r=n[0],i=n[1];try{return Gv(Vv.cellToLatLng(r,i,e)),pg(e)}finally{Rv._free(e)}}function bg(t,e){var n=Rv._malloc($v),r=sg(t),i=r[0],a=r[1];try{return Gv(Vv.cellToBoundary(i,a,n)),vg(n,e,e)}finally{Rv._free(n)}}function _g(t,e,n){if(ng(e),n=Boolean(n),0===t.length||0===t[0].length)return[];var r=function(t,e){var n,r=t.length-1,i=Rv._calloc(tg),a=0+eg,o=a+Xv;if(cg(t[0],i+0,e),r>0){n=Rv._calloc(r,eg);for(var s=0;s<r;s++)cg(t[s+1],n+eg*s,e)}return Rv.setValue(i+a,r,"i32"),Rv.setValue(i+o,n,"i32"),i}("number"===typeof t[0][0]?[t]:t,n),i=Rv._malloc(Qv);try{Gv(Vv.maxPolygonToCellsSize(r,e,0,i));var a=ag(fg(i)),o=Rv._calloc(a,Kv);try{return Gv(Vv.polygonToCells(r,e,0,o)),Ag(o,a)}finally{Rv._free(o)}}finally{Rv._free(i),function(t){var e=0+eg,n=e+Xv,r=Xv;Rv._free(Rv.getValue(t+0+r,"i8*"));var i=Rv.getValue(t+e,"i32");if(i>0){for(var a=Rv.getValue(t+n,"i32"),o=0;o<i;o++)Rv._free(Rv.getValue(a+eg*o+r,"i8*"));Rv._free(a)}Rv._free(t)}(r)}}function xg(t){return t*Math.PI/180}var wg=window.THREE?window.THREE:{Box3:De,BufferGeometry:mr,Float32BufferAttribute:lr,InstancedBufferGeometry:Nl,InstancedInterleavedBuffer:Hl,InterleavedBufferAttribute:Fo,Sphere:tn,Vector3:Ne,WireframeGeometry:tl},Sg=(new wg.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Mg=new wg.Box3,Eg=new wg.Vector3,Tg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;(0,k.Z)(this,n),(t=e.call(this)).type="LineSegmentsGeometry";return t.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),t[Sg]("position",new wg.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),t[Sg]("uv",new wg.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2)),t}return(0,L.Z)(n,[{key:"applyMatrix4",value:function(t){var e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==e&&(e.applyMatrix4(t),n.applyMatrix4(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"setPositions",value:function(t){var e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));var n=new wg.InstancedInterleavedBuffer(e,6,1);return this[Sg]("instanceStart",new wg.InterleavedBufferAttribute(n,3,0)),this[Sg]("instanceEnd",new wg.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}},{key:"setColors",value:function(t){var e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));var n=new wg.InstancedInterleavedBuffer(e,6,1);return this[Sg]("instanceColorStart",new wg.InterleavedBufferAttribute(n,3,0)),this[Sg]("instanceColorEnd",new wg.InterleavedBufferAttribute(n,3,3)),this}},{key:"fromWireframeGeometry",value:function(t){return this.setPositions(t.attributes.position.array),this}},{key:"fromEdgesGeometry",value:function(t){return this.setPositions(t.attributes.position.array),this}},{key:"fromMesh",value:function(t){return this.fromWireframeGeometry(new wg.WireframeGeometry(t.geometry)),this}},{key:"fromLineSegments",value:function(t){var e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new wg.Box3);var t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),Mg.setFromBufferAttribute(e),this.boundingBox.union(Mg))}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new wg.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){var n=this.boundingSphere.center;this.boundingBox.getCenter(n);for(var r=0,i=0,a=t.count;i<a;i++)Eg.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(Eg)),Eg.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(Eg));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}},{key:"toJSON",value:function(){}},{key:"applyMatrix",value:function(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}]),n}(wg.InstancedBufferGeometry);Tg.prototype.isLineSegmentsGeometry=!0;var Pg=window.THREE?window.THREE:{ShaderLib:oi,ShaderMaterial:zr,UniformsLib:ai,UniformsUtils:Ur,Vector2:se};Pg.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Pg.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1}},Pg.ShaderLib.line={uniforms:Pg.UniformsUtils.merge([Pg.UniformsLib.common,Pg.UniformsLib.fog,Pg.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\tworldStart = start.xyz;\n\t\t\tworldEnd = end.xyz;\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var kg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r;return(0,k.Z)(this,n),r=e.call(this,{type:"LineMaterial",uniforms:Pg.UniformsUtils.clone(Pg.ShaderLib.line.uniforms),vertexShader:Pg.ShaderLib.line.vertexShader,fragmentShader:Pg.ShaderLib.line.fragmentShader,clipping:!0}),Object.defineProperties((0,S.Z)(r),{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){!0===t?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),!0===t?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),!0===t?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),r.setValues(t),r}return(0,L.Z)(n)}(Pg.ShaderMaterial);kg.prototype.isLineMaterial=!0;var Lg=window.THREE?window.THREE:{Box3:De,BufferGeometry:mr,InstancedInterleavedBuffer:Hl,InterleavedBufferAttribute:Fo,Line3:Kl,MathUtils:oe,Matrix4:cn,Mesh:Or,Sphere:tn,Vector3:Ne,Vector4:Pe},Cg=(new Lg.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Rg=new Lg.Vector3,Ng=new Lg.Vector3,Og=new Lg.Vector4,Ig=new Lg.Vector4,Dg=new Lg.Vector4,Bg=new Lg.Vector3,qg=new Lg.Matrix4,Fg=new Lg.Line3,Ug=new Lg.Vector3,zg=new Lg.Box3,Zg=new Lg.Sphere,jg=new Lg.Vector4,Hg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Tg,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kg({color:16777215*Math.random()});return(0,k.Z)(this,n),(t=e.call(this,r,i)).type="LineSegments2",t}return(0,L.Z)(n,[{key:"computeLineDistances",value:function(){for(var t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,r=new Float32Array(2*e.count),i=0,a=0,o=e.count;i<o;i++,a+=2)Rg.fromBufferAttribute(e,i),Ng.fromBufferAttribute(n,i),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+Rg.distanceTo(Ng);var s=new Lg.InstancedInterleavedBuffer(r,2,1);return t[Cg]("instanceDistanceStart",new Lg.InterleavedBufferAttribute(s,1,0)),t[Cg]("instanceDistanceEnd",new Lg.InterleavedBufferAttribute(s,1,1)),this}},{key:"raycast",value:function(t,e){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var n=void 0!==t.params.Line2&&t.params.Line2.threshold||0,r=t.ray,i=t.camera,a=i.projectionMatrix,o=this.matrixWorld,s=this.geometry,l=this.material,u=l.resolution,c=l.linewidth+n,h=s.attributes.instanceStart,f=s.attributes.instanceEnd,A=-i.near,d=2*Math.max(c/u.width,c/u.height);null===s.boundingSphere&&s.computeBoundingSphere(),Zg.copy(s.boundingSphere).applyMatrix4(o);var p=Math.max(i.near,Zg.distanceToPoint(r.origin));jg.set(0,0,-p,1).applyMatrix4(i.projectionMatrix),jg.multiplyScalar(1/jg.w),jg.applyMatrix4(i.projectionMatrixInverse);var m=.5*Math.abs(d/jg.w);if(Zg.radius+=m,!1!==t.ray.intersectsSphere(Zg)){null===s.boundingBox&&s.computeBoundingBox(),zg.copy(s.boundingBox).applyMatrix4(o);var v=Math.max(i.near,zg.distanceToPoint(r.origin));jg.set(0,0,-v,1).applyMatrix4(i.projectionMatrix),jg.multiplyScalar(1/jg.w),jg.applyMatrix4(i.projectionMatrixInverse);var g=.5*Math.abs(d/jg.w);if(zg.max.x+=g,zg.max.y+=g,zg.max.z+=g,zg.min.x-=g,zg.min.y-=g,zg.min.z-=g,!1!==t.ray.intersectsBox(zg)){r.at(1,Dg),Dg.w=1,Dg.applyMatrix4(i.matrixWorldInverse),Dg.applyMatrix4(a),Dg.multiplyScalar(1/Dg.w),Dg.x*=u.x/2,Dg.y*=u.y/2,Dg.z=0,Bg.copy(Dg),qg.multiplyMatrices(i.matrixWorldInverse,o);for(var y=0,b=h.count;y<b;y++){if(Og.fromBufferAttribute(h,y),Ig.fromBufferAttribute(f,y),Og.w=1,Ig.w=1,Og.applyMatrix4(qg),Ig.applyMatrix4(qg),!(Og.z>A&&Ig.z>A)){if(Og.z>A){var _=Og.z-Ig.z,x=(Og.z-A)/_;Og.lerp(Ig,x)}else if(Ig.z>A){var w=Ig.z-Og.z,S=(Ig.z-A)/w;Ig.lerp(Og,S)}Og.applyMatrix4(a),Ig.applyMatrix4(a),Og.multiplyScalar(1/Og.w),Ig.multiplyScalar(1/Ig.w),Og.x*=u.x/2,Og.y*=u.y/2,Ig.x*=u.x/2,Ig.y*=u.y/2,Fg.start.copy(Og),Fg.start.z=0,Fg.end.copy(Ig),Fg.end.z=0;var M=Fg.closestPointToPointParameter(Bg,!0);Fg.at(M,Ug);var E=Lg.MathUtils.lerp(Og.z,Ig.z,M),T=E>=-1&&E<=1,P=Bg.distanceTo(Ug)<.5*c;if(T&&P){Fg.start.fromBufferAttribute(h,y),Fg.end.fromBufferAttribute(f,y),Fg.start.applyMatrix4(o),Fg.end.applyMatrix4(o);var k=new Lg.Vector3,L=new Lg.Vector3;r.distanceSqToSegment(Fg.start,Fg.end,L,k),e.push({point:L,pointOnLine:k,distance:r.origin.distanceTo(L),object:this,face:null,faceIndex:y,uv:null,uv2:null})}}}}}}}]),n}(Lg.Mesh);Hg.prototype.LineSegments2=!0;var Gg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).type="LineGeometry",t}return(0,L.Z)(n,[{key:"setPositions",value:function(t){for(var e=t.length-3,r=new Float32Array(2*e),i=0;i<e;i+=3)r[2*i]=t[i],r[2*i+1]=t[i+1],r[2*i+2]=t[i+2],r[2*i+3]=t[i+3],r[2*i+4]=t[i+4],r[2*i+5]=t[i+5];return(0,x.Z)((0,w.Z)(n.prototype),"setPositions",this).call(this,r),this}},{key:"setColors",value:function(t){for(var e=t.length-3,r=new Float32Array(2*e),i=0;i<e;i+=3)r[2*i]=t[i],r[2*i+1]=t[i+1],r[2*i+2]=t[i+2],r[2*i+3]=t[i+3],r[2*i+4]=t[i+4],r[2*i+5]=t[i+5];return(0,x.Z)((0,w.Z)(n.prototype),"setColors",this).call(this,r),this}},{key:"fromLine",value:function(t){var e=t.geometry;if(!e.isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}}]),n}(Tg);Gg.prototype.isLineGeometry=!0;var Vg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gg,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kg({color:16777215*Math.random()});return(0,k.Z)(this,n),(t=e.call(this,r,i)).type="Line2",t}return(0,L.Z)(n)}(Hg);Vg.prototype.isLine2=!0;var Wg=n(2963),Xg=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,k.Z)(this,n);var a=i.font;if(void 0===a)r=e.call(this);else{var o=a.generateShapes(t,i.size);i.depth=void 0!==i.height?i.height:50,void 0===i.bevelThickness&&(i.bevelThickness=10),void 0===i.bevelSize&&(i.bevelSize=8),void 0===i.bevelEnabled&&(i.bevelEnabled=!1),r=e.call(this,o,i)}return r.type="TextGeometry",(0,Wg.Z)(r)}return(0,L.Z)(n)}(Qs),Yg=function(){function t(e){(0,k.Z)(this,t),this.isFont=!0,this.type="Font",this.data=e}return(0,L.Z)(t,[{key:"generateShapes",value:function(t){for(var e=[],n=function(t,e,n){for(var r=Array.from(t),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=a;else{var h=Qg(c,i,s,l,n);s+=h.offsetX,o.push(h.path)}}return o}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,this.data),r=0,i=n.length;r<i;r++)e.push.apply(e,(0,zp.Z)(n[r].toShapes()));return e}}]),t}();function Qg(t,e,n,r,i){var a=i.glyphs[t]||i.glyphs["?"];if(a){var o,s,l,u,c,h,f,A,d=new Jl;if(a.o)for(var p=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,v=p.length;m<v;){switch(p[m++]){case"m":o=p[m++]*e+n,s=p[m++]*e+r,d.moveTo(o,s);break;case"l":o=p[m++]*e+n,s=p[m++]*e+r,d.lineTo(o,s);break;case"q":l=p[m++]*e+n,u=p[m++]*e+r,c=p[m++]*e+n,h=p[m++]*e+r,d.quadraticCurveTo(c,h,l,u);break;case"b":l=p[m++]*e+n,u=p[m++]*e+r,c=p[m++]*e+n,h=p[m++]*e+r,f=p[m++]*e+n,A=p[m++]*e+r,d.bezierCurveTo(c,h,f,A,l,u)}}return{offsetX:a.ha*e,path:d}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".")}function Kg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kg(Object(n),!0).forEach((function(e){ny(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,py(r.key),r)}}function ey(t,e,n){return e&&ty(t.prototype,e),n&&ty(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ny(t,e,n){return(e=py(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ry(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ay(t,e)}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iy(t)}function ay(t,e){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ay(t,e)}function oy(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sy(t,e,n){return sy=oy()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&ay(i,n.prototype),i},sy.apply(null,arguments)}function ly(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cy(t){var e=oy();return function(){var n,r=iy(t);if(e){var i=iy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uy(t)}(this,n)}}function hy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||Ay(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(t){return function(t){if(Array.isArray(t))return dy(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ay(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ay(t,e){if(t){if("string"===typeof t)return dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dy(t,e):void 0}}function dy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function py(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}var my=function t(e){e instanceof Array?e.forEach(t):(e.map&&e.map.dispose(),e.dispose())},vy=function t(e){e.geometry&&e.geometry.dispose(),e.material&&my(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(t)},gy=function(t){if(t&&t.children)for(;t.children.length;){var e=t.children[0];t.remove(e),vy(e)}};function yy(t,e){var n=new e;return{linkProp:function(e){return{default:n[e](),onChange:function(n,r){r[t][e](n)},triggerUpdate:!1}},linkMethod:function(e){return function(n){for(var r=n[t],i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s=r[e].apply(r,a);return s===r?this:s}}}}var by=100;function _y(){return by}function xy(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(90-t)*Math.PI/180,i=(90-e)*Math.PI/180,a=by*(1+n);return{x:a*Math.sin(r)*Math.cos(i),y:a*Math.cos(r),z:a*Math.sin(r)*Math.sin(i)}}function wy(t){var e=t.x,n=t.y,r=t.z,i=Math.sqrt(e*e+n*n+r*r),a=Math.acos(n/i),o=Math.atan2(r,e);return{lat:90-180*a/Math.PI,lng:90-180*o/Math.PI-(o<-Math.PI/2?360:0),altitude:i/by-1}}function Sy(t){return t*Math.PI/180}var My=window.THREE?window.THREE:{BackSide:z,BufferAttribute:ar,Color:tr,Mesh:Or,ShaderMaterial:zr},Ey="\nuniform vec3 color;\nuniform float coefficient;\nuniform float power;\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvoid main() {\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity\t= pow(\n    coefficient + dot(vVertexNormal, viewCameraToVertex),\n    power\n  );\n  gl_FragColor = vec4(color, intensity);\n}",Ty="\nvarying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvoid main() {\n  vVertexNormal\t= normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",Py={backside:!0,coefficient:.5,color:"gold",size:2,power:1};function ky(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Py,n=e.backside,r=e.coefficient,i=e.color,a=e.size,o=e.power,s=function(t,e){for(var n=t.clone(),r=new Float32Array(3*t.attributes.position.count),i=0,a=r.length;i<a;i++){var o=t.attributes.normal.array[i],s=t.attributes.position.array[i];r[i]=s+o*e}return n.setAttribute("position",new My.BufferAttribute(r,3)),n}(t,a),l=function(t,e,n){return new My.ShaderMaterial({depthWrite:!1,fragmentShader:Ey,transparent:!0,uniforms:{coefficient:{value:t},color:{value:new My.Color(e)},power:{value:n}},vertexShader:Ty})}(r,i,o);return n&&(l.side=My.BackSide),new My.Mesh(s,l)}var Ly=window.THREE?window.THREE:{Color:tr,LineBasicMaterial:zo,LineSegments:Qo,Mesh:Or,MeshPhongMaterial:nl,SphereGeometry:Js,SRGBColorSpace:Bt,TextureLoader:Sl},Cy=zu({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(t,e){e.globeObj.visible=!!t},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(t,e){e.graticulesObj.visible=!!t},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(t,e){e.atmosphereObj&&(e.atmosphereObj.visible=!!t)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(t,e){return void 0!==e?(t.globeObj.material=e||t.defaultGlobeMaterial,this):t.globeObj.material},_destructor:function(t){gy(t.globeObj),gy(t.graticulesObj)}},stateInit:function(){var t=new Ly.SphereGeometry(by,75,75),e=new Ly.MeshPhongMaterial({color:0,transparent:!0}),n=new Ly.Mesh(t,e);return n.rotation.y=-Math.PI/2,n.__globeObjType="globe",{globeObj:n,graticulesObj:new Ly.LineSegments(new Yc(nh(),by,2),new Ly.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1})),defaultGlobeMaterial:e}},init:function(t,e){gy(t),e.scene=t,e.scene.add(e.globeObj),e.scene.add(e.graticulesObj),e.ready=!1},update:function(t,e){var n=t.globeObj.material;if(e.hasOwnProperty("globeImageUrl")&&(t.globeImageUrl?(new Ly.TextureLoader).load(t.globeImageUrl,(function(e){e.colorSpace=Ly.SRGBColorSpace,n.map=e,n.color=null,n.needsUpdate=!0,!t.ready&&(t.ready=!0)&&setTimeout(t.onReady)})):!n.color&&(n.color=new Ly.Color(0))),e.hasOwnProperty("bumpImageUrl")&&(t.bumpImageUrl?t.bumpImageUrl&&(new Ly.TextureLoader).load(t.bumpImageUrl,(function(t){n.bumpMap=t,n.needsUpdate=!0})):(n.bumpMap=null,n.needsUpdate=!0)),(e.hasOwnProperty("atmosphereColor")||e.hasOwnProperty("atmosphereAltitude"))&&(t.atmosphereObj&&(t.scene.remove(t.atmosphereObj),gy(t.atmosphereObj)),t.atmosphereColor&&t.atmosphereAltitude)){var r=t.atmosphereObj=ky(t.globeObj.geometry,{backside:!0,color:t.atmosphereColor,size:by*t.atmosphereAltitude,power:3.5,coefficient:.1});r.visible=!!t.showAtmosphere,r.__globeObjType="atmosphere",t.scene.add(r)}t.ready||t.globeImageUrl||(t.ready=!0,t.onReady())}}),Ry=function(t){return isNaN(t)?parseInt(xh(t).toHex(),16):t},Ny=function(t){return isNaN(t)?xh(t).getAlpha():1},Oy=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=xh(t).toRgb(),r=["r","g","b"].map((function(t){return n[t]/255}));return e?[].concat(fy(r),[n.a]):r};function Iy(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).removeDelay,i=void 0===r?0:r;return df(t,e.children,(function(t){return e.add(t)}),(function(t){var n=function(){e.remove(t),gy(t),t&&t.hasOwnProperty("__data")&&delete t.__data.__currentTargetD};i?setTimeout(n,i):n()}),Jg({objBindAttr:"__threeObj"},n))}var Dy=window.THREE?window.THREE:{BufferAttribute:ar,BufferGeometry:mr,Color:tr,CylinderGeometry:bs,Matrix4:cn,Mesh:Or,MeshBasicMaterial:nr,MeshLambertMaterial:rl,Object3D:In,Vector3:Ne},By=Object.assign({},r),qy=By.BufferGeometryUtils||By,Fy=(new Dy.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",Uy=zu({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.pointLat),n=gh(t.pointLng),r=gh(t.pointAltitude),i=gh(t.pointRadius),a=gh(t.pointColor),o=new Dy.CylinderGeometry(1,1,1,t.pointResolution);o[Fy]((new Dy.Matrix4).makeRotationX(Math.PI/2)),o[Fy]((new Dy.Matrix4).makeTranslation(0,0,-.5));var s=2*Math.PI*by/360,l={},u=t.pointsMerge?new Dy.Object3D:t.scene;if(Iy(t.pointsData,u,{createObj:function(){var t=new Dy.Mesh(o);return t.__globeObjType="point",t},updateObj:function(o,u){var c=function(e){var n=o.__currentTargetD=e,r=n.r,i=n.alt,a=n.lat,l=n.lng;Object.assign(o.position,xy(a,l));var u=t.pointsMerge?new Dy.Vector3(0,0,0):t.scene.localToWorld(new Dy.Vector3(0,0,0));o.lookAt(u),o.scale.x=o.scale.y=Math.min(30,r)*s,o.scale.z=Math.max(i*by,.1)},h={alt:+r(u),r:+i(u),lat:+e(u),lng:+n(u)},f=o.__currentTargetD||Object.assign({},h,{alt:-.001});Object.keys(h).some((function(t){return f[t]!==h[t]}))&&(t.pointsMerge||!t.pointsTransitionDuration||t.pointsTransitionDuration<0?c(h):new Xu(f).to(h,t.pointsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(c).start());if(!t.pointsMerge){var A=a(u),d=A?Ny(A):0,p=!!d;o.visible=p,p&&(l.hasOwnProperty(A)||(l[A]=new Dy.MeshLambertMaterial({color:Ry(A),transparent:d<1,opacity:d})),o.material=l[A])}}}),t.pointsMerge){var c=t.pointsData.length?(qy.mergeGeometries||qy.mergeBufferGeometries)(t.pointsData.map((function(t){var e=t.__threeObj;t.__threeObj=void 0;var n=e.geometry.clone();e.updateMatrix(),n[Fy](e.matrix);for(var r=new Dy.Color(a(t)),i=n.attributes.position.count,o=new Float32Array(3*i),s=0,l=i;s<l;s++){var u=3*s;o[u]=r.r,o[u+1]=r.g,o[u+2]=r.b}return n.setAttribute("color",new Dy.BufferAttribute(o,3)),n}))):new Dy.BufferGeometry,h=new Dy.Mesh(c,new Dy.MeshBasicMaterial({color:16777215,vertexColors:!0}));h.__globeObjType="points",h.__data=t.pointsData,gy(t.scene),t.scene.add(h)}}}),zy=["stroke"],Zy=window.THREE?window.THREE:{BufferGeometry:mr,CubicBezierCurve3:cs,Curve:Ko,Float32BufferAttribute:lr,Group:To,Line:Wo,Mesh:Or,NormalBlending:1,QuadraticBezierCurve3:ds,ShaderMaterial:zr,TubeGeometry:$s,Vector3:Ne},jy=pf.default||pf,Hy=(new Zy.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Gy={uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:"\n    uniform float dashTranslate; \n\n    attribute vec4 vertexColor;\n    varying vec4 vColor;\n    \n    attribute float vertexRelDistance;\n    varying float vRelDistance;\n\n    void main() {\n      // pass through colors and distances\n      vColor = vertexColor;\n      vRelDistance = vertexRelDistance + dashTranslate;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float dashOffset; \n    uniform float dashSize;\n    uniform float gapSize; \n    \n    varying vec4 vColor;\n    varying float vRelDistance;\n    \n    void main() {\n      // ignore pixels in the gap\n      if (vRelDistance < dashOffset) discard;\n      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;\n    \n      // set px color: [r, g, b, a], interpolated between vertices \n      gl_FragColor = vColor; \n    }\n  "},Vy=zu({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.pause()},resumeAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.resume()},_destructor:function(t){var e;null===(e=t.ticker)||void 0===e||e.dispose()}},init:function(t,e){gy(t),e.scene=t,e.ticker=new jy,e.ticker.onTick.add((function(t,n){e.arcsData.filter((function(t){return t.__threeObj&&t.__threeObj.children.length&&t.__threeObj.children[0].material&&t.__threeObj.children[0].__dashAnimateStep})).forEach((function(t){var e=t.__threeObj.children[0],r=e.__dashAnimateStep*n,i=e.material.uniforms.dashTranslate.value%1e9;e.material.uniforms.dashTranslate.value=i+r}))}))},update:function(t){var e=gh(t.arcStartLat),n=gh(t.arcStartLng),r=gh(t.arcEndLat),i=gh(t.arcEndLng),a=gh(t.arcAltitude),o=gh(t.arcAltitudeAutoScale),s=gh(t.arcStroke),l=gh(t.arcColor),u=gh(t.arcDashLength),c=gh(t.arcDashGap),h=gh(t.arcDashInitialGap),f=gh(t.arcDashAnimateTime),A=new Zy.ShaderMaterial(Jg(Jg({},Gy),{},{transparent:!0,blending:Zy.NormalBlending}));Iy(t.arcsData,t.scene,{createObj:function(){var t=new Zy.Group;return t.__globeObjType="arc",t},updateObj:function(d,p){var m=s(p),v=null!==m&&void 0!==m;if(!d.children.length||v!==("Mesh"===d.children[0].type)){gy(d);var g=v?new Zy.Mesh:new Zy.Line(new Zy.BufferGeometry);g.material=A.clone(),d.add(g)}var y=d.children[0];Object.assign(y.material.uniforms,{dashSize:{value:u(p)},gapSize:{value:c(p)},dashOffset:{value:h(p)}});var b=f(p);y.__dashAnimateStep=b>0?1e3/b:0;var _=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e+1;if(t instanceof Array||t instanceof Function){var a=t instanceof Array?JA().domain(t.map((function(e,n){return n/(t.length-1)}))).range(t):t;n=function(t){return Oy(a(t))}}else{var o=Oy(t);n=function(){return o}}for(var s=new Zy.Float32BufferAttribute(4*i*r,4),l=0,u=i;l<u;l++)for(var c=n(l/(u-1)),h=0;h<r;h++)s.set(c,4*(l*r+h));return s}(l(p),t.arcCurveResolution,v?t.arcCircularResolution+1:1),x=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t+1,i=r*e,a=new Zy.Float32BufferAttribute(i,1),o=0,s=r;o<s;o++)for(var l=o/(s-1),u=0;u<e;u++){var c=o*e+u,h=n?i-1-c:c;a.setX(h,l)}return a}(t.arcCurveResolution,v?t.arcCircularResolution+1:1,!0);y.geometry[Hy]("vertexColor",_),y.geometry[Hy]("vertexRelDistance",x);var w=function(e){var n=p.__currentTargetD=e,r=n.stroke,i=function(t){var e=t.alt,n=t.altAutoScale,r=t.startLat,i=t.startLng,a=t.endLat,o=t.endLng,s=function(t){var e=hy(t,3),n=e[0],r=xy(e[1],n,e[2]),i=r.x,a=r.y,o=r.z;return new Zy.Vector3(i,a,o)},l=[i,r],u=[o,a],c=e;if((null===c||void 0===c)&&(c=Ic(l,u)/2*n),c){var h=Dc(l,u),f=hy([.25,.75].map((function(t){return[].concat(fy(h(t)),[1.5*c])})),2),A=f[0],d=f[1];return sy(Zy.CubicBezierCurve3,fy([l,A,d,u].map(s)))}var p=.001;return m.apply(void 0,fy([[].concat(l,[p]),[].concat(u,[p])].map(s)));function m(t,e){var n=t.angleTo(e),r=0===n?function(){return t.clone()}:function(r){return(new Zy.Vector3).addVectors(t.clone().multiplyScalar(Math.sin((1-r)*n)),e.clone().multiplyScalar(Math.sin(r*n))).divideScalar(Math.sin(n))},i=new Zy.Curve;return i.getPoint=r,i}}(ly(n,zy));v?(y.geometry&&y.geometry.dispose(),y.geometry=new Zy.TubeGeometry(i,t.arcCurveResolution,r/2,t.arcCircularResolution),y.geometry[Hy]("vertexColor",_),y.geometry[Hy]("vertexRelDistance",x)):y.geometry.setFromPoints(i.getPoints(t.arcCurveResolution))},S={stroke:m,alt:a(p),altAutoScale:+o(p),startLat:+e(p),startLng:+n(p),endLat:+r(p),endLng:+i(p)},M=p.__currentTargetD||Object.assign({},S,{altAutoScale:-.001});Object.keys(S).some((function(t){return M[t]!==S[t]}))&&(!t.arcsTransitionDuration||t.arcsTransitionDuration<0?w(S):new Xu(M).to(S,t.arcsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(w).start())}})}}),Wy=window.THREE?window.THREE:{BufferAttribute:ar,BufferGeometry:mr,Color:tr,DoubleSide:2,Mesh:Or,MeshBasicMaterial:nr,MeshLambertMaterial:rl,Object3D:In},Xy=Object.assign({},r),Yy=Xy.BufferGeometryUtils||Xy,Qy=(new Wy.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",Ky=zu({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(t){return.01*t.sumWeight}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.hexBinPointLat),n=gh(t.hexBinPointLng),r=gh(t.hexBinPointWeight),i=gh(t.hexAltitude),a=gh(t.hexTopColor),o=gh(t.hexSideColor),s=gh(t.hexMargin),l=rf(t.hexBinPointsData.map((function(r){return Jg(Jg({},r),{},{h3Idx:gg(e(r),n(r),t.hexBinResolution)})})),"h3Idx"),u=Object.entries(l).map((function(t){var e=hy(t,2),n=e[0],i=e[1];return{h3Idx:n,points:i,sumWeight:i.reduce((function(t,e){return t+ +r(e)}),0)}})),c={};if(Iy(u,t.hexBinMerge?new Wy.Object3D:t.scene,{createObj:function(t){var e=new Wy.Mesh;e.__hexCenter=yg(t.h3Idx),e.__hexGeoJson=bg(t.h3Idx,!0).reverse();var n=e.__hexCenter[1];return e.__hexGeoJson.forEach((function(t){var e=t[0];Math.abs(n-e)>170&&(t[0]+=n>e?360:-360)})),e.__globeObjType="hexbin",e},updateObj:function(e,n){var r=Math.max(0,Math.min(1,+s(n))),l=hy(e.__hexCenter,2),u=l[0],h=l[1],f=0===r?e.__hexGeoJson:e.__hexGeoJson.map((function(t){var e=hy(t,2),n=e[0],i=e[1];return[[n,h],[i,u]].map((function(t){var e=hy(t,2);return function(t,e,n){return t-(t-e)*n}(e[0],e[1],r)}))})),A=t.hexTopCurvatureResolution;e.geometry&&e.geometry.dispose(),e.geometry=new Cv([f],0,by,!1,!0,!0,A);var d={alt:+i(n)},p=function(t){var n=(e.__currentTargetD=t).alt;e.scale.x=e.scale.y=e.scale.z=1+n},m=e.__currentTargetD||Object.assign({},d,{alt:-.001});Object.keys(d).some((function(t){return m[t]!==d[t]}))&&(t.hexBinMerge||!t.hexTransitionDuration||t.hexTransitionDuration<0?p(d):new Xu(m).to(d,t.hexTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(p).start());if(!t.hexBinMerge){var v=o(n),g=a(n);[v,g].forEach((function(t){if(!c.hasOwnProperty(t)){var e=Ny(t);c[t]=new Wy.MeshLambertMaterial({color:Ry(t),transparent:e<1,opacity:e,side:Wy.DoubleSide})}})),e.material=[v,g].map((function(t){return c[t]}))}},idAccessor:function(t){return t.h3Idx}}),t.hexBinMerge){var h=u.length?(Yy.mergeGeometries||Yy.mergeBufferGeometries)(u.map((function(t){var e=t.__threeObj;t.__threeObj=void 0;var n=e.geometry.toNonIndexed();e.updateMatrix(),n[Qy](e.matrix);for(var r=new Wy.Color(a(t)),i=new Wy.Color(o(t)),s=n.attributes.position.count,l=n.groups[0].count,u=new Float32Array(3*s),c=0,h=s;c<h;c++){var f=3*c,A=c>=l?r:i;u[f]=A.r,u[f+1]=A.g,u[f+2]=A.b}return n.setAttribute("color",new Wy.BufferAttribute(u,3)),n}))):new Wy.BufferGeometry,f=new Wy.Mesh(h,new Wy.MeshBasicMaterial({color:16777215,vertexColors:!0,side:Wy.DoubleSide}));f.__globeObjType="hexBinPoints",f.__data=u,gy(t.scene),t.scene.add(f)}}}),Jy=window.THREE?window.THREE:{DoubleSide:2,Group:To,LineBasicMaterial:zo,LineSegments:Qo,Mesh:Or,MeshBasicMaterial:nr},$y=zu({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.polygonGeoJsonGeometry),n=gh(t.polygonAltitude),r=gh(t.polygonCapCurvatureResolution),i=gh(t.polygonCapColor),a=gh(t.polygonCapMaterial),o=gh(t.polygonSideColor),s=gh(t.polygonSideMaterial),l=gh(t.polygonStrokeColor),u=[];t.polygonsData.forEach((function(t){var c={data:t,capColor:i(t),capMaterial:a(t),sideColor:o(t),sideMaterial:s(t),strokeColor:l(t),altitude:+n(t),capCurvatureResolution:+r(t)},h=e(t),f=t.__id||"".concat(Math.round(1e9*Math.random()));t.__id=f,"Polygon"===h.type?u.push(Jg({id:"".concat(f,"_0"),coords:h.coordinates},c)):"MultiPolygon"===h.type?u.push.apply(u,fy(h.coordinates.map((function(t,e){return Jg({id:"".concat(f,"_").concat(e),coords:t},c)})))):console.warn("Unsupported GeoJson geometry type: ".concat(h.type,". Skipping geometry..."))})),Iy(u,t.scene,{idAccessor:function(t){return t.id},createObj:function(){var t=new Jy.Group;return t.__defaultSideMaterial=new Jy.MeshBasicMaterial({side:Jy.DoubleSide,depthWrite:!0}),t.__defaultCapMaterial=new Jy.MeshBasicMaterial({side:Jy.DoubleSide,depthWrite:!0}),t.add(new Jy.Mesh(void 0,[t.__defaultSideMaterial,t.__defaultCapMaterial])),t.add(new Jy.LineSegments(void 0,new Jy.LineBasicMaterial)),t.__globeObjType="polygon",t},updateObj:function(e,n){var r=n.coords,i=n.capColor,a=n.capMaterial,o=n.sideColor,s=n.sideMaterial,l=n.strokeColor,u=n.altitude,c=n.capCurvatureResolution,h=hy(e.children,2),f=h[0],A=h[1],d=!!l;if(A.visible=d,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return function(t,e){return t===e}};return Object.entries(e).every((function(e){var r=hy(e,2),i=r[0],a=r[1];return t.hasOwnProperty(i)&&n(i)(t[i],a)}))}(f.geometry.parameters||{},{polygonGeoJson:r,curvatureResolution:c})||(f.geometry&&f.geometry.dispose(),f.geometry=new Cv(r,0,by,!1,!0,!0,c)),!d||A.geometry.parameters&&A.geometry.parameters.geoJson.coordinates===r&&A.geometry.parameters.resolution===c||(A.geometry&&A.geometry.dispose(),A.geometry=new Yc({type:"Polygon",coordinates:r},by,c)),f.material[0]=s||e.__defaultSideMaterial,f.material[1]=a||e.__defaultCapMaterial,[!s&&o,!a&&i].forEach((function(t,e){if(t){var n=f.material[e],r=Ny(t);n.color.set(Ry(t)),n.transparent=r<1,n.opacity=r}})),d){var p=A.material,m=Ny(l);p.color.set(Ry(l)),p.transparent=m<1,p.opacity=m}var v={alt:u},g=function(t){var n=(e.__currentTargetD=t).alt;f.scale.x=f.scale.y=f.scale.z=1+n,d&&(A.scale.x=A.scale.y=A.scale.z=1+n+1e-4)},y=e.__currentTargetD||Object.assign({},v,{alt:-.001});Object.keys(v).some((function(t){return y[t]!==v[t]}))&&(!t.polygonsTransitionDuration||t.polygonsTransitionDuration<0||y.alt===v.alt?g(v):new Xu(y).to(v,t.polygonsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(g).start())}})}});var tb=window.THREE?window.THREE:{BufferGeometry:mr,DoubleSide:2,Mesh:Or,MeshLambertMaterial:rl},eb=Object.assign({},r),nb=eb.BufferGeometryUtils||eb,rb=zu({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonCurvatureResolution:{default:5},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.hexPolygonGeoJsonGeometry),n=gh(t.hexPolygonColor),r=gh(t.hexPolygonAltitude),i=gh(t.hexPolygonResolution),a=gh(t.hexPolygonMargin),o=gh(t.hexPolygonCurvatureResolution);Iy(t.hexPolygonsData,t.scene,{createObj:function(t){var e=new tb.Mesh(void 0,new tb.MeshLambertMaterial({side:tb.DoubleSide}));return e.__globeObjType="hexPolygon",e},updateObj:function(s,l){var u=e(l),c=i(l),h=r(l),f=Math.max(0,Math.min(1,+a(l))),A=o(l),d=n(l),p=Ny(d);s.material.color.set(Ry(d)),s.material.transparent=p<1,s.material.opacity=p;var m={alt:h,margin:f,curvatureResolution:A},v=s.__currentTargetD||Object.assign({},m,{alt:-.001});if(Object.keys(m).some((function(t){return v[t]!==m[t]}))){var g=[];"Polygon"===u.type?_g(u.coordinates,c,!0).forEach((function(t){return g.push(t)})):"MultiPolygon"===u.type?u.coordinates.forEach((function(t){return _g(t,c,!0).forEach((function(t){return g.push(t)}))})):console.warn("Unsupported GeoJson geometry type: ".concat(u.type,". Skipping geometry..."));var y=g.map((function(t){var e=yg(t),n=bg(t,!0).reverse(),r=e[1];return n.forEach((function(t){var e=t[0];Math.abs(r-e)>170&&(t[0]+=r>e?360:-360)})),{h3Idx:t,hexCenter:e,hexGeoJson:n}})),b=function(t){var e=s.__currentTargetD=t,n=e.alt,r=e.margin,i=e.curvatureResolution;s.geometry&&s.geometry.dispose(),s.geometry=y.length?(nb.mergeGeometries||nb.mergeBufferGeometries)(y.map((function(t){var e=hy(t.hexCenter,2),a=e[0],o=e[1],s=0===r?t.hexGeoJson:t.hexGeoJson.map((function(t){var e=hy(t,2),n=e[0],i=e[1];return[[n,o],[i,a]].map((function(t){var e=hy(t,2);return function(t,e,n){return t-(t-e)*n}(e[0],e[1],r)}))}));return new Cv([s],by,by*(1+n),!1,!0,!1,i)}))):new tb.BufferGeometry};!t.hexPolygonsTransitionDuration||t.hexPolygonsTransitionDuration<0?b(m):new Xu(v).to(m,t.hexPolygonsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(b).start()}}})}}),ib=window.THREE?window.THREE:{Vector3:Ne};function ab(t,e){var n=Math.max(t.length,e.length),r=vA.apply(void 0,fy([t,e].map((function(t){return t.map((function(t){return[t.x,t.y,t.z]}))})).map((function(t){return function(t,e){var n=t[t.length-1];return[].concat(fy(t),fy(fy(new Array(e-t.length)).map((function(){return n}))))}(t,n)}))));return function(n){return 0===n?t:1===n?e:r(n).map((function(t){var e=hy(t,3),n=e[0],r=e[1],i=e[2];return new ib.Vector3(n,r,i)}))}}var ob=window.THREE?window.THREE:{BufferGeometry:mr,Color:tr,Float32BufferAttribute:lr,Group:To,Line:Wo,NormalBlending:1,ShaderMaterial:zr,Vector3:Ne},sb=pf.default||pf,lb=(new ob.BufferGeometry).setAttribute?"setAttribute":"addAttribute",ub={uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:"\n    uniform float dashTranslate;\n\n    attribute vec4 vertexColor;\n    varying vec4 vColor;\n\n    attribute float vertexRelDistance;\n    varying float vRelDistance;\n\n    void main() {\n      // pass through colors and distances\n      vColor = vertexColor;\n      vRelDistance = vertexRelDistance + dashTranslate;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float dashOffset;\n    uniform float dashSize;\n    uniform float gapSize;\n\n    varying vec4 vColor;\n    varying float vRelDistance;\n\n    void main() {\n      // ignore pixels in the gap\n      if (vRelDistance < dashOffset) discard;\n      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;\n\n      // set px color: [r, g, b, a], interpolated between vertices\n      gl_FragColor = vColor;\n    }\n  "},cb=zu({props:{pathsData:{default:[]},pathPoints:{default:function(t){return t}},pathPointLat:{default:function(t){return t[0]}},pathPointLng:{default:function(t){return t[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.pause()},resumeAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.resume()},_destructor:function(t){var e;null===(e=t.ticker)||void 0===e||e.dispose()}},init:function(t,e){gy(t),e.scene=t,e.ticker=new sb,e.ticker.onTick.add((function(t,n){e.pathsData.filter((function(t){return t.__threeObj&&t.__threeObj.children.length&&t.__threeObj.children[0].material&&t.__threeObj.children[0].__dashAnimateStep})).forEach((function(t){var e=t.__threeObj.children[0],r=e.__dashAnimateStep*n;if("Line"===e.type){var i=e.material.uniforms.dashTranslate.value%1e9;e.material.uniforms.dashTranslate.value=i+r}else if("Line2"===e.type){for(var a=e.material.dashOffset-r,o=e.material.dashSize+e.material.gapSize;a<=-o;)a+=o;e.material.dashOffset=a}}))}))},update:function(t){var e=gh(t.pathPoints),n=gh(t.pathPointLat),r=gh(t.pathPointLng),i=gh(t.pathPointAlt),a=gh(t.pathStroke),o=gh(t.pathColor),s=gh(t.pathDashLength),l=gh(t.pathDashGap),u=gh(t.pathDashInitialGap),c=gh(t.pathDashAnimateTime),h=new ob.ShaderMaterial(Jg(Jg({},ub),{},{transparent:!0,blending:ob.NormalBlending}));function f(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e+1;if(t instanceof Array||t instanceof Function){var o=t instanceof Array?JA().domain(t.map((function(e,n){return n/(t.length-1)}))).range(t):t;n=function(t){return Oy(o(t),i)}}else{var s=Oy(t,i);n=function(){return s}}for(var l=i?4:3,u=new ob.Float32BufferAttribute(a*l*r,l),c=0,h=a;c<h;c++)for(var f=n(c/(h-1)),A=0;A<r;A++)u.set(f,(c*r+A)*l);return u}Iy(t.pathsData,t.scene,{createObj:function(){var t=new ob.Group;return t.__globeObjType="path",t},updateObj:function(A,d){var p=a(d),m=null!==p&&void 0!==p;if(!A.children.length||m===("Line"===A.children[0].type)){gy(A);var v=m?new Vg(new Gg,new kg):new ob.Line(new ob.BufferGeometry,h.clone());A.add(v)}var g=A.children[0],y=function(t,e,n,r,i){var a=function(t,e,n){for(var r=[],i=1;i<=n;i++)r.push(t+(e-t)*i/(n+1));return r},o=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=[],n=null;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(r){if(n){for(;Math.abs(n[1]-r[1])>180;)n[1]+=360*(n[1]<r[1]?1:-1);var i=Math.sqrt(Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2));if(i>t)for(var o=Math.floor(i/t),s=a(n[0],r[0],o),l=a(n[1],r[1],o),u=a(n[2],r[2],o),c=0,h=s.length;c<h;c++)e.push([s[c],l[c],u[c]])}e.push(n=r)})),e},s=function(t){var e=hy(t,3),n=xy(e[0],e[1],e[2]),r=n.x,i=n.y,a=n.z;return new ob.Vector3(r,i,a)};return o(t.map((function(t){return[e(t),n(t),r(t)]})),i).map(s)}(e(d),n,r,i,t.pathResolution),b=c(d);if(g.__dashAnimateStep=b>0?1e3/b:0,m){g.material.resolution=t.rendererSize;var _=s(d),x=l(d),w=u(d);g.material.dashed=x>0,g.material.dashed?g.material.defines.USE_DASH="":delete g.material.defines.USE_DASH,g.material.dashed&&(g.material.dashScale=1/function(t){var e,n=0;return t.forEach((function(t){e&&(n+=e.distanceTo(t)),e=t})),n}(y),g.material.dashSize=_,g.material.gapSize=x,g.material.dashOffset=-w);var S=o(d);if(S instanceof Array){var M=f(o(d),y.length-1,1,!1);g.geometry.setColors(M.array),g.material.vertexColors=!0}else{var E=S,T=Ny(E);g.material.color=new ob.Color(Ry(E)),g.material.transparent=T<1,g.material.opacity=T,g.material.vertexColors=!1}g.material.needsUpdate=!0}else{Object.assign(g.material.uniforms,{dashSize:{value:s(d)},gapSize:{value:l(d)},dashOffset:{value:u(d)}});var P=f(o(d),y.length),k=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t+1,i=r*e,a=new ob.Float32BufferAttribute(i,1),o=0,s=r;o<s;o++)for(var l=o/(s-1),u=0;u<e;u++){var c=o*e+u,h=n?i-1-c:c;a.setX(h,l)}return a}(y.length,1,!0);g.geometry[lb]("vertexColor",P),g.geometry[lb]("vertexRelDistance",k)}var L=ab(d.__currentTargetD&&d.__currentTargetD.points||[y[0]],y),C=function(t){var e,n=d.__currentTargetD=t,r=n.stroke,i=n.interpolK,a=d.__currentTargetD.points=L(i);m?(g.geometry.setPositions((e=[]).concat.apply(e,fy(a.map((function(t){return[t.x,t.y,t.z]}))))),g.material.linewidth=r,g.material.dashed&&g.computeLineDistances()):(g.geometry.setFromPoints(a),g.geometry.computeBoundingSphere())},R={stroke:p,interpolK:1},N=Object.assign({},d.__currentTargetD||R,{interpolK:0});Object.keys(R).some((function(t){return N[t]!==R[t]}))&&(!t.pathTransitionDuration||t.pathTransitionDuration<0?C(R):new Xu(N).to(R,t.pathTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(C).start())}})}}),hb=window.THREE?window.THREE:{Euler:bn,Mesh:Or,MeshLambertMaterial:rl,SphereGeometry:Js},fb=zu({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new hb.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.tileLat),n=gh(t.tileLng),r=gh(t.tileAltitude),i=gh(t.tileWidth),a=gh(t.tileHeight),o=gh(t.tileUseGlobeProjection),s=gh(t.tileMaterial),l=gh(t.tileCurvatureResolution);Iy(t.tilesData,t.scene,{createObj:function(){var t=new hb.Mesh;return t.__globeObjType="tile",t},updateObj:function(u,c){u.material=s(c);var h=o(c),f=l(c),A=function(t){var e=u.__currentTargetD=t,n=e.lat,r=e.lng,i=e.alt,a=e.width,o=e.height,s=Ab(r),l=Ab(-n);u.geometry&&u.geometry.dispose(),u.geometry=new hb.SphereGeometry(by*(1+i),Math.ceil(a/(f||-1)),Math.ceil(o/(f||-1)),Ab(90-a/2)+(h?s:0),Ab(a),Ab(90-o/2)+(h?l:0),Ab(o)),h||u.setRotationFromEuler(new hb.Euler(l,s,0,"YXZ"))},d={lat:+e(c),lng:+n(c),alt:+r(c),width:+i(c),height:+a(c)},p=u.__currentTargetD||Object.assign({},d,{width:0,height:0});Object.keys(d).some((function(t){return p[t]!==d[t]}))&&(!t.tilesTransitionDuration||t.tilesTransitionDuration<0?A(d):new Xu(p).to(d,t.tilesTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(A).start())}})}}),Ab=function(t){return t*Math.PI/180},db={glyphs:{0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},"\u03bf":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"\xa6":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},"\u03a4":{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},"\u03a0":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},"\u0390":{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"\xb2":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"\u2013":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},"\u039a":{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},"\u0192":{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},"\u03cc":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"\xbb":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"\xa9":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},"\u03ce":{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"\xab":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"\u2219":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"\xff":{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},"\xb5":{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},"\u0399":{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},"\u038e":{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u2019":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"\u039d":{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},"\u03c2":{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},"\u03a8":{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},"\u03b9":{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},"\u0386":{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},"\u03b5":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},"\u0394":{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"\u2030":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"\u2014":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},"\u03c1":{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"\xaf":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},"\u0397":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"\u0391":{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"\u2026":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"\u03bd":{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"\xb6":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},"\u03b2":{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},"\u039c":{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},"\u038c":{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u0389":{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u2022":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"\xa5":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},"\u03b3":{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},"\u03b1":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"\xad":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"\u03a7":{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"\u2020":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"\xb0":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},"\u039e":{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"\xa0":{x_min:0,x_max:0,ha:853},"\u03ab":{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"\u201d":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},"\u038a":{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},"\u0392":{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},"\u03c5":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},"\u03c7":{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},"\u03af":{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},"\u0396":{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"\xa8":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"\u2039":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"\u201e":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},"\u03b4":{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},"\u03ad":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},"\u03c9":{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"\xb4":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"\xb1":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"\u03cb":{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"\xa7":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},"\u03a9":{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},"\u03cd":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"\u2122":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},"\u03ae":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},"\u0398":{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"\xae":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},"\u0395":{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"\xb3":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},"\u03c3":{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},"\u03b6":{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},"\u03b8":{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},"\u039f":{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},"\u0393":{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},"\u0388":{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"\u038f":{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},"\u03aa":{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"\xbd":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},"\u03a1":{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"\xaa":{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"\u0385":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},"\u03a6":{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"\u204b":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},"\u03a3":{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"\u203a":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"\xa3":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"\xac":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},"\u03bb":{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},"\u03c4":{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},"\u03be":{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},"\u039b":{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},"\u03b0":{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"\xb7":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"\u03a5":{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},"\u03bc":{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"\u03c6":{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"\u201c":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"\u2018":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},"\u03ca":{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},"\u03c0":{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},"\u03ac":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"\xa4":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},"\u03ba":{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"\u2021":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},"\u03c8":{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},"\u03b7":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},cssFontWeight:"normal",ascender:1189,underlinePosition:-100,cssFontStyle:"normal",boundingBox:{yMin:-334,xMin:-111,yMax:1189,xMax:1672},resolution:1e3,original_font_information:{postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) \u039cagenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"\u039cagenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:'Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r\n\r\nThe above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r\n\r\nThe Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r\n\r\nThis License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r\n\r\nThe Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r\n\r\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.',manufacturer_name:"\u039cagenta ltd",font_sub_family_name:"Regular"},descender:-334,familyName:"Helvetiker",lineHeight:1522,underlineThickness:50},pb=Jg(Jg({},window.THREE?window.THREE:{CircleGeometry:ys,DoubleSide:2,Group:To,Mesh:Or,MeshLambertMaterial:rl,TextGeometry:Xg,Vector3:Ne}),{},{Font:Yg,TextGeometry:Xg}),mb=zu({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:0},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:db,onChange:function(t,e){e.font=new pb.Font(t)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t){var e=gh(t.labelLat),n=gh(t.labelLng),r=gh(t.labelAltitude),i=gh(t.labelText),a=gh(t.labelSize),o=gh(t.labelRotation),s=gh(t.labelColor),l=gh(t.labelIncludeDot),u=gh(t.labelDotRadius),c=gh(t.labelDotOrientation),h=new Set(["right","top","bottom"]),f=2*Math.PI*by/360,A=new pb.CircleGeometry(1,16);Iy(t.labelsData,t.scene,{createObj:function(){var t=new pb.MeshLambertMaterial;t.side=2;var e=new pb.Group;return e.add(new pb.Mesh(A,t)),e.add(new pb.Mesh(void 0,t)),e.__globeObjType="label",e},updateObj:function(A,d){var p=hy(A.children,2),m=p[0],v=p[1],g=s(d),y=Ny(g);v.material.color.set(Ry(g)),v.material.transparent=y<1,v.material.opacity=y;var b=l(d),_=c(d);!b||!h.has(_)&&(_="bottom");var x=b?+u(d)*f:1e-12;m.scale.x=m.scale.y=x;var w=+a(d)*f;if(v.geometry&&v.geometry.dispose(),v.geometry=new pb.TextGeometry(i(d),{font:t.font,size:w,height:0,curveSegments:t.labelResolution}),"right"!==_&&v.geometry.center(),b){var S=x+w/2;"right"===_&&(v.position.x=S),v.position.y={right:-w/2,top:S+w/2,bottom:-S-w/2}[_]}var M=function(e){var n=A.__currentTargetD=e,r=n.lat,i=n.lng,a=n.alt,o=n.rot,s=n.scale;Object.assign(A.position,xy(r,i,a)),A.lookAt(t.scene.localToWorld(new pb.Vector3(0,0,0))),A.rotateY(Math.PI),A.rotateZ(-o*Math.PI/180),A.scale.x=A.scale.y=A.scale.z=s},E={lat:+e(d),lng:+n(d),alt:+r(d),rot:+o(d),scale:1},T=A.__currentTargetD||Object.assign({},E,{scale:1e-12});Object.keys(E).some((function(t){return T[t]!==E[t]}))&&(!t.labelsTransitionDuration||t.labelsTransitionDuration<0?M(E):new Xu(T).to(E,t.labelsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(M).start())}})}}),vb=function(t){ry(n,t);var e=cy(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;$g(this,n),(t=e.call(this)).type="CircleLineGeometry",t.parameters={radius:r,segmentCount:i};for(var a=[],o=0;o<=i;o++){var s=(o/i-.25)*Math.PI*2;a.push({x:Math.cos(s)*r,y:Math.sin(s)*r,z:0})}return t.setFromPoints(a),t}return ey(n)}((window.THREE?window.THREE:{BufferGeometry:mr}).BufferGeometry),gb=window.THREE?window.THREE:{Color:tr,Group:To,Line:Wo,LineBasicMaterial:zo,Vector3:Ne},yb=pf.default||pf,bb=zu({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.pause()},resumeAnimation:function(t){var e;null===(e=t.ticker)||void 0===e||e.resume()},_destructor:function(t){var e;null===(e=t.ticker)||void 0===e||e.dispose()}},init:function(t,e){gy(t),e.scene=t,e.ticker=new yb,e.ticker.onTick.add((function(t){if(e.ringsData.length){var n=gh(e.ringColor),r=gh(e.ringAltitude),i=gh(e.ringMaxRadius),a=gh(e.ringPropagationSpeed),o=gh(e.ringRepeatPeriod);e.ringsData.filter((function(t){return t.__threeObj})).forEach((function(s){var l,u,c,h=s.__threeObj;if((h.__nextRingTime||0)<=t){var f=o(s)/1e3;h.__nextRingTime=t+(f<=0?1/0:f);var A,d=new gb.Line(new vb(1,e.ringResolution),new gb.LineBasicMaterial),p=n(s),m=p instanceof Array||p instanceof Function;m?p instanceof Array?(A=JA().domain(p.map((function(t,e){return e/(p.length-1)}))).range(p),d.material.transparent=p.some((function(t){return Ny(t)<1}))):(A=p,d.material.transparent=!0):(d.material.color=new gb.Color(Ry(p)),l=d.material,u=Ny(p),l.opacity=u,l.transparent=u<1,l.depthWrite=void 0===c?u>=1:c);var v=by*(1+r(s)),g=i(s),y=g*Math.PI/180,b=a(s),_=b<=0,x=function(t){var e=t.t,n=(_?1-e:e)*y;if(d.scale.x=d.scale.y=v*Math.sin(n),d.position.z=v*(1-Math.cos(n)),m){var r=A(e);d.material.color=new gb.Color(Ry(r)),d.material.transparent&&(d.material.opacity=Ny(r))}};if(0===b)x({t:0}),h.add(d);else{var w=1e3*Math.abs(g/b);new Xu({t:0}).to({t:1},w).onUpdate(x).onStart((function(){return h.add(d)})).onComplete((function(){h.remove(d),vy(d)})).start()}}}))}}))},update:function(t){var e=gh(t.ringLat),n=gh(t.ringLng),r=gh(t.ringAltitude),i=t.scene.localToWorld(new gb.Vector3(0,0,0));Iy(t.ringsData,t.scene,{createObj:function(){var t=new gb.Group;return t.__globeObjType="ring",t},updateObj:function(t,a){var o=e(a),s=n(a),l=r(a);Object.assign(t.position,xy(o,s,l)),t.lookAt(i)}},{removeDelay:3e4})}}),_b=Jg(Jg({},window.THREE?window.THREE:{}),{},{CSS2DObject:$l}),xb=zu({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(t,e){(e?[e]:t.htmlElementsData.map((function(t){return t.__threeObj})).filter((function(t){return t}))).forEach((function(e){return e.visible=!t.isBehindGlobe||!t.isBehindGlobe(e.position)}))}},init:function(t,e){gy(t),e.scene=t},update:function(t,e){var n=this,r=gh(t.htmlLat),i=gh(t.htmlLng),a=gh(t.htmlAltitude),o=gh(t.htmlElement);Iy(t.htmlElementsData,t.scene,{purge:e.hasOwnProperty("htmlElement"),createObj:function(t){var e=o(t),n=new _b.CSS2DObject(e);return n.__globeObjType="html",n},updateObj:function(e,o){var s=function(t){var r=e.__currentTargetD=t,i=r.alt,a=r.lat,o=r.lng;Object.assign(e.position,xy(a,o,i)),n.updateObjVisibility(e)},l={lat:+r(o),lng:+i(o),alt:+a(o)};!t.htmlTransitionDuration||t.htmlTransitionDuration<0||!e.__currentTargetD?s(l):new Xu(e.__currentTargetD).to(l,t.pointsTransitionDuration).easing(Zu.Quadratic.InOut).onUpdate(s).start()}})}}),wb=window.THREE?window.THREE:{Euler:bn,Group:To,Mesh:Or,MeshLambertMaterial:rl,SphereGeometry:Js},Sb=zu({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new wb.Mesh(new wb.SphereGeometry(1,16,8),new wb.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(t,e){gy(t),e.scene=t},update:function(t,e){var n=gh(t.objectLat),r=gh(t.objectLng),i=gh(t.objectAltitude),a=gh(t.objectFacesSurface),o=gh(t.objectRotation),s=gh(t.objectThreeObject);Iy(t.objectsData,t.scene,{purge:e.hasOwnProperty("objectThreeObject"),createObj:function(e){var n=s(e);t.objectThreeObject===n&&(n=n.clone());var r=new wb.Group;return r.add(n),r.__globeObjType="object",r},updateObj:function(t,e){var s=+n(e),l=+r(e),u=+i(e);Object.assign(t.position,xy(s,l,u)),a(e)?t.setRotationFromEuler(new bn(Sy(-s),Sy(l),0,"YXZ")):t.rotation.set(0,0,0);var c=t.children[0],h=o(e);h&&c.setRotationFromEuler(new bn(Sy(h.x||0),Sy(h.y||0),Sy(h.z||0)))}})}}),Mb=zu({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(t,e){gy(t),e.scene=t},update:function(t,e){t.customThreeObjectUpdate||gy(t.scene);var n=gh(t.customThreeObject),r=gh(t.customThreeObjectUpdate);Iy(t.customLayerData,t.scene,{purge:e.hasOwnProperty("customThreeObject"),createObj:function(e){var r=n(e,by);return r&&(t.customThreeObject===r&&(r=r.clone()),r.__globeObjType="custom"),r},updateObj:function(t,e){return r(t,e,by)}})}}),Eb=window.THREE?window.THREE:{Group:To,Vector2:se,Vector3:Ne},Tb=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","labelsLayer","ringsLayer","htmlElementsLayer","objectsLayer","customLayer"],Pb=yy("globeLayer",Cy),kb=Object.assign.apply(Object,fy(["globeImageUrl","bumpImageUrl","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map((function(t){return ny({},t,Pb.linkProp(t))})))),Lb=Object.assign.apply(Object,fy(["globeMaterial"].map((function(t){return ny({},t,Pb.linkMethod(t))})))),Cb=yy("pointsLayer",Uy),Rb=Object.assign.apply(Object,fy(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map((function(t){return ny({},t,Cb.linkProp(t))})))),Nb=yy("arcsLayer",Vy),Ob=Object.assign.apply(Object,fy(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map((function(t){return ny({},t,Nb.linkProp(t))})))),Ib=yy("hexBinLayer",Ky),Db=Object.assign.apply(Object,fy(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map((function(t){return ny({},t,Ib.linkProp(t))})))),Bb=yy("hexedPolygonsLayer",rb),qb=Object.assign.apply(Object,fy(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonCurvatureResolution","hexPolygonsTransitionDuration"].map((function(t){return ny({},t,Bb.linkProp(t))})))),Fb=yy("polygonsLayer",$y),Ub=Object.assign.apply(Object,fy(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map((function(t){return ny({},t,Fb.linkProp(t))})))),zb=yy("pathsLayer",cb),Zb=Object.assign.apply(Object,fy(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map((function(t){return ny({},t,zb.linkProp(t))})))),jb=yy("tilesLayer",fb),Hb=Object.assign.apply(Object,fy(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map((function(t){return ny({},t,jb.linkProp(t))})))),Gb=yy("labelsLayer",mb),Vb=Object.assign.apply(Object,fy(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map((function(t){return ny({},t,Gb.linkProp(t))})))),Wb=yy("ringsLayer",bb),Xb=Object.assign.apply(Object,fy(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map((function(t){return ny({},t,Wb.linkProp(t))})))),Yb=yy("htmlElementsLayer",xb),Qb=Object.assign.apply(Object,fy(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlTransitionDuration"].map((function(t){return ny({},t,Yb.linkProp(t))})))),Kb=yy("objectsLayer",Sb),Jb=Object.assign.apply(Object,fy(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map((function(t){return ny({},t,Kb.linkProp(t))})))),$b=yy("customLayer",Mb),t_=Object.assign.apply(Object,fy(["customLayerData","customThreeObject","customThreeObjectUpdate"].map((function(t){return ny({},t,$b.linkProp(t))})))),e_=zu({props:Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg(Jg({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Eb.Vector2(window.innerWidth,window.innerHeight),onChange:function(t,e){e.pathsLayer.rendererSize(t)},triggerUpdate:!1}},kb),Rb),Ob),Db),Ub),qb),Zb),Hb),Vb),Xb),Qb),Jb),t_),methods:Jg({getGlobeRadius:_y,getCoords:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return xy.apply(void 0,n)},toGeoCoords:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return wy.apply(void 0,n)},setPointOfView:function(t,e,n){var r=void 0;if(e){var i,a,o,s=_y(),l=n?e.clone().sub(n):e;r=function(t){void 0===i&&(i=l.length()),void 0===a&&(a=Math.sqrt(Math.pow(i,2)-Math.pow(s,2))),void 0===o&&(o=Math.acos(a/i));var e=l.distanceTo(t);if(e<a)return!1;var n=t.length();return Math.acos((Math.pow(i,2)+Math.pow(e,2)-Math.pow(n,2))/(2*i*e))<o}}t.layersThatNeedBehindGlobeChecker.forEach((function(t){return t.isBehindGlobe(r)}))},pauseAnimation:function(t){return null!==t.animationFrameRequestId&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),t.pausableLayers.forEach((function(t){var e;return null===(e=t.pauseAnimation)||void 0===e?void 0:e.call(t)})),this},resumeAnimation:function(t){return null===t.animationFrameRequestId&&this._animationCycle(),t.pausableLayers.forEach((function(t){var e;return null===(e=t.resumeAnimation)||void 0===e?void 0:e.call(t)})),this},_animationCycle:function(t){t.animationFrameRequestId=requestAnimationFrame(this._animationCycle),Qu()},_destructor:function(t){this.pauseAnimation(),t.destructableLayers.forEach((function(t){return t._destructor()}))}},Lb),stateInit:function(){var t={globeLayer:Cy(),pointsLayer:Uy(),arcsLayer:Vy(),hexBinLayer:Ky(),polygonsLayer:$y(),hexedPolygonsLayer:rb(),pathsLayer:cb(),tilesLayer:fb(),labelsLayer:mb(),ringsLayer:bb(),htmlElementsLayer:xb(),objectsLayer:Sb(),customLayer:Mb()};return Jg(Jg({},t),{},{layersThatNeedBehindGlobeChecker:Object.values(t).filter((function(t){return t.hasOwnProperty("isBehindGlobe")})),destructableLayers:Object.values(t).filter((function(t){return t.hasOwnProperty("_destructor")})),pausableLayers:Object.values(t).filter((function(t){return t.hasOwnProperty("pauseAnimation")}))})},init:function(t,e,n){var r=n.animateIn,i=void 0===r||r,a=n.waitForGlobeReady,o=void 0===a||a;gy(t),t.add(e.scene=new Eb.Group),e.scene.visible=!1,Tb.forEach((function(t){var n=new Eb.Group;e.scene.add(n),e[t](n)}));var s=function(){if(i){e.scene.scale.set(1e-6,1e-6,1e-6),new Xu({k:1e-6}).to({k:1},600).easing(Zu.Quadratic.Out).onUpdate((function(t){var n=t.k;return e.scene.scale.set(n,n,n)})).start();var t=new Eb.Vector3(0,1,0);new Xu({rot:2*Math.PI}).to({rot:0},1200).easing(Zu.Quintic.Out).onUpdate((function(n){var r=n.rot;return e.scene.setRotationFromAxisAngle(t,r)})).start()}e.scene.visible=!0,e.onGlobeReady&&e.onGlobeReady()};o?e.globeLayer.onReady(s):s(),this._animationCycle()},update:function(t){}});var n_=function(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(n){ry(i,n);var r=cy(i);function i(){var n;$g(this,i);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=r.call.apply(r,[this].concat(o))).__kapsuleInstance=t.apply(void 0,o).apply(void 0,[].concat(fy(e?[uy(n)]:[]),o)),n}return ey(i)}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object);return Object.keys(t()).forEach((function(t){return n.prototype[t]=function(){var e,n=(e=this.__kapsuleInstance)[t].apply(e,arguments);return n===this.__kapsuleInstance?this:n}})),n}(e_,(window.THREE?window.THREE:{Group:To}).Group,!0),r_={type:"change"},i_={type:"start"},a_={type:"end"},o_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;(0,k.Z)(this,n),i=e.call(this);var a=(0,S.Z)(i),o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};i.object=t,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.screen={left:0,top:0,width:0,height:0},i.rotateSpeed=1,i.zoomSpeed=1.2,i.panSpeed=.3,i.noRotate=!1,i.noZoom=!1,i.noPan=!1,i.staticMoving=!1,i.dynamicDampingFactor=.2,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.keys=["KeyA","KeyS","KeyD"],i.mouseButtons={LEFT:R.ROTATE,MIDDLE:R.DOLLY,RIGHT:R.PAN},i.target=new Ne;var s=1e-6,l=new Ne,u=1,c=o.NONE,h=o.NONE,f=0,A=0,d=0,p=new Ne,m=new se,v=new se,g=new Ne,y=new se,b=new se,_=new se,x=new se,w=[],M={};i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.up0=i.object.up.clone(),i.zoom0=i.object.zoom,i.handleResize=function(){var t=a.domElement.getBoundingClientRect(),e=a.domElement.ownerDocument.documentElement;a.screen.left=t.left+window.pageXOffset-e.clientLeft,a.screen.top=t.top+window.pageYOffset-e.clientTop,a.screen.width=t.width,a.screen.height=t.height};var E=function(){var t=new se;return function(e,n){return t.set((e-a.screen.left)/a.screen.width,(n-a.screen.top)/a.screen.height),t}}(),T=function(){var t=new se;return function(e,n){return t.set((e-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-n))/a.screen.width),t}}();function P(t){!1!==a.enabled&&(0===w.length&&(a.domElement.setPointerCapture(t.pointerId),a.domElement.addEventListener("pointermove",L),a.domElement.addEventListener("pointerup",C)),function(t){w.push(t)}(t),"touch"===t.pointerType?function(t){if(1===(F(t),w.length))c=o.TOUCH_ROTATE,v.copy(T(w[0].pageX,w[0].pageY)),m.copy(v);else{c=o.TOUCH_ZOOM_PAN;var e=w[0].pageX-w[1].pageX,n=w[0].pageY-w[1].pageY;A=f=Math.sqrt(e*e+n*n);var r=(w[0].pageX+w[1].pageX)/2,i=(w[0].pageY+w[1].pageY)/2;_.copy(E(r,i)),x.copy(_)}a.dispatchEvent(i_)}(t):function(t){if(c===o.NONE)switch(t.button){case a.mouseButtons.LEFT:c=o.ROTATE;break;case a.mouseButtons.MIDDLE:c=o.ZOOM;break;case a.mouseButtons.RIGHT:c=o.PAN}var e=h!==o.NONE?h:c;e!==o.ROTATE||a.noRotate?e!==o.ZOOM||a.noZoom?e!==o.PAN||a.noPan||(_.copy(E(t.pageX,t.pageY)),x.copy(_)):(y.copy(E(t.pageX,t.pageY)),b.copy(y)):(v.copy(T(t.pageX,t.pageY)),m.copy(v));a.dispatchEvent(i_)}(t))}function L(t){!1!==a.enabled&&("touch"===t.pointerType?function(t){if(1===(F(t),w.length))m.copy(v),v.copy(T(t.pageX,t.pageY));else{var e=function(t){var e=t.pointerId===w[0].pointerId?w[1]:w[0];return M[e.pointerId]}(t),n=t.pageX-e.x,r=t.pageY-e.y;A=Math.sqrt(n*n+r*r);var i=(t.pageX+e.x)/2,a=(t.pageY+e.y)/2;x.copy(E(i,a))}}(t):function(t){var e=h!==o.NONE?h:c;e!==o.ROTATE||a.noRotate?e!==o.ZOOM||a.noZoom?e!==o.PAN||a.noPan||x.copy(E(t.pageX,t.pageY)):b.copy(E(t.pageX,t.pageY)):(m.copy(v),v.copy(T(t.pageX,t.pageY)))}(t))}function C(t){!1!==a.enabled&&("touch"===t.pointerType?function(t){switch(w.length){case 0:c=o.NONE;break;case 1:c=o.TOUCH_ROTATE,v.copy(T(t.pageX,t.pageY)),m.copy(v);break;case 2:c=o.TOUCH_ZOOM_PAN;for(var e=0;e<w.length;e++)if(w[e].pointerId!==t.pointerId){var n=M[w[e].pointerId];v.copy(T(n.x,n.y)),m.copy(v);break}}a.dispatchEvent(a_)}(t):(c=o.NONE,a.dispatchEvent(a_)),q(t),0===w.length&&(a.domElement.releasePointerCapture(t.pointerId),a.domElement.removeEventListener("pointermove",L),a.domElement.removeEventListener("pointerup",C)))}function N(t){q(t)}function O(t){!1!==a.enabled&&(window.removeEventListener("keydown",O),h===o.NONE&&(t.code!==a.keys[o.ROTATE]||a.noRotate?t.code!==a.keys[o.ZOOM]||a.noZoom?t.code!==a.keys[o.PAN]||a.noPan||(h=o.PAN):h=o.ZOOM:h=o.ROTATE))}function I(){!1!==a.enabled&&(h=o.NONE,window.addEventListener("keydown",O))}function D(t){if(!1!==a.enabled&&!0!==a.noZoom){switch(t.preventDefault(),t.deltaMode){case 2:y.y-=.025*t.deltaY;break;case 1:y.y-=.01*t.deltaY;break;default:y.y-=25e-5*t.deltaY}a.dispatchEvent(i_),a.dispatchEvent(a_)}}function B(t){!1!==a.enabled&&t.preventDefault()}function q(t){delete M[t.pointerId];for(var e=0;e<w.length;e++)if(w[e].pointerId==t.pointerId)return void w.splice(e,1)}function F(t){var e=M[t.pointerId];void 0===e&&(e=new se,M[t.pointerId]=e),e.set(t.pageX,t.pageY)}return i.rotateCamera=function(){var t=new Ne,e=new Re,n=new Ne,r=new Ne,i=new Ne,o=new Ne;return function(){o.set(v.x-m.x,v.y-m.y,0);var s=o.length();s?(p.copy(a.object.position).sub(a.target),n.copy(p).normalize(),r.copy(a.object.up).normalize(),i.crossVectors(r,n).normalize(),r.setLength(v.y-m.y),i.setLength(v.x-m.x),o.copy(r.add(i)),t.crossVectors(o,p).normalize(),s*=a.rotateSpeed,e.setFromAxisAngle(t,s),p.applyQuaternion(e),a.object.up.applyQuaternion(e),g.copy(t),d=s):!a.staticMoving&&d&&(d*=Math.sqrt(1-a.dynamicDampingFactor),p.copy(a.object.position).sub(a.target),e.setFromAxisAngle(g,d),p.applyQuaternion(e),a.object.up.applyQuaternion(e)),m.copy(v)}}(),i.zoomCamera=function(){var t;c===o.TOUCH_ZOOM_PAN?(t=f/A,f=A,a.object.isPerspectiveCamera?p.multiplyScalar(t):a.object.isOrthographicCamera?(a.object.zoom=oe.clamp(a.object.zoom/t,a.minZoom,a.maxZoom),u!==a.object.zoom&&a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(t=1+(b.y-y.y)*a.zoomSpeed)&&t>0&&(a.object.isPerspectiveCamera?p.multiplyScalar(t):a.object.isOrthographicCamera?(a.object.zoom=oe.clamp(a.object.zoom/t,a.minZoom,a.maxZoom),u!==a.object.zoom&&a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),a.staticMoving?y.copy(b):y.y+=(b.y-y.y)*this.dynamicDampingFactor)},i.panCamera=function(){var t=new se,e=new Ne,n=new Ne;return function(){if(t.copy(x).sub(_),t.lengthSq()){if(a.object.isOrthographicCamera){var r=(a.object.right-a.object.left)/a.object.zoom/a.domElement.clientWidth,i=(a.object.top-a.object.bottom)/a.object.zoom/a.domElement.clientWidth;t.x*=r,t.y*=i}t.multiplyScalar(p.length()*a.panSpeed),n.copy(p).cross(a.object.up).setLength(t.x),n.add(e.copy(a.object.up).setLength(t.y)),a.object.position.add(n),a.target.add(n),a.staticMoving?_.copy(x):_.add(t.subVectors(x,_).multiplyScalar(a.dynamicDampingFactor))}}}(),i.checkDistances=function(){a.noZoom&&a.noPan||(p.lengthSq()>a.maxDistance*a.maxDistance&&(a.object.position.addVectors(a.target,p.setLength(a.maxDistance)),y.copy(b)),p.lengthSq()<a.minDistance*a.minDistance&&(a.object.position.addVectors(a.target,p.setLength(a.minDistance)),y.copy(b)))},i.update=function(){p.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.object.position.addVectors(a.target,p),a.object.isPerspectiveCamera?(a.checkDistances(),a.object.lookAt(a.target),l.distanceToSquared(a.object.position)>s&&(a.dispatchEvent(r_),l.copy(a.object.position))):a.object.isOrthographicCamera?(a.object.lookAt(a.target),(l.distanceToSquared(a.object.position)>s||u!==a.object.zoom)&&(a.dispatchEvent(r_),l.copy(a.object.position),u=a.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},i.reset=function(){c=o.NONE,h=o.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),p.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(r_),l.copy(a.object.position),u=a.object.zoom},i.dispose=function(){a.domElement.removeEventListener("contextmenu",B),a.domElement.removeEventListener("pointerdown",P),a.domElement.removeEventListener("pointercancel",N),a.domElement.removeEventListener("wheel",D),a.domElement.removeEventListener("pointermove",L),a.domElement.removeEventListener("pointerup",C),window.removeEventListener("keydown",O),window.removeEventListener("keyup",I)},i.domElement.addEventListener("contextmenu",B),i.domElement.addEventListener("pointerdown",P),i.domElement.addEventListener("pointercancel",N),i.domElement.addEventListener("wheel",D,{passive:!1}),window.addEventListener("keydown",O),window.addEventListener("keyup",I),i.handleResize(),i.update(),i}return(0,L.Z)(n)}(Vt),s_={type:"change"},l_={type:"start"},u_={type:"end"},c_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;(0,k.Z)(this,n),(i=e.call(this)).object=t,i.domElement=r,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new Ne,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:R.ROTATE,MIDDLE:R.DOLLY,RIGHT:R.PAN},i.touches={ONE:N,TWO:I},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return u.phi},i.getAzimuthalAngle=function(){return u.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(t){t.addEventListener("keydown",J),this._domElementKeyEvents=t},i.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",J),this._domElementKeyEvents=null},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(s_),a.update(),s=o.NONE},i.update=function(){var e=new Ne,n=(new Re).setFromUnitVectors(t.up,new Ne(0,1,0)),r=n.clone().invert(),i=new Ne,d=new Re,p=new Ne,m=2*Math.PI;return function(){var t=a.object.position;e.copy(t).sub(a.target),e.applyQuaternion(n),u.setFromVector3(e),a.autoRotate&&s===o.NONE&&T(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(u.theta+=c.theta*a.dampingFactor,u.phi+=c.phi*a.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);var v=a.minAzimuthAngle,g=a.maxAzimuthAngle;return isFinite(v)&&isFinite(g)&&(v<-Math.PI?v+=m:v>Math.PI&&(v-=m),g<-Math.PI?g+=m:g>Math.PI&&(g-=m),u.theta=v<=g?Math.max(v,Math.min(g,u.theta)):u.theta>(v+g)/2?Math.max(v,u.theta):Math.min(g,u.theta)),u.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(a.minDistance,Math.min(a.maxDistance,u.radius)),!0===a.enableDamping?a.target.addScaledVector(f,a.dampingFactor):a.target.add(f),e.setFromSpherical(u),e.applyQuaternion(r),t.copy(a.target).add(e),a.object.lookAt(a.target),!0===a.enableDamping?(c.theta*=1-a.dampingFactor,c.phi*=1-a.dampingFactor,f.multiplyScalar(1-a.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),h=1,!!(A||i.distanceToSquared(a.object.position)>l||8*(1-d.dot(a.object.quaternion))>l||p.distanceToSquared(a.target)>0)&&(a.dispatchEvent(s_),i.copy(a.object.position),d.copy(a.object.quaternion),p.copy(a.target),A=!1,!0)}}(),i.dispose=function(){a.domElement.removeEventListener("contextmenu",$),a.domElement.removeEventListener("pointerdown",X),a.domElement.removeEventListener("pointercancel",Q),a.domElement.removeEventListener("wheel",K),a.domElement.removeEventListener("pointermove",Y),a.domElement.removeEventListener("pointerup",Q),null!==a._domElementKeyEvents&&(a._domElementKeyEvents.removeEventListener("keydown",J),a._domElementKeyEvents=null)};var a=(0,S.Z)(i),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new Xl,c=new Xl,h=1,f=new Ne,A=!1,d=new se,p=new se,m=new se,v=new se,g=new se,y=new se,b=new se,_=new se,x=new se,w=[],M={};function E(){return Math.pow(.95,a.zoomSpeed)}function T(t){c.theta-=t}function P(t){c.phi-=t}var L=function(){var t=new Ne;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),f.add(t)}}(),C=function(){var t=new Ne;return function(e,n){!0===a.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(a.object.up,t)),t.multiplyScalar(e),f.add(t)}}(),B=function(){var t=new Ne;return function(e,n){var r=a.domElement;if(a.object.isPerspectiveCamera){var i=a.object.position;t.copy(i).sub(a.target);var o=t.length();o*=Math.tan(a.object.fov/2*Math.PI/180),L(2*e*o/r.clientHeight,a.object.matrix),C(2*n*o/r.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(L(e*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),C(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function q(t){a.object.isPerspectiveCamera?h/=t:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*t)),a.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function F(t){a.object.isPerspectiveCamera?h*=t:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/t)),a.object.updateProjectionMatrix(),A=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function U(t){d.set(t.clientX,t.clientY)}function z(t){v.set(t.clientX,t.clientY)}function Z(){if(1===w.length)d.set(w[0].pageX,w[0].pageY);else{var t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);d.set(t,e)}}function j(){if(1===w.length)v.set(w[0].pageX,w[0].pageY);else{var t=.5*(w[0].pageX+w[1].pageX),e=.5*(w[0].pageY+w[1].pageY);v.set(t,e)}}function H(){var t=w[0].pageX-w[1].pageX,e=w[0].pageY-w[1].pageY,n=Math.sqrt(t*t+e*e);b.set(0,n)}function G(t){if(1==w.length)p.set(t.pageX,t.pageY);else{var e=et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);p.set(n,r)}m.subVectors(p,d).multiplyScalar(a.rotateSpeed);var i=a.domElement;T(2*Math.PI*m.x/i.clientHeight),P(2*Math.PI*m.y/i.clientHeight),d.copy(p)}function V(t){if(1===w.length)g.set(t.pageX,t.pageY);else{var e=et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);g.set(n,r)}y.subVectors(g,v).multiplyScalar(a.panSpeed),B(y.x,y.y),v.copy(g)}function W(t){var e=et(t),n=t.pageX-e.x,r=t.pageY-e.y,i=Math.sqrt(n*n+r*r);_.set(0,i),x.set(0,Math.pow(_.y/b.y,a.zoomSpeed)),q(x.y),b.copy(_)}function X(t){!1!==a.enabled&&(0===w.length&&(a.domElement.setPointerCapture(t.pointerId),a.domElement.addEventListener("pointermove",Y),a.domElement.addEventListener("pointerup",Q)),function(t){w.push(t)}(t),"touch"===t.pointerType?function(t){switch(tt(t),w.length){case 1:switch(a.touches.ONE){case N:if(!1===a.enableRotate)return;Z(),s=o.TOUCH_ROTATE;break;case O:if(!1===a.enablePan)return;j(),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(a.touches.TWO){case I:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&H(),a.enablePan&&j(),s=o.TOUCH_DOLLY_PAN;break;case D:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&H(),a.enableRotate&&Z(),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(l_)}(t):function(t){var e;switch(t.button){case 0:e=a.mouseButtons.LEFT;break;case 1:e=a.mouseButtons.MIDDLE;break;case 2:e=a.mouseButtons.RIGHT;break;default:e=-1}switch(e){case R.DOLLY:if(!1===a.enableZoom)return;!function(t){b.set(t.clientX,t.clientY)}(t),s=o.DOLLY;break;case R.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===a.enablePan)return;z(t),s=o.PAN}else{if(!1===a.enableRotate)return;U(t),s=o.ROTATE}break;case R.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===a.enableRotate)return;U(t),s=o.ROTATE}else{if(!1===a.enablePan)return;z(t),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&a.dispatchEvent(l_)}(t))}function Y(t){!1!==a.enabled&&("touch"===t.pointerType?function(t){switch(tt(t),s){case o.TOUCH_ROTATE:if(!1===a.enableRotate)return;G(t),a.update();break;case o.TOUCH_PAN:if(!1===a.enablePan)return;V(t),a.update();break;case o.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(t){a.enableZoom&&W(t),a.enablePan&&V(t)}(t),a.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(t){a.enableZoom&&W(t),a.enableRotate&&G(t)}(t),a.update();break;default:s=o.NONE}}(t):function(t){switch(s){case o.ROTATE:if(!1===a.enableRotate)return;!function(t){p.set(t.clientX,t.clientY),m.subVectors(p,d).multiplyScalar(a.rotateSpeed);var e=a.domElement;T(2*Math.PI*m.x/e.clientHeight),P(2*Math.PI*m.y/e.clientHeight),d.copy(p),a.update()}(t);break;case o.DOLLY:if(!1===a.enableZoom)return;!function(t){_.set(t.clientX,t.clientY),x.subVectors(_,b),x.y>0?q(E()):x.y<0&&F(E()),b.copy(_),a.update()}(t);break;case o.PAN:if(!1===a.enablePan)return;!function(t){g.set(t.clientX,t.clientY),y.subVectors(g,v).multiplyScalar(a.panSpeed),B(y.x,y.y),v.copy(g),a.update()}(t)}}(t))}function Q(t){!function(t){delete M[t.pointerId];for(var e=0;e<w.length;e++)if(w[e].pointerId==t.pointerId)return void w.splice(e,1)}(t),0===w.length&&(a.domElement.releasePointerCapture(t.pointerId),a.domElement.removeEventListener("pointermove",Y),a.domElement.removeEventListener("pointerup",Q)),a.dispatchEvent(u_),s=o.NONE}function K(t){!1!==a.enabled&&!1!==a.enableZoom&&s===o.NONE&&(t.preventDefault(),a.dispatchEvent(l_),function(t){t.deltaY<0?F(E()):t.deltaY>0&&q(E()),a.update()}(t),a.dispatchEvent(u_))}function J(t){!1!==a.enabled&&!1!==a.enablePan&&function(t){var e=!1;switch(t.code){case a.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?P(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(0,a.keyPanSpeed),e=!0;break;case a.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?P(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(0,-a.keyPanSpeed),e=!0;break;case a.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?T(2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(a.keyPanSpeed,0),e=!0;break;case a.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?T(-2*Math.PI*a.rotateSpeed/a.domElement.clientHeight):B(-a.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),a.update())}(t)}function $(t){!1!==a.enabled&&t.preventDefault()}function tt(t){var e=M[t.pointerId];void 0===e&&(e=new se,M[t.pointerId]=e),e.set(t.pageX,t.pageY)}function et(t){var e=t.pointerId===w[0].pointerId?w[1]:w[0];return M[e.pointerId]}return a.domElement.addEventListener("contextmenu",$),a.domElement.addEventListener("pointerdown",X),a.domElement.addEventListener("pointercancel",Q),a.domElement.addEventListener("wheel",K,{passive:!1}),i.update(),i}return(0,L.Z)(n)}(Vt),h_={type:"change"},f_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;(0,k.Z)(this,n),(i=e.call(this)).object=t,i.domElement=r,i.enabled=!0,i.movementSpeed=1,i.rollSpeed=.005,i.dragToLook=!1,i.autoForward=!1;var a=(0,S.Z)(i),o=1e-6,s=new Re,l=new Ne;i.tmpQuaternion=new Re,i.status=0,i.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},i.moveVector=new Ne(0,0,0),i.rotationVector=new Ne(0,0,0),i.keydown=function(t){if(!t.altKey&&!1!==this.enabled){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},i.keyup=function(t){if(!1!==this.enabled){switch(t.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()}},i.pointerdown=function(t){if(!1!==this.enabled)if(this.dragToLook)this.status++;else{switch(t.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},i.pointermove=function(t){if(!1!==this.enabled&&(!this.dragToLook||this.status>0)){var e=this.getContainerDimensions(),n=e.size[0]/2,r=e.size[1]/2;this.moveState.yawLeft=-(t.pageX-e.offset[0]-n)/n,this.moveState.pitchDown=(t.pageY-e.offset[1]-r)/r,this.updateRotationVector()}},i.pointerup=function(t){if(!1!==this.enabled){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(t.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()}},i.contextMenu=function(t){!1!==this.enabled&&t.preventDefault()},i.update=function(t){if(!1!==this.enabled){var e=t*a.movementSpeed,n=t*a.rollSpeed;a.object.translateX(a.moveVector.x*e),a.object.translateY(a.moveVector.y*e),a.object.translateZ(a.moveVector.z*e),a.tmpQuaternion.set(a.rotationVector.x*n,a.rotationVector.y*n,a.rotationVector.z*n,1).normalize(),a.object.quaternion.multiply(a.tmpQuaternion),(l.distanceToSquared(a.object.position)>o||8*(1-s.dot(a.object.quaternion))>o)&&(a.dispatchEvent(h_),s.copy(a.object.quaternion),l.copy(a.object.position))}},i.updateMovementVector=function(){var t=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-t+this.moveState.back},i.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},i.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},i.dispose=function(){this.domElement.removeEventListener("contextmenu",u),this.domElement.removeEventListener("pointerdown",h),this.domElement.removeEventListener("pointermove",c),this.domElement.removeEventListener("pointerup",f),window.removeEventListener("keydown",A),window.removeEventListener("keyup",d)};var u=i.contextMenu.bind((0,S.Z)(i)),c=i.pointermove.bind((0,S.Z)(i)),h=i.pointerdown.bind((0,S.Z)(i)),f=i.pointerup.bind((0,S.Z)(i)),A=i.keydown.bind((0,S.Z)(i)),d=i.keyup.bind((0,S.Z)(i));return i.domElement.addEventListener("contextmenu",u),i.domElement.addEventListener("pointerdown",h),i.domElement.addEventListener("pointermove",c),i.domElement.addEventListener("pointerup",f),window.addEventListener("keydown",A),window.addEventListener("keyup",d),i.updateMovementVector(),i.updateRotationVector(),i}return(0,L.Z)(n)}(Vt),A_={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"},d_=function(){function t(){(0,k.Z)(this,t),this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return(0,L.Z)(t,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},{key:"dispose",value:function(){}}]),t}(),p_=new di(-1,1,1,-1,0,1),m_=new mr;m_.setAttribute("position",new lr([-1,3,0,-1,-1,0,3,-1,0],3)),m_.setAttribute("uv",new lr([0,2,0,0,2,0],2));var v_=function(){function t(e){(0,k.Z)(this,t),this._mesh=new Or(m_,e)}return(0,L.Z)(t,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(t){t.render(this._mesh,p_)}},{key:"material",get:function(){return this._mesh.material},set:function(t){this._mesh.material=t}}]),t}(),g_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;return(0,k.Z)(this,n),(i=e.call(this)).textureID=void 0!==r?r:"tDiffuse",t instanceof zr?(i.uniforms=t.uniforms,i.material=t):t&&(i.uniforms=Ur.clone(t.uniforms),i.material=new zr({name:void 0!==t.name?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:i.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),i.fsQuad=new v_(i.material),i}return(0,L.Z)(n,[{key:"render",value:function(t,e,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}},{key:"dispose",value:function(){this.material.dispose(),this.fsQuad.dispose()}}]),n}(d_),y_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r){var i;return(0,k.Z)(this,n),(i=e.call(this)).scene=t,i.camera=r,i.clear=!0,i.needsSwap=!1,i.inverse=!1,i}return(0,L.Z)(n,[{key:"render",value:function(t,e,n){var r,i,a=t.getContext(),o=t.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,r,4294967295),o.buffers.stencil.setClear(i),o.buffers.stencil.setLocked(!0),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(d_),b_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(){var t;return(0,k.Z)(this,n),(t=e.call(this)).needsSwap=!1,t}return(0,L.Z)(n,[{key:"render",value:function(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}]),n}(d_),__=function(){function t(e,n){if((0,k.Z)(this,t),this.renderer=e,this._pixelRatio=e.getPixelRatio(),void 0===n){var r=e.getSize(new se);this._width=r.width,this._height=r.height,(n=new ke(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:mt})).texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new g_(A_),this.copyPass.material.blending=0,this.clock=new Ol}return(0,L.Z)(t,[{key:"swapBuffers",value:function(){var t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}},{key:"addPass",value:function(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(t){var e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}},{key:"isLastEnabledPass",value:function(t){for(var e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}},{key:"render",value:function(t){void 0===t&&(t=this.clock.getDelta());for(var e=this.renderer.getRenderTarget(),n=!1,r=0,i=this.passes.length;r<i;r++){var a=this.passes[r];if(!1!==a.enabled){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),a.render(this.renderer,this.writeBuffer,this.readBuffer,t,n),a.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==y_&&(a instanceof y_?n=!0:a instanceof b_&&(n=!1))}}this.renderer.setRenderTarget(e)}},{key:"reset",value:function(t){if(void 0===t){var e=this.renderer.getSize(new se);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(t,e){this._width=t,this._height=e;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}},{key:"setPixelRatio",value:function(t){this._pixelRatio=t,this.setSize(this._width,this._height)}},{key:"dispose",value:function(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}]),t}(),x_=function(t){(0,M.Z)(n,t);var e=(0,E.Z)(n);function n(t,r,i,a,o){var s;return(0,k.Z)(this,n),(s=e.call(this)).scene=t,s.camera=r,s.overrideMaterial=i,s.clearColor=a,s.clearAlpha=void 0!==o?o:0,s.clear=!0,s.clearDepth=!1,s.needsSwap=!1,s._oldClearColor=new tr,s}return(0,L.Z)(n,[{key:"render",value:function(t,e,n){var r,i,a=t.autoClear;t.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),r=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),t.autoClear=a}}]),n}(d_),w_=n(7462),S_=n(4578),M_=n(8737);var E_=function(t){function e(e){var n;return n=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+e+" for more information.")||this,(0,S.Z)(n)}return(0,S_.Z)(e,t),e}((0,M_.Z)(Error));function T_(t){return Math.round(255*t)}function P_(t,e,n){return T_(t)+","+T_(e)+","+T_(n)}function k_(t,e,n,r){if(void 0===r&&(r=P_),0===e)return r(n,n,n);var i=(t%360+360)%360/60,a=(1-Math.abs(2*n-1))*e,o=a*(1-Math.abs(i%2-1)),s=0,l=0,u=0;i>=0&&i<1?(s=a,l=o):i>=1&&i<2?(s=o,l=a):i>=2&&i<3?(l=a,u=o):i>=3&&i<4?(l=o,u=a):i>=4&&i<5?(s=o,u=a):i>=5&&i<6&&(s=a,u=o);var c=n-a/2;return r(s+c,l+c,u+c)}var L_={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var C_=/^#[a-fA-F0-9]{6}$/,R_=/^#[a-fA-F0-9]{8}$/,N_=/^#[a-fA-F0-9]{3}$/,O_=/^#[a-fA-F0-9]{4}$/,I_=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,D_=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,B_=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,q_=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function F_(t){if("string"!==typeof t)throw new E_(3);var e=function(t){if("string"!==typeof t)return t;var e=t.toLowerCase();return L_[e]?"#"+L_[e]:t}(t);if(e.match(C_))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(R_)){var n=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:n}}if(e.match(N_))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(O_)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=I_.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var a=D_.exec(e.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])>1?parseFloat(""+a[4])/100:parseFloat(""+a[4])};var o=B_.exec(e);if(o){var s="rgb("+k_(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",l=I_.exec(s);if(!l)throw new E_(4,e,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var u=q_.exec(e.substring(0,50));if(u){var c="rgb("+k_(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",h=I_.exec(c);if(!h)throw new E_(4,e,c);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+u[4])>1?parseFloat(""+u[4])/100:parseFloat(""+u[4])}}throw new E_(5)}var U_=function(t){return 7===t.length&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t};function z_(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function Z_(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return U_("#"+z_(t)+z_(e)+z_(n));if("object"===typeof t&&void 0===e&&void 0===n)return U_("#"+z_(t.red)+z_(t.green)+z_(t.blue));throw new E_(6)}function j_(t,e,n,r){if("string"===typeof t&&"number"===typeof e){var i=F_(t);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}if("number"===typeof t&&"number"===typeof e&&"number"===typeof n&&"number"===typeof r)return r>=1?Z_(t,e,n):"rgba("+t+","+e+","+n+","+r+")";if("object"===typeof t&&void 0===e&&void 0===n&&void 0===r)return t.alpha>=1?Z_(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")";throw new E_(7)}function H_(t,e,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=e?t.apply(this,r):H_(t,e,r)}}function G_(t){return H_(t,t.length,[])}function V_(t,e,n){return Math.max(t,Math.min(e,n))}function W_(t,e){if("transparent"===e)return e;var n=F_(e),r="number"===typeof n.alpha?n.alpha:1;return j_((0,w_.Z)({},n,{alpha:V_(0,1,(100*r+100*parseFloat(t))/100)}))}var X_=G_(W_);function Y_(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,e)||J_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(t){return function(t){if(Array.isArray(t))return $_(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||J_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J_(t,e){if(t){if("string"===typeof t)return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$_(t,e):void 0}}function $_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}");var tx=window.THREE?window.THREE:{WebGLRenderer:Oo,Scene:Do,PerspectiveCamera:jr,Raycaster:Gl,SRGBColorSpace:Bt,TextureLoader:Sl,Vector2:se,Vector3:Ne,Box3:De,Color:tr,Mesh:Or,SphereGeometry:Js,MeshBasicMaterial:nr,BackSide:z,EventDispatcher:Vt,MOUSE:R,Quaternion:Re,Spherical:Xl,Clock:Ol},ex=zu({props:{width:{default:window.innerWidth,onChange:function(t,e,n){isNaN(t)&&(e.width=n)}},height:{default:window.innerHeight,onChange:function(t,e,n){isNaN(t)&&(e.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(t,e){e.hoverObj=null,e.toolTipElem&&(e.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(t){if(t.initialised){if(t.controls.update&&t.controls.update(t.clock.getDelta()),t.postProcessingComposer?t.postProcessingComposer.render():t.renderer.render(t.scene,t.camera),t.extraRenderers.forEach((function(e){return e.render(t.scene,t.camera)})),t.enablePointerInteraction){var e=null;if(t.hoverDuringDrag||!t.isPointerDragging){var n=this.intersectingObjects(t.pointerPos.x,t.pointerPos.y).filter((function(e){return t.hoverFilter(e.object)})).sort((function(e,n){return t.hoverOrderComparator(e.object,n.object)})),r=n.length?n[0]:null;e=r?r.object:null,t.intersectionPoint=r?r.point:null}e!==t.hoverObj&&(t.onHover(e,t.hoverObj),t.toolTipElem.innerHTML=e&&gh(t.tooltipContent)(e)||"",t.hoverObj=e)}Qu()}return this},getPointerPos:function(t){var e=t.pointerPos;return{x:e.x,y:e.y}},cameraPosition:function(t,e,n,r){var i=t.camera;if(e&&t.initialised){var a=e,o=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),l=h();new Xu(s).to(a,r).easing(Zu.Quadratic.Out).onUpdate(u).start(),new Xu(l).to(o,r/3).easing(Zu.Quadratic.Out).onUpdate(c).start()}else u(a),c(o);return this}return Object.assign({},i.position,{lookAt:h()});function u(t){var e=t.x,n=t.y,r=t.z;void 0!==e&&(i.position.x=e),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function c(e){var n=new tx.Vector3(e.x,e.y,e.z);t.controls.target?t.controls.target=n:i.lookAt(n)}function h(){return Object.assign(new tx.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return this.fitToBbox(this.getBbox.apply(this,i),e,n)},fitToBbox:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=t.camera;if(e){var a=new tx.Vector3(0,0,0),o=2*Math.max.apply(Math,K_(Object.entries(e).map((function(t){var e=Q_(t,2),n=e[0],r=e[1];return Math.max.apply(Math,K_(r.map((function(t){return Math.abs(a[n]-t)}))))})))),s=(1-2*r/t.height)*i.fov,l=o/Math.atan(s*Math.PI/180),u=l/i.aspect,c=Math.max(l,u);if(c>0){var h=a.clone().sub(i.position).normalize().multiplyScalar(-c);this.cameraPosition(h,a,n)}}return this},getBbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new tx.Box3(new tx.Vector3(0,0,0),new tx.Vector3(0,0,0)),r=t.objects.filter(e);return r.length?(r.forEach((function(t){return n.expandByObject(t)})),Object.assign.apply(Object,K_(["x","y","z"].map((function(t){return Y_({},t,[n.min[t],n.max[t]])}))))):null},getScreenCoords:function(t,e,n,r){var i=new tx.Vector3(e,n,r);return i.project(this.camera()),{x:(i.x+1)*t.width/2,y:-(i.y-1)*t.height/2}},getSceneCoords:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new tx.Vector2(e/t.width*2-1,-n/t.height*2+1),a=new tx.Raycaster;return a.setFromCamera(i,t.camera),Object.assign({},a.ray.at(r,new tx.Vector3))},intersectingObjects:function(t,e,n){var r=new tx.Vector2(e/t.width*2-1,-n/t.height*2+1),i=new tx.Raycaster;return i.params.Line.threshold=t.lineHoverPrecision,i.setFromCamera(r,t.camera),i.intersectObjects(t.objects,!0)},renderer:function(t){return t.renderer},scene:function(t){return t.scene},camera:function(t){return t.camera},postProcessingComposer:function(t){return t.postProcessingComposer},controls:function(t){return t.controls},tbControls:function(t){return t.controls}},stateInit:function(){return{scene:new tx.Scene,camera:new tx.PerspectiveCamera,clock:new tx.Clock}},init:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,a=n.rendererConfig,o=void 0===a?{}:a,s=n.extraRenderers,l=void 0===s?[]:s,u=n.waitForLoadComplete,c=void 0===u||u;t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.className="scene-container",e.container.style.position="relative",e.container.appendChild(e.navInfo=document.createElement("div")),e.navInfo.className="scene-nav-info",e.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",e.navInfo.style.display=e.showNavInfo?null:"none",e.toolTipElem=document.createElement("div"),e.toolTipElem.classList.add("scene-tooltip"),e.container.appendChild(e.toolTipElem),e.pointerPos=new tx.Vector2,e.pointerPos.x=-2,e.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(t){return e.container.addEventListener(t,(function(n){if("pointerdown"===t&&(e.isPointerPressed=!0),!e.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||e.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(t){return Math.abs(t)>1})))&&(e.isPointerDragging=!0),e.enablePointerInteraction){var r=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}}(e.container);e.pointerPos.x=n.pageX-r.left,e.pointerPos.y=n.pageY-r.top,e.toolTipElem.style.top="".concat(e.pointerPos.y,"px"),e.toolTipElem.style.left="".concat(e.pointerPos.x,"px"),e.toolTipElem.style.transform="translate(-".concat(e.pointerPos.x/e.width*100,"%, ").concat(e.height-e.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}}),{passive:!0})})),e.container.addEventListener("pointerup",(function(t){e.isPointerPressed=!1,e.isPointerDragging&&(e.isPointerDragging=!1,!e.clickAfterDrag)||requestAnimationFrame((function(){0===t.button&&e.onClick(e.hoverObj||null,t,e.intersectionPoint),2===t.button&&e.onRightClick&&e.onRightClick(e.hoverObj||null,t,e.intersectionPoint)}))}),{passive:!0,capture:!0}),e.container.addEventListener("contextmenu",(function(t){e.onRightClick&&t.preventDefault()})),e.renderer=new tx.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},o)),e.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),e.container.appendChild(e.renderer.domElement),e.extraRenderers=l,e.extraRenderers.forEach((function(t){t.domElement.style.position="absolute",t.domElement.style.top="0px",t.domElement.style.pointerEvents="none",e.container.appendChild(t.domElement)})),e.postProcessingComposer=new __(e.renderer),e.postProcessingComposer.addPass(new x_(e.scene,e.camera)),e.controls=new{trackball:o_,orbit:c_,fly:f_}[i](e.camera,e.renderer.domElement),"fly"===i&&(e.controls.movementSpeed=300,e.controls.rollSpeed=Math.PI/6,e.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(e.controls.minDistance=.1,e.controls.maxDistance=e.skyRadius,e.controls.addEventListener("start",(function(){e.controlsEngaged=!0})),e.controls.addEventListener("change",(function(){e.controlsEngaged&&(e.controlsDragging=!0)})),e.controls.addEventListener("end",(function(){e.controlsEngaged=!1,e.controlsDragging=!1}))),[e.renderer,e.postProcessingComposer].concat(K_(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix(),e.camera.position.z=1e3,e.scene.add(e.skysphere=new tx.Mesh),e.skysphere.visible=!1,e.loadComplete=e.scene.visible=!c,window.scene=e.scene},update:function(t,e){if(t.width&&t.height&&(e.hasOwnProperty("width")||e.hasOwnProperty("height"))&&(t.container.style.width="".concat(t.width,"px"),t.container.style.height="".concat(t.height,"px"),[t.renderer,t.postProcessingComposer].concat(K_(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix()),e.hasOwnProperty("skyRadius")&&t.skyRadius&&(t.controls.hasOwnProperty("maxDistance")&&e.skyRadius&&(t.controls.maxDistance=Math.min(t.controls.maxDistance,t.skyRadius)),t.camera.far=2.5*t.skyRadius,t.camera.updateProjectionMatrix(),t.skysphere.geometry=new tx.SphereGeometry(t.skyRadius)),e.hasOwnProperty("backgroundColor")){var n=F_(t.backgroundColor).alpha;void 0===n&&(n=1),t.renderer.setClearColor(new tx.Color(X_(1,t.backgroundColor)),n)}function r(){t.loadComplete=t.scene.visible=!0}e.hasOwnProperty("backgroundImageUrl")&&(t.backgroundImageUrl?(new tx.TextureLoader).load(t.backgroundImageUrl,(function(e){e.colorSpace=tx.SRGBColorSpace,t.skysphere.material=new tx.MeshBasicMaterial({map:e,side:tx.BackSide}),t.skysphere.visible=!0,t.onBackgroundImageLoaded&&setTimeout(t.onBackgroundImageLoaded),!t.loadComplete&&r()})):(t.skysphere.visible=!1,t.skysphere.material.map=null,!t.loadComplete&&r())),e.hasOwnProperty("showNavInfo")&&(t.navInfo.style.display=t.showNavInfo?null:"none"),e.hasOwnProperty("objects")&&((e.objects||[]).forEach((function(e){return t.scene.remove(e)})),t.objects.forEach((function(e){return t.scene.add(e)})))}});function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nx(Object(n),!0).forEach((function(e){ix(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ix(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ax(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ox(t){return function(t){if(Array.isArray(t))return sx(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sx(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lx(t,e){var n=new e;return{linkProp:function(e){return{default:n[e](),onChange:function(n,r){r[t][e](n)},triggerUpdate:!1}},linkMethod:function(e){return function(n){for(var r=n[t],i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s=r[e].apply(r,a);return s===r?this:s}}}}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".scene-container .clickable {\n  cursor: pointer;\n}");var ux=["rendererConfig","waitForGlobeReady"],cx=rx(rx({},window.THREE?window.THREE:{AmbientLight:Rl,DirectionalLight:Cl,Vector2:se}),{},{CSS2DRenderer:au}),hx=lx("globe",n_),fx=Object.assign.apply(Object,ox(["globeImageUrl","bumpImageUrl","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","globeMaterial","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonCurvatureResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map((function(t){return ix({},t,hx.linkProp(t))})))),Ax=Object.assign.apply(Object,ox(["getGlobeRadius","getCoords","toGeoCoords"].map((function(t){return ix({},t,hx.linkMethod(t))})))),dx=lx("renderObjs",ex),px=Object.assign.apply(Object,ox(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map((function(t){return ix({},t,dx.linkProp(t))})))),mx=Object.assign.apply(Object,ox(["postProcessingComposer"].map((function(t){return ix({},t,dx.linkMethod(t))})))),vx=zu({props:rx(rx({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1,onChange:function(t,e){return e.renderObjs.hoverFilter((function(e){return t(e,e.__data)}))}},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(t,e){return e.renderObjs.lineHoverPrecision(t)}}},fx),px),methods:rx(rx({pauseAnimation:function(t){var e;return null!==t.animationFrameRequestId&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),null===(e=t.globe)||void 0===e||e.pauseAnimation(),this},resumeAnimation:function(t){var e;return null===t.animationFrameRequestId&&this._animationCycle(),null===(e=t.globe)||void 0===e||e.resumeAnimation(),this},_animationCycle:function(t){t.renderObjs.tick(),t.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.globe.toGeoCoords(t.renderObjs.cameraPosition());if(void 0===e.lat&&void 0===e.lng&&void 0===e.altitude)return r;var i=Object.assign({},r,e);if(["lat","lng","altitude"].forEach((function(t){return i[t]=+i[t]})),n){for(;r.lng-i.lng>180;)r.lng-=360;for(;r.lng-i.lng<-180;)r.lng+=360;new Xu(r).to(i,n).easing(Zu.Cubic.InOut).onUpdate(a).start()}else a(i);return this;function a(e){var n=e.lat,r=e.lng,i=e.altitude;t.renderObjs.cameraPosition(t.globe.getCoords(n,r,i))}},getScreenCoords:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=(e=t.globe).getCoords.apply(e,r);return t.renderObjs.getScreenCoords(a.x,a.y,a.z)},toGlobeCoords:function(t,e,n){var r=t.renderObjs.intersectingObjects(e,n).find((function(t){return"globe"===t.object.__globeObjType}));if(!r)return null;var i=t.globe.toGeoCoords(r.point);return{lat:i.lat,lng:i.lng}},scene:function(t){return t.renderObjs.scene()},camera:function(t){return t.renderObjs.camera()},renderer:function(t){return t.renderObjs.renderer()},controls:function(t){return t.renderObjs.controls()},_destructor:function(t){t.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},Ax),mx),stateInit:function(t){var e=t.rendererConfig,n=t.waitForGlobeReady,r=void 0===n||n,i=ax(t,ux),a=new n_(rx({waitForGlobeReady:r},i));return{globe:a,renderObjs:ex({controlType:"orbit",rendererConfig:e,waitForLoadComplete:r,extraRenderers:[new cx.CSS2DRenderer]}).skyRadius(500*a.getGlobeRadius()).showNavInfo(!1)}},init:function(t,e){var n=this;t.innerHTML="",t.appendChild(e.container=document.createElement("div")),e.container.style.position="relative";var r=document.createElement("div");e.container.appendChild(r),e.renderObjs(r),e.globe.rendererSize(e.renderObjs.renderer().getSize(new cx.Vector2)),this.pointOfView({altitude:2.5});var i=e.globe.getGlobeRadius(),a=e.renderObjs.controls();a.minDistance=1.01*i,a.maxDistance=100*i,a.enablePan=!1,a.enableDamping=!0,a.dampingFactor=.1,a.rotateSpeed=.3,a.zoomSpeed=.3,a.addEventListener("change",(function(){var t=n.pointOfView();a.rotateSpeed=.2*t.altitude,a.zoomSpeed=.1*(t.altitude+1),e.globe.setPointOfView(e.renderObjs.camera().position),e.onZoom&&e.onZoom(t)}));var o=function(t){for(var e=t;e&&!e.hasOwnProperty("__globeObjType");)e=e.parent;return e},s={point:function(t){return t},arc:function(t){return t},polygon:function(t){return t.data},path:function(t){return t},hexbin:function(t){return t},hexPolygon:function(t){return t},tile:function(t){return t},label:function(t){return t},object:function(t){return t},custom:function(t){return t}};e.renderObjs.objects([new cx.AmbientLight(13421772),new cx.DirectionalLight(16777215,.6),e.globe]).hoverOrderComparator((function(t,e){var n=o(t),r=o(e),i=function(t){return!t};return i(n)-i(r)})).tooltipContent((function(t){var n={point:e.pointLabel,arc:e.arcLabel,polygon:e.polygonLabel,path:e.pathLabel,hexbin:e.hexLabel,hexPolygon:e.hexPolygonLabel,tile:e.tileLabel,label:e.labelLabel,object:e.objectLabel,custom:e.customLayerLabel},r=o(t),i=r&&r.__globeObjType;return r&&i&&n.hasOwnProperty(i)&&s.hasOwnProperty(i)&&gh(n[i])(s[i](r.__data))||""})).onHover((function(t){var n={point:e.onPointHover,arc:e.onArcHover,polygon:e.onPolygonHover,path:e.onPathHover,hexbin:e.onHexHover,hexPolygon:e.onHexPolygonHover,tile:e.onTileHover,label:e.onLabelHover,object:e.onObjectHover,custom:e.onCustomLayerHover},r={globe:e.onGlobeClick,point:e.onPointClick,arc:e.onArcClick,polygon:e.onPolygonClick,path:e.onPathClick,hexbin:e.onHexClick,hexPolygon:e.onHexPolygonClick,tile:e.onTileClick,label:e.onLabelClick,object:e.onObjectClick,custom:e.onCustomLayerClick},i=o(t);if(i&&!n.hasOwnProperty(i.__globeObjType)&&(i=null),i!==e.hoverObj){var a=e.hoverObj?e.hoverObj.__globeObjType:null,l=e.hoverObj?s[a](e.hoverObj.__data):null,u=i?i.__globeObjType:null,c=i?s[u](i.__data):null;a&&a!==u&&n[a]&&n[a](null,l),u&&n[u]&&n[u](c,a===u?l:null),e.renderObjs.renderer().domElement.classList[u&&r[u]?"add":"remove"]("clickable"),e.hoverObj=i}})).onClick((function(t,r,i){if(t){var a={globe:e.onGlobeClick,point:e.onPointClick,arc:e.onArcClick,polygon:e.onPolygonClick,path:e.onPathClick,hexbin:e.onHexClick,hexPolygon:e.onHexPolygonClick,tile:e.onTileClick,label:e.onLabelClick,object:e.onObjectClick,custom:e.onCustomLayerClick},l=o(t),u=l.__globeObjType;if(l&&a.hasOwnProperty(u)&&a[u]){var c=[r];if("globe"===u){var h=n.toGeoCoords(i),f=h.lat,A=h.lng;c.unshift({lat:f,lng:A})}else c.push(n.toGeoCoords(i));s.hasOwnProperty(u)&&c.unshift(s[u](l.__data)),a[u].apply(a,c)}}})).onRightClick((function(t,r,i){if(t){var a={globe:e.onGlobeRightClick,point:e.onPointRightClick,arc:e.onArcRightClick,polygon:e.onPolygonRightClick,path:e.onPathRightClick,hexbin:e.onHexRightClick,hexPolygon:e.onHexPolygonRightClick,tile:e.onTileRightClick,label:e.onLabelRightClick,object:e.onObjectRightClick,custom:e.onCustomLayerRightClick},l=o(t),u=l.__globeObjType;if(l&&a.hasOwnProperty(u)&&a[u]){var c=[r];if("globe"===u){var h=n.toGeoCoords(i),f=h.lat,A=h.lng;c.unshift({lat:f,lng:A})}else c.push(n.toGeoCoords(i));s.hasOwnProperty(u)&&c.unshift(s[u](l.__data)),a[u].apply(a,c)}}})),this._animationCycle()}}),gx=n(2007),yx={width:gx.number,height:gx.number,backgroundColor:gx.string,backgroundImageUrl:gx.string,globeImageUrl:gx.string,bumpImageUrl:gx.string,showGlobe:gx.bool,showGraticules:gx.bool,showAtmosphere:gx.bool,atmosphereColor:gx.string,atmosphereAltitude:gx.number,globeMaterial:gx.object,onGlobeReady:gx.func,onGlobeClick:gx.func,onGlobeRightClick:gx.func,pointsData:gx.arrayOf(gx.object),pointLat:gx.oneOfType([gx.number,gx.string,gx.func]),pointLng:gx.oneOfType([gx.number,gx.string,gx.func]),pointColor:gx.oneOfType([gx.string,gx.func]),pointAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),pointRadius:gx.oneOfType([gx.number,gx.string,gx.func]),pointResolution:gx.number,pointsMerge:gx.bool,pointsTransitionDuration:gx.number,pointLabel:gx.oneOfType([gx.string,gx.func]),onPointClick:gx.func,onPointRightClick:gx.func,onPointHover:gx.func,arcsData:gx.arrayOf(gx.object),arcStartLat:gx.oneOfType([gx.number,gx.string,gx.func]),arcStartLng:gx.oneOfType([gx.number,gx.string,gx.func]),arcEndLat:gx.oneOfType([gx.number,gx.string,gx.func]),arcEndLng:gx.oneOfType([gx.number,gx.string,gx.func]),arcColor:gx.oneOfType([gx.string,gx.arrayOf(gx.string),gx.func]),arcAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),arcAltitudeAutoScale:gx.oneOfType([gx.number,gx.string,gx.func]),arcStroke:gx.oneOfType([gx.number,gx.string,gx.func]),arcCurveResolution:gx.number,arcCircularResolution:gx.number,arcDashLength:gx.oneOfType([gx.number,gx.string,gx.func]),arcDashGap:gx.oneOfType([gx.number,gx.string,gx.func]),arcDashInitialGap:gx.oneOfType([gx.number,gx.string,gx.func]),arcDashAnimateTime:gx.oneOfType([gx.number,gx.string,gx.func]),arcsTransitionDuration:gx.number,arcLabel:gx.oneOfType([gx.string,gx.func]),onArcClick:gx.func,onArcRightClick:gx.func,onArcHover:gx.func,polygonsData:gx.arrayOf(gx.object),polygonGeoJsonGeometry:gx.oneOfType([gx.string,gx.func]),polygonCapColor:gx.oneOfType([gx.string,gx.func]),polygonCapMaterial:gx.oneOfType([gx.object,gx.string,gx.func]),polygonSideColor:gx.oneOfType([gx.string,gx.func]),polygonSideMaterial:gx.oneOfType([gx.object,gx.string,gx.func]),polygonStrokeColor:gx.oneOfType([gx.string,gx.func]),polygonAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),polygonCapCurvatureResolution:gx.oneOfType([gx.number,gx.string,gx.func]),polygonsTransitionDuration:gx.number,polygonLabel:gx.oneOfType([gx.string,gx.func]),onPolygonClick:gx.func,onPolygonRightClick:gx.func,onPolygonHover:gx.func,pathsData:gx.array,pathPoints:gx.oneOfType([gx.array,gx.string,gx.func]),pathPointLat:gx.oneOfType([gx.number,gx.string,gx.func]),pathPointLng:gx.oneOfType([gx.number,gx.string,gx.func]),pathPointAlt:gx.oneOfType([gx.number,gx.string,gx.func]),pathResolution:gx.number,pathColor:gx.oneOfType([gx.string,gx.arrayOf(gx.string),gx.func]),pathStroke:gx.oneOfType([gx.number,gx.string,gx.func]),pathDashLength:gx.oneOfType([gx.number,gx.string,gx.func]),pathDashGap:gx.oneOfType([gx.number,gx.string,gx.func]),pathDashInitialGap:gx.oneOfType([gx.number,gx.string,gx.func]),pathDashAnimateTime:gx.oneOfType([gx.number,gx.string,gx.func]),pathTransitionDuration:gx.number,pathLabel:gx.oneOfType([gx.string,gx.func]),onPathClick:gx.func,onPathRightClick:gx.func,onPathHover:gx.func,hexBinPointsData:gx.arrayOf(gx.object),hexBinPointLat:gx.oneOfType([gx.number,gx.string,gx.func]),hexBinPointLng:gx.oneOfType([gx.number,gx.string,gx.func]),hexBinPointWeight:gx.oneOfType([gx.number,gx.string,gx.func]),hexBinResolution:gx.number,hexMargin:gx.oneOfType([gx.number,gx.func]),hexTopColor:gx.func,hexSideColor:gx.func,hexAltitude:gx.oneOfType([gx.number,gx.func]),hexTopCurvatureResolution:gx.number,hexBinMerge:gx.bool,hexTransitionDuration:gx.number,hexLabel:gx.oneOfType([gx.string,gx.func]),onHexClick:gx.func,onHexRightClick:gx.func,onHexHover:gx.func,hexPolygonsData:gx.arrayOf(gx.object),hexPolygonGeoJsonGeometry:gx.oneOfType([gx.string,gx.func]),hexPolygonColor:gx.oneOfType([gx.string,gx.func]),hexPolygonAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),hexPolygonResolution:gx.oneOfType([gx.number,gx.string,gx.func]),hexPolygonMargin:gx.oneOfType([gx.number,gx.string,gx.func]),hexPolygonCurvatureResolution:gx.oneOfType([gx.number,gx.string,gx.func]),hexPolygonsTransitionDuration:gx.number,hexPolygonLabel:gx.oneOfType([gx.string,gx.func]),onHexPolygonClick:gx.func,onHexPolygonRightClick:gx.func,onHexPolygonHover:gx.func,tilesData:gx.arrayOf(gx.object),tileLat:gx.oneOfType([gx.number,gx.string,gx.func]),tileLng:gx.oneOfType([gx.number,gx.string,gx.func]),tileAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),tileWidth:gx.oneOfType([gx.number,gx.string,gx.func]),tileHeight:gx.oneOfType([gx.number,gx.string,gx.func]),tileUseGlobeProjection:gx.oneOfType([gx.bool,gx.string,gx.func]),tileMaterial:gx.oneOfType([gx.object,gx.string,gx.func]),tileCurvatureResolution:gx.oneOfType([gx.number,gx.string,gx.func]),tilesTransitionDuration:gx.number,tileLabel:gx.oneOfType([gx.string,gx.func]),onTileClick:gx.func,onTileRightClick:gx.func,onTileHover:gx.func,ringsData:gx.arrayOf(gx.object),ringLat:gx.oneOfType([gx.number,gx.string,gx.func]),ringLng:gx.oneOfType([gx.number,gx.string,gx.func]),ringAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),ringColor:gx.oneOfType([gx.string,gx.arrayOf(gx.string),gx.func]),ringResolution:gx.number,ringMaxRadius:gx.oneOfType([gx.number,gx.string,gx.func]),ringPropagationSpeed:gx.oneOfType([gx.number,gx.string,gx.func]),ringRepeatPeriod:gx.oneOfType([gx.number,gx.string,gx.func]),labelsData:gx.arrayOf(gx.object),labelLat:gx.oneOfType([gx.number,gx.string,gx.func]),labelLng:gx.oneOfType([gx.number,gx.string,gx.func]),labelAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),labelRotation:gx.oneOfType([gx.number,gx.string,gx.func]),labelText:gx.oneOfType([gx.string,gx.func]),labelSize:gx.oneOfType([gx.number,gx.string,gx.func]),labelTypeFace:gx.object,labelColor:gx.oneOfType([gx.string,gx.func]),labelResolution:gx.number,labelIncludeDot:gx.oneOfType([gx.bool,gx.string,gx.func]),labelDotRadius:gx.oneOfType([gx.number,gx.string,gx.func]),labelDotOrientation:gx.oneOfType([gx.string,gx.func]),labelsTransitionDuration:gx.number,labelLabel:gx.oneOfType([gx.string,gx.func]),onLabelClick:gx.func,onLabelRightClick:gx.func,onLabelHover:gx.func,htmlElementsData:gx.arrayOf(gx.object),htmlLat:gx.oneOfType([gx.number,gx.string,gx.func]),htmlLng:gx.oneOfType([gx.number,gx.string,gx.func]),htmlAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),htmlElement:gx.oneOfType([gx.string,gx.func]),htmlTransitionDuration:gx.number,objectsData:gx.arrayOf(gx.object),objectLat:gx.oneOfType([gx.number,gx.string,gx.func]),objectLng:gx.oneOfType([gx.number,gx.string,gx.func]),objectAltitude:gx.oneOfType([gx.number,gx.string,gx.func]),objectRotation:gx.oneOfType([gx.shape({x:gx.number,y:gx.number,z:gx.number}),gx.string,gx.func]),objectFacesSurface:gx.oneOfType([gx.bool,gx.string,gx.func]),objectThreeObject:gx.oneOfType([gx.object,gx.string,gx.func]),objectLabel:gx.oneOfType([gx.string,gx.func]),onObjectClick:gx.func,onObjectRightClick:gx.func,onObjectHover:gx.func,customLayerData:gx.arrayOf(gx.object),customThreeObject:gx.oneOfType([gx.object,gx.string,gx.func]),customThreeObjectUpdate:gx.oneOfType([gx.string,gx.func]),customLayerLabel:gx.oneOfType([gx.string,gx.func]),onCustomLayerClick:gx.func,onCustomLayerRightClick:gx.func,onCustomLayerHover:gx.func,enablePointerInteraction:gx.bool,pointerEventsFilter:gx.func,lineHoverPrecision:gx.number,onZoom:gx.func},bx=function(t,e){var n="object"===h(e)?e:{wrapperElementType:e,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},r=n.wrapperElementType,l=void 0===r?"div":r,u=n.nodeMapper,d=void 0===u?function(t){return t}:u,p=n.methodNames,v=void 0===p?[]:p,g=n.initPropNames,y=void 0===g?[]:g;return(0,i.forwardRef)((function(e,n){var r=(0,i.useRef)(),u=f((0,i.useState)({}),2),h=u[0],p=u[1];(0,i.useEffect)((function(){return p(e)}));var g=(0,i.useMemo)((function(){var n=c(y.filter((function(t){return e.hasOwnProperty(t)})).map((function(t){return[t,e[t]]})));return t(n)}),[]);m((function(){g(d(r.current))}),i.useLayoutEffect),m((function(){return g._destructor instanceof Function?g._destructor:void 0}));var b=(0,i.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return g[t]instanceof Function?g[t].apply(g,n):void 0}),[g]),_=function(t,e){var n=new Set(e);return Object.assign.apply(Object,[{}].concat(s(Object.entries(t).filter((function(t){var e=o(t,1)[0];return!n.has(e)})).map((function(t){var e=o(t,2);return a({},e[0],e[1])})))))}(e,[].concat(A(v),A(y)));return Object.keys(_).filter((function(t){return h[t]!==e[t]})).forEach((function(t){return b(t,e[t])})),(0,i.useImperativeHandle)(n,(function(){return c(v.map((function(t){return[t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return b.apply(void 0,[t].concat(n))}]})))})),i.createElement(l,{ref:r})}))}(vx,{methodNames:["pauseAnimation","resumeAnimation","pointOfView","scene","camera","renderer","postProcessingComposer","controls","getGlobeRadius","getCoords","getScreenCoords","toGeoCoords","toGlobeCoords"],initPropNames:["animateIn","waitForGlobeReady","rendererConfig"]});bx.displayName="Globe",bx.propTypes=yx},5259:function(t,e,n){"use strict";n.d(e,{$:function(){return u}});var r=n(5987),i=n(258),a=n(9359),o=n(150),s=n(8559),l=["children"],u=(0,i.Au)((function(t,e){t.children;var n=(0,r.Z)(t,l),i=new s.FeatureGroup([],n);return(0,a.O)(i,(0,o.sj)(e,{layerContainer:i,overlayContainer:i}))}))},4228:function(t,e,n){"use strict";n.d(e,{Q:function(){return u}});var r=n(5987),i=n(258),a=n(9359),o=n(150),s=n(8559),l=["data"],u=(0,i.Au)((function(t,e){var n=t.data,i=(0,r.Z)(t,l),u=new s.GeoJSON(n,i);return(0,a.O)(u,(0,o.sj)(e,{overlayContainer:u}))}),(function(t,e,n){e.style!==n.style&&(null==e.style?t.resetStyle():t.setStyle(e.style))}))},9961:function(t,e,n){"use strict";n.d(e,{h:function(){return h}});var r=n(9439),i=n(5987),a=n(150),o=n(8559),s=n(2791),l=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){var n=t.bounds,c=t.boundsOptions,h=t.center,f=t.children,A=t.className,d=t.id,p=t.placeholder,m=t.style,v=t.whenReady,g=t.zoom,y=(0,i.Z)(t,l),b=(0,s.useState)({className:A,id:d,style:m}),_=(0,r.Z)(b,1)[0],x=(0,s.useState)(null),w=(0,r.Z)(x,2),S=w[0],M=w[1];(0,s.useImperativeHandle)(e,(function(){var t;return null!==(t=null===S||void 0===S?void 0:S.map)&&void 0!==t?t:null}),[S]);var E=(0,s.useCallback)((function(t){if(null!==t&&null===S){var e=new o.Map(t,y);null!=h&&null!=g?e.setView(h,g):null!=n&&e.fitBounds(n,c),null!=v&&e.whenReady(v),M((0,a.Hb)(e))}}),[]);(0,s.useEffect)((function(){return function(){null===S||void 0===S||S.map.remove()}}),[S]);var T=S?s.createElement(a.UO,{value:S},f):null!==p&&void 0!==p?p:null;return s.createElement("div",u({},_,{ref:E}),T)}var h=(0,s.forwardRef)(c)},6379:function(t,e,n){"use strict";n.d(e,{j:function(){return a}});var r=n(258),i=n(8559),a=(0,r.vm)((function(t){return new i.Control.Scale(t)}))},6293:function(t,e,n){"use strict";n.d(e,{Sx:function(){return i}});var r=n(150);n(2791);function i(){return(0,r.mE)().map}}}]);
//# sourceMappingURL=398.e30bc03d.chunk.js.map